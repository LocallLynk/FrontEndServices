{"version":3,"file":"ej2-dropdowns.min.js","sources":["../../src/common/incremental-search.js","../../src/common/highlight-search.js","../../src/multi-select/float-label.js","../../src/common/virtual-scroll.js","../../src/drop-down-base/drop-down-base.js","../../src/drop-down-list/drop-down-list.js","../../src/drop-down-tree/drop-down-tree.js","../../src/combo-box/combo-box.js","../../src/auto-complete/auto-complete.js","../../src/multi-select/multi-select.js","../../src/multi-select/checkbox-selection.js","../../src/list-box/list-box.js","../../src/mention/mention.js","../../src/global.js"],"sourcesContent":["/**\n * IncrementalSearch module file\n */\nvar queryString = '';\nvar prevString = '';\nvar tempQueryString = '';\nvar matches = [];\nvar activeClass = 'e-active';\nvar prevElementId = '';\n/**\n * Search and focus the list item based on key code matches with list text content.\n *\n * @param {number} keyCode - Specifies the key code which pressed on keyboard events.\n * @param {HTMLElement[]} items - Specifies an array of HTMLElement, from which matches find has done.\n * @param {number} selectedIndex - Specifies the selected item in list item, so that search will happen after selected item otherwise it will do from initial.\n * @param {boolean} ignoreCase - Specifies the case consideration when search has done.\n * @param {string} elementId - Specifies the list element ID.\n * @param {boolean} [queryStringUpdated] - Optional parameter.\n * @param {string} [currentValue] - Optional parameter.\n * @param {boolean} [isVirtual] - Optional parameter.\n * @param {boolean} [refresh] - Optional parameter.\n * @returns {Element} Returns list item based on key code matches with list text content.\n */\nexport function incrementalSearch(keyCode, items, selectedIndex, ignoreCase, elementId, queryStringUpdated, currentValue, isVirtual, refresh) {\n    if (!queryStringUpdated || queryString === '') {\n        if (tempQueryString !== '') {\n            queryString = tempQueryString + String.fromCharCode(keyCode);\n            tempQueryString = '';\n        }\n        else {\n            queryString += String.fromCharCode(keyCode);\n        }\n    }\n    else if (queryString === prevString) {\n        tempQueryString = String.fromCharCode(keyCode);\n    }\n    if (isVirtual) {\n        setTimeout(function () {\n            tempQueryString = '';\n        }, 700);\n        setTimeout(function () {\n            queryString = '';\n        }, 3000);\n    }\n    else {\n        setTimeout(function () {\n            queryString = '';\n        }, 1000);\n    }\n    var index;\n    queryString = ignoreCase ? queryString.toLowerCase() : queryString;\n    if (prevElementId === elementId && prevString === queryString && !refresh) {\n        for (var i = 0; i < matches.length; i++) {\n            if (matches[i].classList.contains(activeClass)) {\n                index = i;\n                break;\n            }\n            if (currentValue && matches[i].textContent.toLowerCase() === currentValue.toLowerCase()) {\n                index = i;\n                break;\n            }\n        }\n        index = index + 1;\n        if (isVirtual) {\n            return matches[index] && matches.length - 1 !== index ? matches[index] : matches[matches.length];\n        }\n        return matches[index] ? matches[index] : matches[0];\n    }\n    else {\n        var listItems = items;\n        var strLength = queryString.length;\n        var text = void 0;\n        var item = void 0;\n        selectedIndex = selectedIndex ? selectedIndex + 1 : 0;\n        var i = selectedIndex;\n        matches = [];\n        do {\n            if (i === listItems.length) {\n                i = -1;\n            }\n            if (i === -1) {\n                index = 0;\n            }\n            else {\n                index = i;\n            }\n            item = listItems[index];\n            text = ignoreCase ? item.innerText.toLowerCase() : item.innerText;\n            if (text.substr(0, strLength) === queryString) {\n                matches.push(listItems[index]);\n            }\n            i++;\n        } while (i !== selectedIndex);\n        prevString = queryString;\n        prevElementId = elementId;\n        if (isVirtual) {\n            var indexUpdated = false;\n            for (var i_1 = 0; i_1 < matches.length; i_1++) {\n                if (currentValue && matches[i_1].textContent.toLowerCase() === currentValue.toLowerCase()) {\n                    index = i_1;\n                    indexUpdated = true;\n                    break;\n                }\n            }\n            if (currentValue && indexUpdated) {\n                index = index + 1;\n            }\n            return matches[index] ? matches[index] : matches[0];\n        }\n        return matches[0];\n    }\n}\n// eslint-disable-next-line valid-jsdoc\n/**\n * Search the list item based on given input value matches with search type.\n *\n * @param {string} inputVal - Specifies the given input value.\n * @param {HTMLElement[]} items - Specifies the list items.\n * @param {SearchType} searchType - Specifies the filter type.\n * @param {boolean} [ignoreCase=true] - Specifies the case sensitive option for search operation.\n * @param {(string | number | boolean | { [key: string]: Object })[]} [dataSource] - Specifies the data source.\n * @param {{ text: string, value: string }} [fields] - Specifies the fields.\n * @param {string} [type] - Specifies the type.\n * @returns {{ item: Element | null, index: number | null }} Returns the search matched items.\n */\nexport function Search(inputVal, items, searchType, ignoreCase, dataSource, fields, type) {\n    var listItems = items;\n    ignoreCase = ignoreCase !== undefined && ignoreCase !== null ? ignoreCase : true;\n    var itemData = { item: null, index: null };\n    if (inputVal && inputVal.length) {\n        var strLength = inputVal.length;\n        var queryStr = ignoreCase ? inputVal.toLocaleLowerCase() : inputVal;\n        queryStr = escapeCharRegExp(queryStr);\n        var _loop_1 = function (i, itemsData) {\n            var item = itemsData[i];\n            var filterValue;\n            if (items && dataSource) {\n                var checkField_1 = item;\n                var fieldValue_1 = fields.text.split('.');\n                dataSource.filter(function (data) {\n                    Array.prototype.slice.call(fieldValue_1).forEach(function (value) {\n                        /* eslint-disable security/detect-object-injection */\n                        if ((type === 'object' && !data.isHeader && checkField_1.textContent.toString().indexOf(data[value]) !== -1 && checkField_1.getAttribute('data-value') === data[fields.value].toString()) ||\n                            (type === 'string' && checkField_1.textContent.toString().indexOf(data) !== -1)) {\n                            filterValue = type === 'object' ? data[value] : data;\n                        }\n                    });\n                });\n            }\n            var text = dataSource && filterValue ? (ignoreCase ? filterValue.toString().toLocaleLowerCase() : filterValue).replace(/^\\s+|\\s+$/g, '') : (ignoreCase ? item.textContent.toLocaleLowerCase() : item.textContent).replace(/^\\s+|\\s+$/g, '');\n            /* eslint-disable security/detect-non-literal-regexp */\n            if ((searchType === 'Equal' && text === queryStr) || (searchType === 'StartsWith' && text.substr(0, strLength) === queryStr) || (searchType === 'EndsWith' && text.substr(text.length - queryStr.length) === queryStr) || (searchType === 'Contains' && new RegExp(queryStr, 'g').test(text))) {\n                itemData.item = item;\n                itemData.index = i;\n                return { value: { item: item, index: i } };\n            }\n        };\n        for (var i = 0, itemsData = listItems; i < itemsData.length; i++) {\n            var state_1 = _loop_1(i, itemsData);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        return itemData;\n        /* eslint-enable security/detect-non-literal-regexp */\n    }\n    return itemData;\n}\n/**\n * @param {string} value - The value to escape.\n * @returns {string} Returns the escaped string.\n */\nexport function escapeCharRegExp(value) {\n    return value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n/**\n * @param {string} elementId - The ID of the list element.\n * @returns {void}\n */\nexport function resetIncrementalSearchValues(elementId) {\n    if (prevElementId === elementId) {\n        prevElementId = '';\n        prevString = '';\n        queryString = '';\n        matches = [];\n    }\n}\n","/**\n * Function helps to find which highlightSearch is to call based on your data.\n *\n * @param  {HTMLElement} element - Specifies an li element.\n * @param  {string} query - Specifies the string to be highlighted.\n * @param  {boolean} ignoreCase - Specifies the ignoreCase option.\n * @param  {HightLightType} type - Specifies the type of highlight.\n * @returns {void}\n */\nexport function highlightSearch(element, query, ignoreCase, type) {\n    var isHtmlElement = /<[^>]*>/g.test(element.innerText);\n    if (isHtmlElement) {\n        element.innerText = element.innerText.replace(/[\\u00A0-\\u9999<>&]/g, function (match) { return \"&#\" + match.charCodeAt(0) + \";\"; });\n    }\n    if (query === '') {\n        return;\n    }\n    else {\n        var ignoreRegex = ignoreCase ? 'gim' : 'gm';\n        // eslint-disable-next-line\n        query = /^[a-zA-Z0-9- ]*$/.test(query) ? query : query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n        var replaceQuery = type === 'StartsWith' ? '^(' + query + ')' : type === 'EndsWith' ?\n            '(' + query + ')$' : '(' + query + ')';\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        findTextNode(element, new RegExp(replaceQuery, ignoreRegex));\n    }\n}\n/* eslint-enable jsdoc/require-param, valid-jsdoc */\n/**\n *\n * @param {HTMLElement} element - Specifies the element.\n * @param {RegExp} pattern - Specifies the regex to match the searched text.\n * @returns {void}\n */\nfunction findTextNode(element, pattern) {\n    for (var index = 0; element.childNodes && (index < element.childNodes.length); index++) {\n        if (element.childNodes[index].nodeType === 3 && element.childNodes[index].textContent.trim() !== '') {\n            var value = element.childNodes[index].nodeValue.trim().replace(pattern, '<span class=\"e-highlight\">$1</span>');\n            element.childNodes[index].nodeValue = '';\n            element.innerHTML = element.innerHTML.trim() + value;\n            break;\n        }\n        else {\n            findTextNode(element.childNodes[index], pattern);\n        }\n    }\n}\n/**\n * Function helps to remove highlighted element based on your data.\n *\n * @param  {HTMLElement} content - Specifies an content element.\n * @returns {void}\n */\nexport function revertHighlightSearch(content) {\n    var contentElement = content.querySelectorAll('.e-highlight');\n    for (var i = contentElement.length - 1; i >= 0; i--) {\n        var parent_1 = contentElement[i].parentNode;\n        var text = document.createTextNode(contentElement[i].textContent);\n        parent_1.replaceChild(text, contentElement[i]);\n    }\n}\n","/**\n * FloatLable Moduel\n * Specifies whether to display the floating label above the input element.\n */\nimport { removeClass, addClass, detach } from '@syncfusion/ej2-base';\nimport { attributes, isNullOrUndefined, createElement, getUniqueID } from '@syncfusion/ej2-base';\nvar FLOATLINE = 'e-float-line';\nvar FLOATTEXT = 'e-float-text';\nvar LABELTOP = 'e-label-top';\nvar LABELBOTTOM = 'e-label-bottom';\n/* eslint-disable valid-jsdoc */\n/**\n * Function to create Float Label element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLElement} searchWrapper - Search wrapper of multiselect.\n * @param {HTMLElement} element - The given html element.\n * @param {HTMLInputElement} inputElement - Specify the input wrapper.\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {FloatLabelType} floatLabelType - Specify the FloatLabel Type.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nexport function createFloatLabel(overAllWrapper, searchWrapper, element, inputElement, value, floatLabelType, placeholder) {\n    var floatLinelement = createElement('span', { className: FLOATLINE });\n    var floatLabelElement = createElement('label', { className: FLOATTEXT });\n    var id = element.getAttribute('id') ? element.getAttribute('id') : getUniqueID('ej2_multiselect');\n    element.id = id;\n    if (!isNullOrUndefined(element.id) && element.id !== '') {\n        floatLabelElement.id = 'label_' + element.id.replace(/ /g, '_');\n        floatLabelElement.setAttribute('for', element.id);\n        attributes(inputElement, { 'aria-labelledby': floatLabelElement.id });\n    }\n    if (!isNullOrUndefined(inputElement.placeholder) && inputElement.placeholder !== '') {\n        floatLabelElement.innerText = encodePlaceholder(inputElement.placeholder);\n        inputElement.removeAttribute('placeholder');\n    }\n    floatLabelElement.innerText = encodePlaceholder(placeholder);\n    searchWrapper.appendChild(floatLinelement);\n    searchWrapper.appendChild(floatLabelElement);\n    overAllWrapper.classList.add('e-float-input');\n    updateFloatLabelState(value, floatLabelElement);\n    if (floatLabelType === 'Always') {\n        if (floatLabelElement.classList.contains(LABELBOTTOM)) {\n            removeClass([floatLabelElement], LABELBOTTOM);\n        }\n        addClass([floatLabelElement], LABELTOP);\n    }\n}\n/**\n * Function to update status of the Float Label element.\n *\n * @param {string[] | number[] | boolean[]} value - Value of the MultiSelect.\n * @param {HTMLElement} label - Float label element.\n */\nexport function updateFloatLabelState(value, label) {\n    if (value && value.length > 0) {\n        addClass([label], LABELTOP);\n        removeClass([label], LABELBOTTOM);\n    }\n    else {\n        removeClass([label], LABELTOP);\n        addClass([label], LABELBOTTOM);\n    }\n}\n/**\n * Function to remove Float Label element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLDivElement} componentWrapper - Wrapper element of multiselect.\n * @param {HTMLElement} searchWrapper - Search wrapper of multiselect.\n * @param {HTMLInputElement} inputElement - Specify the input wrapper.\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {FloatLabelType} floatLabelType - Specify the FloatLabel Type.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nexport function removeFloating(overAllWrapper, componentWrapper, searchWrapper, inputElement, value, floatLabelType, placeholder) {\n    var placeholderElement = componentWrapper.querySelector('.' + FLOATTEXT);\n    var floatLine = componentWrapper.querySelector('.' + FLOATLINE);\n    var placeholderText;\n    if (!isNullOrUndefined(placeholderElement)) {\n        placeholderText = placeholderElement.innerText;\n        detach(searchWrapper.querySelector('.' + FLOATTEXT));\n        setPlaceHolder(value, inputElement, placeholderText);\n        if (!isNullOrUndefined(floatLine)) {\n            detach(searchWrapper.querySelector('.' + FLOATLINE));\n        }\n    }\n    else {\n        placeholderText = (placeholder !== null) ? placeholder : '';\n        setPlaceHolder(value, inputElement, placeholderText);\n    }\n    overAllWrapper.classList.remove('e-float-input');\n}\n/**\n * Function to set the placeholder to the element.\n *\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {HTMLInputElement} inputElement - Specify the input wrapper.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nexport function setPlaceHolder(value, inputElement, placeholder) {\n    if (value && value.length) {\n        inputElement.placeholder = '';\n    }\n    else {\n        inputElement.placeholder = placeholder;\n    }\n}\n/**\n * Function for focusing the Float Element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLDivElement} componentWrapper - Wrapper element of multiselect.\n */\nexport function floatLabelFocus(overAllWrapper, componentWrapper) {\n    overAllWrapper.classList.add('e-input-focus');\n    var label = componentWrapper.querySelector('.' + FLOATTEXT);\n    if (!isNullOrUndefined(label)) {\n        addClass([label], LABELTOP);\n        if (label.classList.contains(LABELBOTTOM)) {\n            removeClass([label], LABELBOTTOM);\n        }\n    }\n}\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/**\n * Function to focus the Float Label element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLDivElement} componentWrapper - Wrapper element of multiselect.\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {FloatLabelType} floatLabelType - Specify the FloatLabel Type.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nexport function floatLabelBlur(overAllWrapper, componentWrapper, value, floatLabelType, placeholder) {\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    overAllWrapper.classList.remove('e-input-focus');\n    var label = componentWrapper.querySelector('.' + FLOATTEXT);\n    if (value && value.length <= 0 && floatLabelType === 'Auto' && !isNullOrUndefined(label)) {\n        if (label.classList.contains(LABELTOP)) {\n            removeClass([label], LABELTOP);\n        }\n        addClass([label], LABELBOTTOM);\n    }\n}\nexport function encodePlaceholder(placeholder) {\n    var result = '';\n    if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n        var spanElement = document.createElement('span');\n        spanElement.innerHTML = '<input  placeholder=\"' + placeholder + '\"/>';\n        var hiddenInput = (spanElement.children[0]);\n        result = hiddenInput.placeholder;\n    }\n    return result;\n}\n/* eslint-enable valid-jsdoc */\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { EventHandler, Browser, select, isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { debounce, Touch } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll(parent) {\n        var _this = this;\n        this.sentinelInfo = {\n            'up': {\n                check: function (rect, info) {\n                    var top = rect.top - _this.containerElementRect.top;\n                    info.entered = top >= 0;\n                    return top + (_this.parent.listItemHeight * _this.parent.virtualItemCount / 2) >= 0;\n                },\n                axis: 'Y'\n            },\n            'down': {\n                check: function (rect, info) {\n                    var top = rect.bottom;\n                    info.entered = rect.bottom <= _this.containerElementRect.bottom;\n                    return top - (_this.parent.listItemHeight * _this.parent.virtualItemCount / 2)\n                        <= _this.parent.listItemHeight * _this.parent.virtualItemCount / 2;\n                }, axis: 'Y'\n            }\n        };\n        this.parent = parent;\n        this.removeEventListener();\n        this.addEventListener();\n    }\n    VirtualScroll.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('observe', this.observe, this);\n        this.parent.on('setGeneratedData', this.setGeneratedData, this);\n        this.parent.on('dataProcessAsync', this.dataProcessAsync, this);\n        this.parent.on('setCurrentViewDataAsync', this.setCurrentViewDataAsync, this);\n        this.parent.on('bindScrollEvent', this.bindScrollEvent, this);\n    };\n    VirtualScroll.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('observe', this.observe);\n        this.parent.off('setGeneratedData', this.setGeneratedData);\n        this.parent.off('dataProcessAsync', this.dataProcessAsync);\n        this.parent.off('setCurrentViewDataAsync', this.setCurrentViewDataAsync);\n        this.parent.off('bindScrollEvent', this.bindScrollEvent);\n    };\n    VirtualScroll.prototype.bindScrollEvent = function (component) {\n        var _this = this;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.component = component.component;\n        this.observe(function (scrollArgs) { return _this.scrollListener(scrollArgs); });\n    };\n    VirtualScroll.prototype.observe = function (callback) {\n        this.containerElementRect = this.parent.popupContentElement.getBoundingClientRect();\n        EventHandler.add(this.parent.popupContentElement, 'wheel mousedown', this.popupScrollHandler, this);\n        this.touchModule = new Touch(this.parent.popupContentElement, {\n            scroll: this.popupScrollHandler.bind(this)\n        });\n        EventHandler.add(this.parent.popupContentElement, 'scroll', this.virtualScrollHandler(callback), this);\n    };\n    VirtualScroll.prototype.getModuleName = function () {\n        return 'VirtualScroll';\n    };\n    VirtualScroll.prototype.popupScrollHandler = function () {\n        this.parent.isMouseScrollAction = true;\n        this.parent.isPreventScrollAction = false;\n    };\n    VirtualScroll.prototype.getPageQuery = function (query, virtualStartIndex, virtualEndIndex) {\n        if (virtualEndIndex !== 0 && !this.parent.allowFiltering && this.component !== 'autocomplete') {\n            query = query.skip(virtualStartIndex);\n        }\n        return query;\n    };\n    VirtualScroll.prototype.setGeneratedData = function (qStartIndex, recentlyGeneratedData) {\n        var loopIteration = 0;\n        var endIndex = this.parent.listData.length + this.parent.virtualItemStartIndex;\n        for (var i = this.parent.virtualItemStartIndex; i < endIndex; i++) {\n            var alreadyAddedData = this.parent.generatedDataObject[i];\n            if (!alreadyAddedData) {\n                if (recentlyGeneratedData !== null && this.parent.listData.slice(loopIteration, loopIteration + 1).length > 0) {\n                    var slicedData = this.parent.listData.slice(loopIteration, loopIteration + 1);\n                    if (slicedData.length > 0) {\n                        // Safely assign slicedData to this.parent.generatedDataObject[i]\n                        this.parent.generatedDataObject[i] = slicedData;\n                    }\n                }\n            }\n            loopIteration++;\n        }\n    };\n    VirtualScroll.prototype.generateAndExecuteQueryAsync = function (query, virtualItemStartIndex, virtualItemEndIndex, isQueryGenerated) {\n        if (virtualItemStartIndex === void 0) { virtualItemStartIndex = 0; }\n        if (virtualItemEndIndex === void 0) { virtualItemEndIndex = 0; }\n        if (isQueryGenerated === void 0) { isQueryGenerated = false; }\n        var dataSource = this.parent.dataSource;\n        if (!isQueryGenerated) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (!isNullOrUndefined(this.parent.query)) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var newQuery = this.removeSkipAndTakeEvents(this.parent.query.clone());\n                query = this.getPageQuery(newQuery, virtualItemStartIndex, virtualItemEndIndex);\n            }\n            else {\n                query = this.getPageQuery(query, virtualItemStartIndex, virtualItemEndIndex);\n            }\n        }\n        var tempCustomFilter = this.parent.isCustomFilter;\n        if (this.component === 'combobox') {\n            var totalData = 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                totalData = this.parent.dataSource.dataSource.json.length;\n            }\n            else if (this.parent.dataSource && this.parent.dataSource.length > 0) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                totalData = this.parent.dataSource.length;\n            }\n            if (totalData > 0) {\n                this.parent.isCustomFilter = (totalData === this.parent.totalItemCount &&\n                    this.parent.queryString !== this.parent.typedString) ? true : this.parent.isCustomFilter;\n            }\n        }\n        this.parent.resetList(dataSource, this.parent.fields, query);\n        this.parent.isCustomFilter = tempCustomFilter;\n    };\n    VirtualScroll.prototype.removeSkipAndTakeEvents = function (query) {\n        query.queries = query.queries.filter(function (event) {\n            return event.fn !== 'onSkip' && event.fn !== 'onTake';\n        });\n        return query;\n    };\n    VirtualScroll.prototype.setCurrentViewDataAsync = function (component) {\n        // eslint-disable-next-line\n        var currentData = [];\n        var isResetListCalled = false;\n        var isListUpdated = true;\n        if (isNullOrUndefined(this.component)) {\n            this.component = component.component;\n        }\n        var endIndex = this.parent.viewPortInfo.endIndex;\n        if (this.component === 'multiselect' && this.parent.mode === 'CheckBox' && this.parent.value && Array.isArray(this.parent.value) && this.parent.value.length > 0 && this.parent.enableSelectionOrder) {\n            if (this.parent.viewPortInfo.startIndex < this.parent.value.length) {\n                endIndex = this.parent.viewPortInfo.endIndex - this.parent.value.length;\n                if (this.parent.viewPortInfo.startIndex === 0) {\n                    this.parent.updateVirtualReOrderList(true);\n                    if (this.parent.value.length < this.parent.itemCount) {\n                        var oldUlElement = this.parent.list.querySelector('.e-list-parent' + ':not(.e-reorder)');\n                        if (oldUlElement) {\n                            this.parent.list.querySelector('.e-virtual-ddl-content').removeChild(oldUlElement);\n                        }\n                        var query = this.parent.getForQuery(this.parent.value).clone();\n                        query = query.skip(0)\n                            .take(this.parent.itemCount - (this.parent.value.length - this.parent.viewPortInfo.startIndex));\n                        this.parent.appendUncheckList = true;\n                        this.parent.setCurrentView = false;\n                        this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                        isListUpdated = false;\n                        this.parent.appendUncheckList = this.parent.dataSource instanceof DataManager ?\n                            this.parent.appendUncheckList : false;\n                        isListUpdated = false;\n                    }\n                    else {\n                        var oldUlElement = this.parent.list.querySelector('.e-list-parent' + ':not(.e-reorder)');\n                        if (oldUlElement) {\n                            this.parent.list.querySelector('.e-virtual-ddl-content').removeChild(oldUlElement);\n                        }\n                    }\n                    isListUpdated = false;\n                }\n                else if (this.parent.viewPortInfo.startIndex !== 0) {\n                    this.parent.updateVirtualReOrderList(true);\n                    var oldUlElement = this.parent.list.querySelector('.e-list-parent' + ':not(.e-reorder)');\n                    if (oldUlElement) {\n                        this.parent.list.querySelector('.e-virtual-ddl-content').removeChild(oldUlElement);\n                    }\n                    isListUpdated = false;\n                }\n                if (this.parent.viewPortInfo.startIndex !== 0 &&\n                    this.parent.viewPortInfo.startIndex - this.parent.value.length !== this.parent.itemCount &&\n                    (this.parent.viewPortInfo.startIndex + this.parent.itemCount > this.parent.value.length)) {\n                    var query = this.parent.getForQuery(this.parent.value).clone();\n                    query = query.skip(0).take(this.parent.itemCount - (this.parent.value.length - this.parent.viewPortInfo.startIndex));\n                    this.parent.appendUncheckList = true;\n                    this.parent.setCurrentView = false;\n                    this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                    isListUpdated = false;\n                    this.parent.appendUncheckList = this.parent.dataSource instanceof DataManager ? this.parent.appendUncheckList : false;\n                }\n            }\n            else {\n                var reOrderList = this.parent.list.querySelectorAll('.e-reorder')[0];\n                if (this.parent.list.querySelector('.e-virtual-ddl-content') && reOrderList) {\n                    this.parent.list.querySelector('.e-virtual-ddl-content').removeChild(reOrderList);\n                }\n                var query = this.parent.getForQuery(this.parent.value).clone(); // Assuming query is of type any\n                var skipvalue = this.parent.viewPortInfo.startIndex - this.parent.value.length >= 0\n                    ? this.parent.viewPortInfo.startIndex - this.parent.value.length\n                    : 0;\n                query = query.skip(skipvalue);\n                this.parent.setCurrentView = false;\n                this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                isListUpdated = false;\n            }\n            this.parent.totalItemsCount();\n        }\n        if (isListUpdated) {\n            for (var i = this.parent.viewPortInfo.startIndex; i < endIndex; i++) {\n                var index = i;\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var alreadyAddedData = this.parent.generatedDataObject[index];\n                if (this.component === 'multiselect' && this.parent.hideSelectedItem) {\n                    if (alreadyAddedData) {\n                        var value = getValue(this.parent.fields.value, alreadyAddedData[0]);\n                        if (this.parent.value &&\n                            value !== null &&\n                            Array.isArray(this.parent.value) &&\n                            this.parent.value.length > 0 &&\n                            this.parent.value.indexOf(value) < 0) {\n                            var query = this.parent.getForQuery(this.parent.value).clone();\n                            if (this.parent.viewPortInfo.endIndex === this.parent.totalItemCount + this.parent.value.length &&\n                                this.parent.hideSelectedItem) {\n                                query = query.skip(this.parent.totalItemCount - this.parent.itemCount);\n                            }\n                            else {\n                                query = query.skip(this.parent.viewPortInfo.startIndex);\n                            }\n                            this.parent.setCurrentView = false;\n                            this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                            isResetListCalled = true;\n                            break;\n                        }\n                        else if (this.parent.value === null || (this.parent.value && this.parent.value.length === 0)) {\n                            currentData.push(alreadyAddedData[0]);\n                        }\n                    }\n                    if (index === endIndex - 1) {\n                        if (currentData.length !== this.parent.itemCount) {\n                            if (this.parent.hideSelectedItem) {\n                                var query = this.parent.getForQuery(this.parent.value).clone();\n                                if (this.parent.viewPortInfo.endIndex === this.parent.totalItemCount + this.parent.value.length &&\n                                    this.parent.hideSelectedItem) {\n                                    query = query.skip(this.parent.totalItemCount - this.parent.itemCount);\n                                }\n                                else {\n                                    query = query.skip(this.parent.viewPortInfo.startIndex);\n                                }\n                                this.parent.setCurrentView = false;\n                                this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                                isResetListCalled = true;\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (alreadyAddedData) {\n                        currentData.push(alreadyAddedData[0]);\n                    }\n                }\n                this.parent.setCurrentView = false;\n            }\n        }\n        if (!isResetListCalled && isListUpdated) {\n            if (this.component === 'multiselect' && this.parent.allowCustomValue && this.parent.viewPortInfo.startIndex === 0 && this.parent.virtualCustomData) {\n                currentData.splice(0, 0, this.parent.virtualCustomData);\n            }\n            var totalData = [];\n            if (this.component === 'multiselect' && this.parent.allowCustomValue && this.parent.viewPortInfo.endIndex === this.parent.totalItemCount) {\n                if (this.parent.virtualCustomSelectData && this.parent.virtualCustomSelectData.length > 0) {\n                    totalData = currentData.concat(this.parent.virtualCustomSelectData);\n                    currentData = totalData;\n                }\n            }\n            this.parent.renderItems(currentData, this.parent.fields, this.component === 'multiselect' && this.parent.mode === 'CheckBox');\n        }\n        if (this.component === 'multiselect') {\n            this.parent.updatevirtualizationList();\n        }\n        this.parent.getSkeletonCount();\n        this.parent.skeletonCount = this.parent.totalItemCount !== 0 && this.parent.totalItemCount < this.parent.itemCount * 2 &&\n            ((!(this.parent.dataSource instanceof DataManager)) || ((this.parent.dataSource instanceof DataManager) &&\n                (this.parent.totalItemCount <= this.parent.itemCount))) ? 0 : this.parent.skeletonCount;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var virtualTrackElement = this.parent.list.getElementsByClassName('e-virtual-ddl')[0];\n        if (virtualTrackElement) {\n            virtualTrackElement.style = this.parent.GetVirtualTrackHeight();\n        }\n        else if (!virtualTrackElement && this.parent.skeletonCount > 0 && this.parent.popupWrapper) {\n            var virualElement = this.parent.createElement('div', {\n                id: this.parent.element.id + '_popup', className: 'e-virtual-ddl', styles: this.parent.GetVirtualTrackHeight()\n            });\n            this.parent.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n        }\n        this.parent.UpdateSkeleton();\n        this.parent.liCollections = this.parent.list.querySelectorAll('.e-list-item');\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var virtualContentElement = this.parent.list.getElementsByClassName('e-virtual-ddl-content')[0];\n        if (virtualContentElement) {\n            (virtualContentElement).style = this.parent.getTransformValues();\n        }\n        if (this.parent.fields.groupBy) {\n            this.parent.scrollStop();\n        }\n        if (this.parent.keyCode === 40 &&\n            this.parent.isScrollChanged &&\n            this.parent.hideSelectedItem &&\n            !isNullOrUndefined(this.parent.currentFocuedListElement)) {\n            var currentSelectElem = this.parent.getElementByValue(this.parent.currentFocuedListElement.getAttribute('data-value'));\n            this.parent.addListFocus(currentSelectElem);\n            this.parent.isScrollChanged = false;\n        }\n    };\n    VirtualScroll.prototype.generateQueryAndSetQueryIndexAsync = function (query, isPopupOpen) {\n        var isStartIndexInitialised = false;\n        var queryStartIndex = 0;\n        var queryEndIndex = 0;\n        var vEndIndex = this.parent.viewPortInfo.endIndex;\n        if (!isPopupOpen && vEndIndex !== 0) {\n            for (var i = this.parent.viewPortInfo.startIndex; i <= vEndIndex; i++) {\n                if (!(i in this.parent.generatedDataObject)) {\n                    if (!isStartIndexInitialised) {\n                        isStartIndexInitialised = true;\n                        queryStartIndex = queryEndIndex = i;\n                    }\n                    else {\n                        queryEndIndex = i === vEndIndex ? i : i + 1;\n                    }\n                }\n            }\n        }\n        if (isStartIndexInitialised &&\n            !(this.parent.totalItemCount === queryStartIndex &&\n                this.parent.totalItemCount === queryEndIndex)) {\n            this.parent.virtualItemStartIndex = queryStartIndex;\n            this.parent.virtualItemEndIndex = queryEndIndex;\n            this.parent.setCurrentView = true;\n            this.generateAndExecuteQueryAsync(query, queryStartIndex, queryEndIndex);\n            if (this.component === 'multiselect' &&\n                this.parent.hideSelectedItem &&\n                this.parent.value &&\n                Array.isArray(this.parent.value) &&\n                this.parent.value.length > 0) {\n                this.parent.totalItemsCount();\n            }\n            if (this.component === 'multiselect' &&\n                this.parent.virtualItemStartIndex === this.parent.virtualItemEndIndex) {\n                this.parent.virtualItemStartIndex = this.parent.viewPortInfo.startIndex;\n                this.parent.virtualItemEndIndex = this.parent.viewPortInfo.endIndex;\n            }\n        }\n        if (!(this.parent.dataSource instanceof DataManager) ||\n            (this.parent.dataSource instanceof DataManager &&\n                !this.parent.isRequesting)) {\n            this.setCurrentViewDataAsync();\n        }\n    };\n    VirtualScroll.prototype.dataProcessAsync = function (isOpenPopup) {\n        this.parent.selectedValueInfo = null;\n        this.parent.virtualItemStartIndex = this.parent.viewPortInfo.startIndex;\n        this.parent.virtualItemEndIndex = this.parent.viewPortInfo.endIndex;\n        this.generateQueryAndSetQueryIndexAsync(new Query(), isOpenPopup);\n    };\n    VirtualScroll.prototype.virtualScrollRefreshAsync = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.parent.isCustomFilter = (!(this.parent.isTyped || (this.component === 'combobox' && this.parent.allowFiltering && this.parent.queryString !== this.parent.typedString) || (!isNullOrUndefined(this.parent.filterInput) && !isNullOrUndefined(this.parent.filterInput.value) && this.parent.filterInput.value !== '') && this.component !== 'combobox') && !(this.component === 'autocomplete' && this.parent.value != null)) || this.parent.isCustomFilter;\n                        if (this.parent.allowFiltering || this.component === 'autocomplete') {\n                            if (!isNullOrUndefined(this.parent.typedString) && !(this.component === 'combobox' && !isNullOrUndefined(this.parent.typedString) && this.parent.allowFiltering)) {\n                                if (this.parent.viewPortInfo.endIndex >= this.parent.dataCount) {\n                                    this.parent.viewPortInfo.endIndex = this.parent.dataCount;\n                                }\n                                if (this.parent.viewPortInfo.startIndex >= this.parent.dataCount) {\n                                    this.parent.viewPortInfo.startIndex = this.parent.dataCount - this.parent.itemCount;\n                                }\n                            }\n                            else {\n                                this.parent.getSkeletonCount(true);\n                                if (this.component === 'combobox') {\n                                    this.parent.skeletonCount = this.parent.totalItemCount !== 0 &&\n                                        this.parent.totalItemCount < (this.parent.itemCount * 2) && ((!(this.parent.dataSource instanceof DataManager)) ||\n                                        ((this.parent.dataSource instanceof DataManager) && (this.parent.totalItemCount <= this.parent.itemCount))) ?\n                                        0 : this.parent.skeletonCount;\n                                }\n                            }\n                        }\n                        return [4 /*yield*/, this.dataProcessAsync()];\n                    case 1:\n                        _a.sent();\n                        if (this.parent.keyboardEvent != null &&\n                            (!(this.parent.dataSource instanceof DataManager) ||\n                                (this.parent.dataSource instanceof DataManager &&\n                                    !this.parent.isRequesting))) {\n                            this.parent.handleVirtualKeyboardActions(this.parent.keyboardEvent, this.parent.pageCount);\n                        }\n                        if (!this.parent.customFilterQuery) {\n                            this.parent.isCustomFilter = false;\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    VirtualScroll.prototype.scrollListener = function (scrollArgs) {\n        var _this = this;\n        if (!this.parent.isPreventScrollAction && !this.parent.isVirtualTrackHeight) {\n            this.parent.preventSetCurrentData = false;\n            var info = scrollArgs.sentinel;\n            var pStartIndex = this.parent.previousStartIndex;\n            this.parent.viewPortInfo = this.getInfoFromView(scrollArgs.direction, info, scrollArgs.offset, false);\n            this.parent.isUpwardScrolling = false;\n            if (this.parent.previousStartIndex !== pStartIndex && !this.parent.isKeyBoardAction) {\n                this.parent.isScrollActionTriggered = false;\n                this.parent.currentPageNumber = this.parent.viewPortInfo.currentPageNumber;\n                this.parent.virtualListInfo = __assign({}, this.parent.viewPortInfo);\n                this.parent.isPreventKeyAction = true;\n                this.parent.isVirtualScrolling = true;\n                setTimeout(function () {\n                    _this.parent.pageCount = _this.parent.getPageCount();\n                    _this.virtualScrollRefreshAsync().then(function () {\n                        if (_this.parent.popupObj) {\n                            _this.parent.list = _this.parent.popupObj.element.querySelector('.' + 'e-content') || select('.' + 'e-content');\n                            _this.parent.updateSelectionList();\n                            _this.parent.liCollections = _this.parent.getItems();\n                        }\n                        _this.parent.isKeyBoardAction = false;\n                        _this.parent.isVirtualScrolling = false;\n                        _this.parent.isPreventKeyAction = false;\n                    });\n                }, 5);\n            }\n            else if (this.parent.isScrollActionTriggered) {\n                this.parent.isPreventKeyAction = false;\n                this.parent.isScrollActionTriggered = false;\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.parent.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.parent.getTransformValues();\n            }\n            this.parent.previousInfo = this.parent.viewPortInfo;\n        }\n    };\n    VirtualScroll.prototype.getInfoFromView = function (direction, info, e, isscrollAction) {\n        var infoType = {\n            direction: direction, sentinelInfo: info, offsets: e,\n            startIndex: this.parent.previousStartIndex, endIndex: this.parent.previousEndIndex\n        };\n        var vHeight = this.parent.popupContentElement.getBoundingClientRect().height;\n        //Row Start and End Index calculation\n        var rowHeight = this.parent.listItemHeight;\n        var exactTopIndex = e.top / rowHeight;\n        var infoViewIndices = vHeight / rowHeight;\n        var exactEndIndex = exactTopIndex + infoViewIndices;\n        var pageSizeBy4 = this.parent.virtualItemCount / 4;\n        var totalItemCount = this.parent.totalItemCount;\n        if (infoType.direction === 'down') {\n            var sIndex = Math.round(exactEndIndex) - Math.round((pageSizeBy4));\n            if (isNullOrUndefined(infoType.startIndex) || (exactEndIndex >\n                (infoType.startIndex + Math.round((this.parent.virtualItemCount / 2 + pageSizeBy4)))\n                && infoType.endIndex !== totalItemCount)) {\n                infoType.startIndex = sIndex >= 0 ? Math.round(sIndex) : 0;\n                infoType.startIndex = infoType.startIndex > exactTopIndex ? Math.floor(exactTopIndex) : infoType.startIndex;\n                var eIndex = infoType.startIndex + this.parent.virtualItemCount;\n                infoType.startIndex = eIndex < exactEndIndex ? (Math.ceil(exactEndIndex) - this.parent.virtualItemCount)\n                    : infoType.startIndex;\n                infoType.endIndex = eIndex < totalItemCount ? eIndex : totalItemCount;\n                infoType.startIndex = eIndex >= totalItemCount\n                    ? (infoType.endIndex - this.parent.virtualItemCount > 0\n                        ? infoType.endIndex - this.parent.virtualItemCount\n                        : 0)\n                    : infoType.startIndex;\n                infoType.currentPageNumber = Math.ceil(infoType.endIndex / this.parent.virtualItemCount);\n            }\n        }\n        else if (infoType.direction === 'up') {\n            if ((infoType.startIndex && infoType.endIndex) || (Math.ceil(exactTopIndex) > this.parent.previousStartIndex)) {\n                var loadAtIndex = Math.round(((infoType.startIndex * rowHeight) + (pageSizeBy4 * rowHeight)) / rowHeight);\n                if (exactTopIndex < loadAtIndex || (Math.ceil(exactTopIndex) > this.parent.previousStartIndex)) {\n                    var idxAddedToExactTop = (pageSizeBy4) > infoViewIndices ? pageSizeBy4 :\n                        (infoViewIndices + infoViewIndices / 4);\n                    var eIndex = Math.round(exactTopIndex + idxAddedToExactTop);\n                    infoType.endIndex = (eIndex < totalItemCount) ? eIndex : totalItemCount;\n                    var sIndex = infoType.endIndex - this.parent.virtualItemCount;\n                    infoType.startIndex = sIndex > 0 ? sIndex : 0;\n                    infoType.endIndex = sIndex < 0 ? this.parent.virtualItemCount : infoType.endIndex;\n                    infoType.currentPageNumber = Math.ceil(infoType.startIndex / this.parent.virtualItemCount);\n                }\n            }\n        }\n        if (!isscrollAction) {\n            this.parent.previousStartIndex = infoType.startIndex;\n            this.parent.startIndex = infoType.startIndex;\n            this.parent.previousEndIndex = infoType.endIndex;\n        }\n        else {\n            this.parent.scrollPreStartIndex = infoType.startIndex;\n        }\n        return infoType;\n    };\n    VirtualScroll.prototype.virtualScrollHandler = function (callback) {\n        var _this = this;\n        var delay = Browser.info.name === 'chrome' ? 200 : 100;\n        var prevTop = 0;\n        var debounced100 = debounce(callback, delay);\n        var debounced50 = debounce(callback, 50);\n        return function (e) {\n            var top = e.target.scrollTop;\n            var left = e.target.scrollLeft;\n            var direction = prevTop < top && !_this.parent.isUpwardScrolling ? 'down' : 'up';\n            prevTop = top;\n            var current = _this.sentinelInfo[direction];\n            var pstartIndex = _this.parent.scrollPreStartIndex;\n            var scrollOffsetargs = {\n                top: top,\n                left: left\n            };\n            if (_this.parent.list && _this.parent.list.querySelectorAll('.e-virtual-list').length > 0) {\n                _this.getInfoFromView(direction, current, scrollOffsetargs, true);\n                if (_this.parent.scrollPreStartIndex !== pstartIndex && !_this.parent.isPreventScrollAction) {\n                    _this.parent.isScrollActionTriggered = true;\n                    var virtualPoup = (_this.parent.list.querySelector('.e-virtual-ddl-content'));\n                    virtualPoup.style.transform = 'translate(0px,' + top + 'px)';\n                }\n            }\n            var debounceFunction = debounced100;\n            if (current.axis === 'X') {\n                debounceFunction = debounced50;\n            }\n            debounceFunction({ direction: direction, sentinel: current, offset: { top: top, left: left },\n                focusElement: document.activeElement });\n        };\n    };\n    VirtualScroll.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, addClass, append, Property, Event, L10n, compile } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, extend, removeClass, prepend, isNullOrUndefined, detach, getValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, rippleEffect, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { DataManager, Query, DataUtil } from '@syncfusion/ej2-data';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { select, selectAll } from '@syncfusion/ej2-base';\nimport { Skeleton } from '@syncfusion/ej2-notifications';\nvar FieldSettings = /** @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"groupBy\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"disabled\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nexport { FieldSettings };\nexport var dropDownBaseClasses = {\n    root: 'e-dropdownbase',\n    rtl: 'e-rtl',\n    content: 'e-content',\n    selected: 'e-active',\n    hover: 'e-hover',\n    noData: 'e-nodata',\n    fixedHead: 'e-fixed-head',\n    focus: 'e-item-focus',\n    li: 'e-list-item',\n    group: 'e-list-group-item',\n    disabled: 'e-disabled',\n    grouping: 'e-dd-group',\n    virtualList: 'e-list-item e-virtual-list'\n};\nvar ITEMTEMPLATE_PROPERTY = 'ItemTemplate';\nvar DISPLAYTEMPLATE_PROPERTY = 'DisplayTemplate';\nvar SPINNERTEMPLATE_PROPERTY = 'SpinnerTemplate';\nvar VALUETEMPLATE_PROPERTY = 'ValueTemplate';\nvar GROUPTEMPLATE_PROPERTY = 'GroupTemplate';\nvar HEADERTEMPLATE_PROPERTY = 'HeaderTemplate';\nvar FOOTERTEMPLATE_PROPERTY = 'FooterTemplate';\nvar NORECORDSTEMPLATE_PROPERTY = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE_PROPERTY = 'ActionFailureTemplate';\nvar HIDE_GROUPLIST = 'e-hide-group-header';\n/**\n * DropDownBase component will generate the list items based on given data and act as base class to drop-down related components\n */\nvar DropDownBase = /** @class */ (function (_super) {\n    __extends(DropDownBase, _super);\n    /**\n     * * Constructor for DropDownBase class\n     *\n     * @param {DropDownBaseModel} options - Specifies the DropDownBase model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DropDownBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.preventChange = false;\n        _this.isPreventChange = false;\n        _this.isDynamicDataChange = false;\n        _this.addedNewItem = false;\n        _this.isAddNewItemTemplate = false;\n        _this.isRequesting = false;\n        _this.isVirtualizationEnabled = false;\n        _this.isCustomDataUpdated = false;\n        _this.isAllowFiltering = false;\n        _this.virtualizedItemsCount = 0;\n        _this.isCheckBoxSelection = false;\n        _this.totalItemCount = 0;\n        _this.dataCount = 0;\n        _this.remoteDataCount = -1;\n        _this.isRemoteDataUpdated = false;\n        _this.isIncrementalRequest = false;\n        _this.itemCount = 30;\n        _this.virtualListHeight = 0;\n        _this.isVirtualScrolling = false;\n        _this.isPreventScrollAction = false;\n        _this.scrollPreStartIndex = 0;\n        _this.isScrollActionTriggered = false;\n        _this.previousStartIndex = 0;\n        _this.isMouseScrollAction = false;\n        _this.isKeyBoardAction = false;\n        _this.isScrollChanged = false;\n        _this.isUpwardScrolling = false;\n        _this.startIndex = 0;\n        _this.currentPageNumber = 0;\n        _this.pageCount = 0;\n        _this.isPreventKeyAction = false;\n        _this.generatedDataObject = {};\n        _this.skeletonCount = 32;\n        _this.isVirtualTrackHeight = false;\n        _this.virtualSelectAll = false;\n        _this.incrementalQueryString = '';\n        _this.incrementalEndIndex = 0;\n        _this.incrementalStartIndex = 0;\n        _this.incrementalPreQueryString = '';\n        _this.isObjectCustomValue = false;\n        _this.appendUncheckList = false;\n        _this.getInitialData = false;\n        _this.preventPopupOpen = true;\n        _this.virtualSelectAllState = false;\n        _this.CurrentEvent = null;\n        _this.isDynamicData = false;\n        _this.virtualListInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0\n        };\n        _this.viewPortInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0\n        };\n        _this.selectedValueInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0\n        };\n        return _this;\n    }\n    DropDownBase.prototype.getPropObject = function (prop, newProp, oldProp) {\n        var newProperty = new Object();\n        var oldProperty = new Object();\n        var propName = function (prop) {\n            return prop;\n        };\n        newProperty[propName(prop)] = newProp[propName(prop)];\n        oldProperty[propName(prop)] = oldProp[propName(prop)];\n        var data = new Object();\n        data.newProperty = newProperty;\n        data.oldProperty = oldProperty;\n        return data;\n    };\n    DropDownBase.prototype.getValueByText = function (text, ignoreCase, ignoreAccent) {\n        var value = null;\n        if (!isNullOrUndefined(this.listData)) {\n            if (ignoreCase) {\n                value = this.checkValueCase(text, true, ignoreAccent);\n            }\n            else {\n                value = this.checkValueCase(text, false, ignoreAccent);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkValueCase = function (text, ignoreCase, ignoreAccent, isTextByValue) {\n        var _this = this;\n        var value = null;\n        if (isTextByValue) {\n            value = text;\n        }\n        var dataSource = this.listData;\n        var fields = this.fields;\n        var type = this.typeOfData(dataSource).typeof;\n        if (type === 'string' || type === 'number' || type === 'boolean') {\n            for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n                var item = dataSource_1[_i];\n                if (!isNullOrUndefined(item)) {\n                    if (ignoreAccent) {\n                        value = this.checkingAccent(String(item), text, ignoreCase);\n                    }\n                    else {\n                        if (ignoreCase) {\n                            if (this.checkIgnoreCase(String(item), text)) {\n                                value = this.getItemValue(String(item), text, ignoreCase);\n                            }\n                        }\n                        else {\n                            if (this.checkNonIgnoreCase(String(item), text)) {\n                                value = this.getItemValue(String(item), text, ignoreCase, isTextByValue);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (ignoreCase) {\n                dataSource.filter(function (item) {\n                    var itemValue = getValue(fields.value, item);\n                    if (!isNullOrUndefined(itemValue) && _this.checkIgnoreCase(getValue(fields.text, item).toString(), text)) {\n                        value = getValue(fields.value, item);\n                    }\n                });\n            }\n            else {\n                if (isTextByValue) {\n                    var compareValue_1 = null;\n                    compareValue_1 = value;\n                    dataSource.filter(function (item) {\n                        var itemValue = getValue(fields.value, item);\n                        if (!isNullOrUndefined(itemValue) && !isNullOrUndefined(value) &&\n                            itemValue.toString() === compareValue_1.toString()) {\n                            value = getValue(fields.text, item);\n                        }\n                    });\n                }\n                else {\n                    dataSource.filter(function (item) {\n                        if (_this.checkNonIgnoreCase(getValue(fields.text, item), text)) {\n                            value = getValue(fields.value, item);\n                        }\n                    });\n                }\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkingAccent = function (item, text, ignoreCase) {\n        var dataItem = DataUtil.ignoreDiacritics(String(item));\n        var textItem = DataUtil.ignoreDiacritics(text.toString());\n        var value = null;\n        if (ignoreCase) {\n            if (this.checkIgnoreCase(dataItem, textItem)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        else {\n            if (this.checkNonIgnoreCase(String(item), text)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkIgnoreCase = function (item, text) {\n        return String(item).toLowerCase() === text.toString().toLowerCase() ? true : false;\n    };\n    DropDownBase.prototype.checkNonIgnoreCase = function (item, text) {\n        return String(item) === text.toString() ? true : false;\n    };\n    DropDownBase.prototype.getItemValue = function (dataItem, typedText, ignoreCase, isTextByValue) {\n        var value = null;\n        var dataSource = this.listData;\n        var type = this.typeOfData(dataSource).typeof;\n        if (isTextByValue) {\n            value = dataItem.toString();\n        }\n        else {\n            if (ignoreCase) {\n                value = type === 'string' ? String(dataItem) : this.getFormattedValue(String(dataItem));\n            }\n            else {\n                value = type === 'string' ? typedText : this.getFormattedValue(typedText);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.templateCompiler = function (baseTemplate) {\n        var checkTemplate = false;\n        if (typeof baseTemplate !== 'function' && baseTemplate) {\n            try {\n                checkTemplate = (selectAll(baseTemplate, document).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    DropDownBase.prototype.l10nUpdate = function (actionFailure) {\n        var ele = this.getModuleName() === 'listbox' ? this.ulElement : this.list;\n        if ((!isNullOrUndefined(this.noRecordsTemplate) && this.noRecordsTemplate !== 'No records found') || this.actionFailureTemplate !== 'Request failed') {\n            var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n            var compiledString = void 0;\n            var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n            ele.innerHTML = '';\n            var tempaltecheck = this.templateCompiler(template);\n            if (typeof template !== 'function' && tempaltecheck) {\n                compiledString = compile(select(template, document).innerHTML.trim());\n            }\n            else {\n                compiledString = compile(template);\n            }\n            var templateName = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var noDataElement = void 0;\n            if ((this.isReact) && typeof template === 'function') {\n                noDataElement = compiledString({}, this, templateName, templateId, this.isStringTemplate, null);\n            }\n            else {\n                noDataElement = compiledString({}, this, templateName, templateId, this.isStringTemplate, null, ele);\n            }\n            if (noDataElement && noDataElement.length > 0) {\n                for (var i = 0; i < noDataElement.length; i++) {\n                    if (this.getModuleName() === 'listbox' && templateName === 'noRecordsTemplate') {\n                        if (noDataElement[i].nodeName === '#text') {\n                            var liElem = this.createElement('li');\n                            liElem.textContent = noDataElement[i].textContent;\n                            liElem.classList.add('e-list-nrt');\n                            liElem.setAttribute('role', 'option');\n                            ele.appendChild(liElem);\n                        }\n                        else {\n                            noDataElement[i].classList.add('e-list-nr-template');\n                            ele.appendChild(noDataElement[i]);\n                        }\n                    }\n                    else {\n                        if (noDataElement[i] instanceof HTMLElement || ((noDataElement[i] instanceof Text) && (noDataElement[i]).textContent !== '')) {\n                            ele.appendChild(noDataElement[i]);\n                        }\n                    }\n                }\n            }\n            this.renderReactTemplates();\n        }\n        else {\n            var l10nLocale = { noRecordsTemplate: 'No records found', actionFailureTemplate: 'Request failed' };\n            var componentLocale = new L10n(this.getLocaleName(), {}, this.locale);\n            if (componentLocale.getConstant('actionFailureTemplate') !== '' || componentLocale.getConstant('noRecordsTemplate') !== '') {\n                this.l10n = componentLocale;\n            }\n            else {\n                this.l10n = new L10n(this.getModuleName() === 'listbox' ? 'listbox' :\n                    this.getModuleName() === 'mention' ? 'mention' : 'dropdowns', l10nLocale, this.locale);\n            }\n            var content = actionFailure ?\n                this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n            if (this.getModuleName() === 'listbox') {\n                var liElem = this.createElement('li');\n                liElem.textContent = content;\n                ele.appendChild(liElem);\n                liElem.classList.add('e-list-nrt');\n                liElem.setAttribute('role', 'option');\n            }\n            else {\n                if (!isNullOrUndefined(ele)) {\n                    ele.innerHTML = content;\n                }\n            }\n        }\n    };\n    DropDownBase.prototype.checkAndResetCache = function () {\n        if (this.isVirtualizationEnabled) {\n            this.generatedDataObject = {};\n            this.virtualItemStartIndex = this.virtualItemEndIndex = 0;\n            this.viewPortInfo = {\n                currentPageNumber: null,\n                direction: null,\n                sentinelInfo: {},\n                offsets: {},\n                startIndex: 0,\n                endIndex: this.itemCount\n            };\n            this.selectedValueInfo = null;\n        }\n    };\n    DropDownBase.prototype.updateIncrementalInfo = function (startIndex, endIndex) {\n        this.viewPortInfo.startIndex = startIndex;\n        this.viewPortInfo.endIndex = endIndex;\n        this.updateVirtualItemIndex();\n        this.isIncrementalRequest = true;\n        this.resetList(this.dataSource, this.fields, this.query);\n        this.isIncrementalRequest = false;\n    };\n    DropDownBase.prototype.updateIncrementalView = function (startIndex, endIndex) {\n        this.viewPortInfo.startIndex = startIndex;\n        this.viewPortInfo.endIndex = endIndex;\n        this.updateVirtualItemIndex();\n        this.resetList(this.dataSource, this.fields, this.query);\n        this.UpdateSkeleton();\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.ulElement = this.list.querySelector('ul');\n    };\n    DropDownBase.prototype.updateVirtualItemIndex = function () {\n        this.virtualItemStartIndex = this.viewPortInfo.startIndex;\n        this.virtualItemEndIndex = this.viewPortInfo.endIndex;\n        this.virtualListInfo = this.viewPortInfo;\n    };\n    DropDownBase.prototype.getFilteringSkeletonCount = function () {\n        var currentSkeletonCount = this.skeletonCount;\n        this.getSkeletonCount(true);\n        this.skeletonCount = this.dataCount < this.itemCount * 2 && ((!(this.dataSource instanceof DataManager)) ||\n            ((this.dataSource instanceof DataManager) && (this.totalItemCount <= this.itemCount))) ? 0 : this.skeletonCount;\n        var skeletonUpdated = true;\n        if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'multiselect') && (this.totalItemCount < (this.itemCount * 2)) && ((!(this.dataSource instanceof DataManager)) || ((this.dataSource instanceof DataManager) && (this.totalItemCount <= this.itemCount)))) {\n            this.skeletonCount = 0;\n            skeletonUpdated = false;\n        }\n        if (!this.list.classList.contains(dropDownBaseClasses.noData)) {\n            if (currentSkeletonCount !== this.skeletonCount && skeletonUpdated) {\n                this.UpdateSkeleton(true, Math.abs(currentSkeletonCount - this.skeletonCount));\n            }\n            else {\n                this.UpdateSkeleton();\n            }\n            this.liCollections = this.list.querySelectorAll('.e-list-item');\n            if ((this.list.getElementsByClassName('e-virtual-ddl').length > 0)) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n            }\n            else if (!this.list.querySelector('.e-virtual-ddl') && this.skeletonCount > 0 && this.list.querySelector('.e-dropdownbase')) {\n                var virualElement = this.createElement('div', {\n                    id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                });\n                this.list.querySelector('.e-dropdownbase').appendChild(virualElement);\n            }\n            if (this.list.getElementsByClassName('e-virtual-ddl-content').length > 0) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n            }\n        }\n    };\n    DropDownBase.prototype.getSkeletonCount = function (retainSkeleton) {\n        this.virtualListHeight = this.listContainerHeight != null ? parseInt(this.listContainerHeight, 10) : this.virtualListHeight;\n        var actualCount = this.virtualListHeight > 0 ? Math.floor(this.virtualListHeight / this.listItemHeight) : 0;\n        this.skeletonCount = actualCount * 4 < this.itemCount ? this.itemCount : actualCount * 4;\n        this.itemCount = retainSkeleton ? this.itemCount : this.skeletonCount;\n        this.virtualItemCount = this.itemCount;\n        this.skeletonCount = Math.floor(this.skeletonCount / 2);\n    };\n    DropDownBase.prototype.GetVirtualTrackHeight = function () {\n        var height = this.totalItemCount === this.viewPortInfo.endIndex ?\n            this.totalItemCount * this.listItemHeight - this.itemCount * this.listItemHeight : this.totalItemCount * this.listItemHeight;\n        height = this.isVirtualTrackHeight ? 0 : height;\n        var heightDimension = \"height: \" + (height - this.itemCount * this.listItemHeight) + \"px;\";\n        if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'multiselect') && this.skeletonCount === 0) {\n            return 'height: 0px;';\n        }\n        return heightDimension;\n    };\n    DropDownBase.prototype.getTransformValues = function () {\n        var translateY = this.viewPortInfo.startIndex * this.listItemHeight;\n        translateY = translateY - (this.skeletonCount * this.listItemHeight);\n        translateY = ((this.viewPortInfo.startIndex === 0 && this.listData && this.listData.length === 0) ||\n            this.skeletonCount === 0) ? 0 : translateY;\n        var styleText = \"transform: translate(0px, \" + translateY + \"px);\";\n        return styleText;\n    };\n    DropDownBase.prototype.UpdateSkeleton = function (isSkeletonCountChange, skeletonCount) {\n        var isContainSkeleton = this.list.querySelector('.e-virtual-ddl-content');\n        var isContainVirtualList = this.list.querySelector('.e-virtual-list');\n        if (isContainSkeleton && (!isContainVirtualList || isSkeletonCountChange) && this.isVirtualizationEnabled) {\n            var totalSkeletonCount = isSkeletonCountChange ? skeletonCount : this.skeletonCount;\n            for (var i = 0; i < totalSkeletonCount; i++) {\n                var liElement = this.createElement('li', { className: dropDownBaseClasses.virtualList, styles: 'overflow: inherit' });\n                if (this.isVirtualizationEnabled && this.itemTemplate) {\n                    liElement.style.height = this.listItemHeight + 'px';\n                }\n                var skeleton = new Skeleton({\n                    shape: 'Text',\n                    height: '10px',\n                    width: '95%',\n                    cssClass: 'e-skeleton-text'\n                });\n                skeleton.appendTo(this.createElement('div'));\n                liElement.appendChild(skeleton.element);\n                if (isContainSkeleton.firstChild) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    isContainSkeleton.firstChild.insertBefore(liElement, isContainSkeleton.firstChild.children[0]);\n                }\n            }\n        }\n    };\n    DropDownBase.prototype.getLocaleName = function () {\n        return 'drop-down-base';\n    };\n    DropDownBase.prototype.getTextByValue = function (value) {\n        var text = this.checkValueCase(value, false, false, true);\n        return text;\n    };\n    DropDownBase.prototype.getFormattedValue = function (value) {\n        if (this.listData && this.listData.length) {\n            var item = void 0;\n            if (this.properties.allowCustomValue &&\n                this.properties.value &&\n                this.properties.value instanceof Array &&\n                this.properties.value.length > 0) {\n                item = this.typeOfData(this.properties.value);\n            }\n            else {\n                item = this.typeOfData(this.listData);\n            }\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'number' ||\n                item.typeof === 'number') {\n                return parseFloat(value);\n            }\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'boolean' ||\n                item.typeof === 'boolean') {\n                return ((value === 'true') || ('' + value === 'true'));\n            }\n        }\n        return value;\n    };\n    /**\n     * Sets RTL to dropdownbase wrapper\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.setEnableRtl = function () {\n        if (!isNullOrUndefined(this.enableRtlElements)) {\n            if (this.list) {\n                this.enableRtlElements.push(this.list);\n            }\n            if (this.enableRtl) {\n                addClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n            }\n            else {\n                removeClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n            }\n        }\n    };\n    /**\n     * Initialize the Component.\n     *\n     * @param {MouseEvent | KeyboardEventArgs | TouchEvent} e - The event object.\n     * @returns {void}\n     */\n    DropDownBase.prototype.initialize = function (e) {\n        this.bindEvent = true;\n        this.preventPopupOpen = true;\n        this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE_PROPERTY;\n        if (this.element.tagName === 'UL') {\n            var jsonElement = ListBase.createJsonFromElement(this.element);\n            this.setProperties({ fields: { text: 'text', value: 'text' } }, true);\n            this.resetList(jsonElement, this.fields);\n        }\n        else if (this.element.tagName === 'SELECT') {\n            var dataSource = this.dataSource instanceof Array ? (this.dataSource.length > 0 ? true : false)\n                : !isNullOrUndefined(this.dataSource) ? true : false;\n            if (!dataSource) {\n                this.renderItemsBySelect();\n            }\n            else if (this.isDynamicDataChange) {\n                this.setListData(this.dataSource, this.fields, this.query);\n            }\n        }\n        else {\n            this.setListData(this.dataSource, this.fields, this.query, e);\n        }\n    };\n    /**\n     * Get the properties to be maintained in persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    DropDownBase.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @param {string} value - Specifies the attribute values to add on the input element.\n     * @returns {void}\n     */\n    DropDownBase.prototype.updateDataAttribute = function (value) {\n        var invalidAttr = ['class', 'style', 'id', 'type', 'aria-expanded', 'aria-autocomplete', 'aria-readonly'];\n        var attr = {};\n        for (var a = 0; a < this.element.attributes.length; a++) {\n            if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 &&\n                !(this.getModuleName() === 'dropdownlist' && this.element.attributes[a].name === 'readonly')) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        extend(attr, value, attr);\n        this.setProperties({ htmlAttributes: attr }, true);\n    };\n    DropDownBase.prototype.renderItemsBySelect = function () {\n        var element = this.element;\n        var fields = { value: 'value', text: 'text' };\n        var jsonElement = [];\n        var group = element.querySelectorAll('select>optgroup');\n        var option = element.querySelectorAll('select>option');\n        this.getJSONfromOption(jsonElement, option, fields);\n        if (group.length) {\n            for (var i = 0; i < group.length; i++) {\n                var item = group[i];\n                var optionGroup = {};\n                optionGroup[fields.text] = item.label;\n                optionGroup.isHeader = true;\n                var child = item.querySelectorAll('option');\n                jsonElement.push(optionGroup);\n                this.getJSONfromOption(jsonElement, child, fields);\n            }\n            element.querySelectorAll('select>option');\n        }\n        this.updateFields(fields.text, fields.value, this.fields.groupBy, this.fields.htmlAttributes, this.fields.iconCss, this.fields.disabled);\n        this.resetList(jsonElement, fields);\n    };\n    DropDownBase.prototype.updateFields = function (text, value, groupBy, htmlAttributes, iconCss, disabled) {\n        var field = {\n            'fields': {\n                text: text,\n                value: value,\n                groupBy: !isNullOrUndefined(groupBy) ? groupBy : this.fields && this.fields.groupBy,\n                htmlAttributes: !isNullOrUndefined(htmlAttributes) ? htmlAttributes : this.fields && this.fields.htmlAttributes,\n                iconCss: !isNullOrUndefined(iconCss) ? iconCss : this.fields && this.fields.iconCss,\n                disabled: !isNullOrUndefined(disabled) ? disabled : this.fields && this.fields.disabled\n            }\n        };\n        this.setProperties(field, true);\n    };\n    DropDownBase.prototype.getJSONfromOption = function (items, options, fields) {\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var option = options_1[_i];\n            var json = {};\n            json[fields.text] = option.innerText;\n            json[fields.value] = !isNullOrUndefined(option.getAttribute(fields.value)) ?\n                option.getAttribute(fields.value) : option.innerText;\n            items.push(json);\n        }\n    };\n    /**\n     * Execute before render the list items\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownBase.prototype.preRender = function () {\n        // there is no event handler\n        this.scrollTimer = -1;\n        this.enableRtlElements = [];\n        this.isRequested = false;\n        this.isDataFetched = false;\n        this.itemTemplateId = \"\" + this.element.id + ITEMTEMPLATE_PROPERTY;\n        this.displayTemplateId = \"\" + this.element.id + DISPLAYTEMPLATE_PROPERTY;\n        this.spinnerTemplateId = \"\" + this.element.id + SPINNERTEMPLATE_PROPERTY;\n        this.valueTemplateId = \"\" + this.element.id + VALUETEMPLATE_PROPERTY;\n        this.groupTemplateId = \"\" + this.element.id + GROUPTEMPLATE_PROPERTY;\n        this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE_PROPERTY;\n        this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE_PROPERTY;\n        this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE_PROPERTY;\n    };\n    /**\n     * Creates the list items of DropDownBase component.\n     *\n     * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @param {MouseEvent | KeyboardEventArgs | TouchEvent} event - Specifies the event which is the reason for the invocation of this method.\n     * @returns {void}\n     */\n    DropDownBase.prototype.setListData = function (dataSource, fields, query, event) {\n        var _this = this;\n        fields = fields ? fields : this.fields;\n        var ulElement;\n        this.isActive = true;\n        var eventArgs = { cancel: false, data: dataSource, query: query };\n        this.isPreventChange = this.isAngular && this.preventChange ? true : this.isPreventChange;\n        if (!this.isRequesting) {\n            this.trigger('actionBegin', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    _this.isRequesting = true;\n                    _this.showSpinner();\n                    if (dataSource instanceof DataManager) {\n                        _this.isRequested = true;\n                        var isWhereExist_1 = false;\n                        if (_this.isDataFetched) {\n                            _this.emptyDataRequest(fields);\n                            return;\n                        }\n                        eventArgs.data.executeQuery(_this.getQuery(eventArgs.query)).then(function (e) {\n                            _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n                            var isReOrder = true;\n                            if (!_this.virtualSelectAll) {\n                                var newQuery = _this.getQuery(eventArgs.query);\n                                for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                    if (newQuery.queries[queryElements].fn === 'onWhere') {\n                                        isWhereExist_1 = true;\n                                    }\n                                }\n                                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                                if (_this.isVirtualizationEnabled && (e.count !== 0 && e.count < (_this.itemCount * 2))) {\n                                    if (newQuery) {\n                                        for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                            if (newQuery.queries[queryElements].fn === 'onTake') {\n                                                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                                                newQuery.queries[queryElements].e.nos = e.count;\n                                            }\n                                            if (_this.getModuleName() === 'multiselect' && (newQuery.queries[queryElements].e.condition === 'or' || newQuery.queries[queryElements].e.operator === 'equal')) {\n                                                isReOrder = false;\n                                            }\n                                        }\n                                    }\n                                }\n                                else {\n                                    _this.isVirtualTrackHeight = false;\n                                    if (newQuery) {\n                                        for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                            if (_this.getModuleName() === 'multiselect' && ((newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.condition === 'or') || (newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.operator === 'equal'))) {\n                                                isReOrder = false;\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                            if (isReOrder) {\n                                // eslint-disable @typescript-eslint/no-explicit-any\n                                _this.dataCount = _this.totalItemCount = e.count;\n                            }\n                            _this.trigger('actionComplete', e, function (e) {\n                                if (!e.cancel) {\n                                    _this.isRequesting = false;\n                                    var listItems = e.result;\n                                    if (_this.isIncrementalRequest) {\n                                        ulElement = _this.renderItems(listItems, fields);\n                                        return;\n                                    }\n                                    if ((!_this.isVirtualizationEnabled && listItems.length === 0) ||\n                                        (_this.isVirtualizationEnabled && listItems.length === 0 && !isWhereExist_1)) {\n                                        _this.isDataFetched = true;\n                                    }\n                                    if (!isWhereExist_1) {\n                                        _this.remoteDataCount = e.count;\n                                    }\n                                    _this.dataCount = !_this.virtualSelectAll ? e.count : _this.dataCount;\n                                    _this.totalItemCount = !_this.virtualSelectAll ? e.count : _this.totalItemCount;\n                                    ulElement = _this.renderItems(listItems, fields);\n                                    _this.appendUncheckList = false;\n                                    _this.onActionComplete(ulElement, listItems, e);\n                                    if (_this.groupTemplate) {\n                                        _this.renderGroupTemplate(ulElement);\n                                    }\n                                    _this.isRequested = false;\n                                    _this.bindChildItems(listItems, ulElement, fields, e);\n                                    if (_this.getInitialData) {\n                                        _this.setListData(dataSource, fields, query, event);\n                                        _this.getInitialData = false;\n                                        _this.preventPopupOpen = false;\n                                        return;\n                                    }\n                                    if (_this.isVirtualizationEnabled && _this.setCurrentView) {\n                                        _this.notify('setCurrentViewDataAsync', {\n                                            module: 'VirtualScroll'\n                                        });\n                                    }\n                                    if (_this.keyboardEvent != null) {\n                                        _this.handleVirtualKeyboardActions(_this.keyboardEvent, _this.pageCount);\n                                    }\n                                    if (_this.isVirtualizationEnabled) {\n                                        _this.getFilteringSkeletonCount();\n                                    }\n                                    if (_this.virtualSelectAll && _this.virtualSelectAllData) {\n                                        _this.virtualSelectionAll(_this.virtualSelectAllState, _this.liCollections, _this.CurrentEvent);\n                                        _this.virtualSelectAllState = false;\n                                        _this.CurrentEvent = null;\n                                        _this.virtualSelectAll = false;\n                                    }\n                                }\n                            });\n                        }).catch(function (e) {\n                            _this.isRequested = false;\n                            _this.isRequesting = false;\n                            _this.onActionFailure(e);\n                            _this.hideSpinner();\n                        });\n                    }\n                    else {\n                        _this.isRequesting = false;\n                        var isReOrder = true;\n                        var listItems = void 0;\n                        if (_this.isVirtualizationEnabled && !_this.virtualGroupDataSource && _this.fields.groupBy) {\n                            var data = new DataManager(_this.dataSource).executeLocal(new Query().group(_this.fields.groupBy));\n                            _this.virtualGroupDataSource = data.records;\n                        }\n                        var dataManager = _this.isVirtualizationEnabled &&\n                            _this.virtualGroupDataSource\n                            && !_this.isCustomDataUpdated ? new DataManager(_this.virtualGroupDataSource) :\n                            new DataManager(eventArgs.data);\n                        listItems = (_this.getQuery(eventArgs.query)).executeLocal(dataManager);\n                        if (!_this.virtualSelectAll) {\n                            var newQuery = _this.getQuery(eventArgs.query);\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            if (_this.isVirtualizationEnabled && (listItems.count !== 0 &&\n                                listItems.count < (_this.itemCount * 2))) {\n                                if (newQuery) {\n                                    for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                        if (newQuery.queries[queryElements].fn === 'onTake') {\n                                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                                            newQuery.queries[queryElements].e.nos = listItems.count;\n                                            listItems = (newQuery).executeLocal(dataManager);\n                                        }\n                                        if (_this.getModuleName() === 'multiselect' && (newQuery.queries[queryElements].e.condition === 'or' || newQuery.queries[queryElements].e.operator === 'equal')) {\n                                            isReOrder = false;\n                                        }\n                                    }\n                                    if (isReOrder) {\n                                        listItems = (newQuery).executeLocal(dataManager);\n                                        _this.isVirtualTrackHeight = (!(_this.dataSource instanceof DataManager) &&\n                                            !_this.isCustomDataUpdated) ? true : false;\n                                    }\n                                }\n                            }\n                            else {\n                                _this.isVirtualTrackHeight = false;\n                                if (newQuery) {\n                                    for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                        if (_this.getModuleName() === 'multiselect' && ((newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.condition === 'or') || (newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.operator === 'equal'))) {\n                                            isReOrder = false;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        if (isReOrder && (!(_this.dataSource instanceof DataManager) && !_this.isCustomDataUpdated) &&\n                            !_this.virtualSelectAll) {\n                            // eslint-disable @typescript-eslint/no-explicit-any\n                            _this.dataCount = _this.totalItemCount = _this.virtualSelectAll ? listItems.length :\n                                listItems.count;\n                        }\n                        listItems = _this.isVirtualizationEnabled ? listItems.result : listItems;\n                        // eslint-enable @typescript-eslint/no-explicit-any\n                        var localDataArgs = { cancel: false, result: listItems };\n                        _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n                        _this.trigger('actionComplete', localDataArgs, function (localDataArgs) {\n                            if (_this.isIncrementalRequest) {\n                                ulElement = _this.renderItems(localDataArgs.result, fields);\n                                return;\n                            }\n                            if (!localDataArgs.cancel) {\n                                ulElement = _this.renderItems(localDataArgs.result, fields);\n                                _this.onActionComplete(ulElement, localDataArgs.result, event);\n                                if (_this.groupTemplate) {\n                                    _this.renderGroupTemplate(ulElement);\n                                }\n                                _this.bindChildItems(localDataArgs.result, ulElement, fields);\n                                if (_this.getInitialData) {\n                                    _this.getInitialData = false;\n                                    _this.preventPopupOpen = false;\n                                    return;\n                                }\n                                setTimeout(function () {\n                                    if (_this.getModuleName() === 'multiselect' && _this.itemTemplate != null && (ulElement.childElementCount > 0 && (ulElement.children[0].childElementCount > 0 || (_this.fields.groupBy && ulElement.children[1] && ulElement.children[1].childElementCount > 0)))) {\n                                        _this.updateDataList();\n                                    }\n                                });\n                            }\n                        });\n                    }\n                }\n            });\n        }\n    };\n    DropDownBase.prototype.handleVirtualKeyboardActions = function (e, pageCount) {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.updatePopupState = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.virtualSelectionAll = function (state, li, event) {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.updateRemoteData = function () {\n        this.setListData(this.dataSource, this.fields, this.query);\n    };\n    DropDownBase.prototype.bindChildItems = function (listItems, ulElement, fields, e) {\n        var _this = this;\n        if (listItems.length >= 100 && this.getModuleName() === 'autocomplete') {\n            setTimeout(function () {\n                var childNode = _this.remainingItems(_this.sortedData, fields);\n                append(childNode, ulElement);\n                _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                _this.updateListValues();\n                _this.raiseDataBound(listItems, e);\n            }, 0);\n        }\n        else {\n            this.raiseDataBound(listItems, e);\n        }\n    };\n    DropDownBase.prototype.isObjectInArray = function (objectToFind, array) {\n        return array.some(function (item) {\n            return Object.keys(objectToFind).every(function (key) {\n                return Object.prototype.hasOwnProperty.call(item, key) && item[key] === objectToFind[key];\n            });\n        });\n    };\n    DropDownBase.prototype.updateListValues = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.findListElement = function (list, findNode, attribute, value) {\n        var liElement = null;\n        if (list) {\n            var listArr = [].slice.call(list.querySelectorAll(findNode));\n            for (var index = 0; index < listArr.length; index++) {\n                if (listArr[index].getAttribute(attribute) === (value + '')) {\n                    liElement = listArr[index];\n                    break;\n                }\n            }\n        }\n        return liElement;\n    };\n    DropDownBase.prototype.raiseDataBound = function (listItems, e) {\n        this.hideSpinner();\n        var dataBoundEventArgs = {\n            items: listItems,\n            e: e\n        };\n        this.trigger('dataBound', dataBoundEventArgs);\n    };\n    DropDownBase.prototype.remainingItems = function (dataSource, fields) {\n        var spliceData = new DataManager(dataSource).executeLocal(new Query().skip(100));\n        if (this.itemTemplate) {\n            var listElements = this.templateListItem(spliceData, fields);\n            return [].slice.call(listElements.childNodes);\n        }\n        var type = this.typeOfData(spliceData).typeof;\n        if (type === 'string' || type === 'number' || type === 'boolean') {\n            return ListBase.createListItemFromArray(this.createElement, spliceData, true, this.listOption(spliceData, fields), this);\n        }\n        return ListBase.createListItemFromJson(this.createElement, spliceData, this.listOption(spliceData, fields), 1, true, this);\n    };\n    DropDownBase.prototype.emptyDataRequest = function (fields) {\n        var listItems = [];\n        this.onActionComplete(this.renderItems(listItems, fields), listItems);\n        this.isRequested = false;\n        this.isRequesting = false;\n        this.hideSpinner();\n    };\n    DropDownBase.prototype.showSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.hideSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.onActionFailure = function (e) {\n        this.liCollections = [];\n        this.trigger('actionFailure', e);\n        this.l10nUpdate(true);\n        if (!isNullOrUndefined(this.list)) {\n            addClass([this.list], dropDownBaseClasses.noData);\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    DropDownBase.prototype.onActionComplete = function (ulElement, list, e) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        this.listData = list;\n        if (this.isVirtualizationEnabled && !this.isCustomDataUpdated && !this.virtualSelectAll) {\n            this.notify('setGeneratedData', {\n                module: 'VirtualScroll'\n            });\n        }\n        if (this.getModuleName() !== 'listbox') {\n            ulElement.setAttribute('tabindex', '0');\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['itemTemplate', 'groupTemplate', 'actionFailureTemplate', 'noRecordsTemplate']);\n        }\n        if (!this.isVirtualizationEnabled) {\n            this.fixedHeaderElement = isNullOrUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement : null;\n        }\n        if (this.getModuleName() === 'multiselect' && this.properties.allowCustomValue && this.fields.groupBy) {\n            for (var i = 0; i < ulElement.childElementCount; i++) {\n                if (ulElement.children[i].classList.contains('e-list-group-item')) {\n                    if (isNullOrUndefined(ulElement.children[i].innerHTML) || ulElement.children[i].innerHTML === '') {\n                        addClass([ulElement.children[i]], HIDE_GROUPLIST);\n                    }\n                }\n                if (ulElement.children[0].classList.contains('e-hide-group-header')) {\n                    setStyleAttribute(ulElement.children[1], { zIndex: 11 });\n                }\n            }\n        }\n        if (!isNullOrUndefined(this.list)) {\n            if (!this.isVirtualizationEnabled) {\n                this.list.innerHTML = '';\n                this.list.appendChild(ulElement);\n                this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.ulElement = this.list.querySelector('ul');\n                this.postRender(this.list, list, this.bindEvent);\n            }\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    DropDownBase.prototype.postRender = function (listElement, list, bindEvent) {\n        if (this.fields.disabled) {\n            var liCollections = listElement.querySelectorAll('.' + dropDownBaseClasses.li);\n            for (var index = 0; index < liCollections.length; index++) {\n                if (JSON.parse(JSON.stringify(this.listData[index]))[this.fields.disabled]) {\n                    this.disableListItem(liCollections[index]);\n                }\n            }\n        }\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        var focusItem = this.fields.disabled ? listElement.querySelector('.' + dropDownBaseClasses.li + ':not(.e-disabled') : listElement.querySelector('.' + dropDownBaseClasses.li);\n        var selectedItem = listElement.querySelector('.' + dropDownBaseClasses.selected);\n        if (focusItem && !selectedItem) {\n            focusItem.classList.add(dropDownBaseClasses.focus);\n        }\n        if (list.length <= 0) {\n            this.l10nUpdate();\n            addClass([listElement], dropDownBaseClasses.noData);\n        }\n        else {\n            listElement.classList.remove(dropDownBaseClasses.noData);\n        }\n    };\n    /**\n     * Get the query to do the data operation before list item generation.\n     *\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @returns {Query} Returns the query to do the data query operation.\n     */\n    DropDownBase.prototype.getQuery = function (query) {\n        return query ? query : this.query ? this.query : new Query();\n    };\n    DropDownBase.prototype.updateVirtualizationProperties = function (itemCount, filtering, isCheckbox) {\n        this.isVirtualizationEnabled = true;\n        this.virtualizedItemsCount = itemCount;\n        this.isAllowFiltering = filtering;\n        this.isCheckBoxSelection = isCheckbox;\n    };\n    /**\n     * To render the template content for group header element.\n     *\n     * @param {HTMLElement} listEle - Specifies the group list elements.\n     * @returns {void}\n     */\n    DropDownBase.prototype.renderGroupTemplate = function (listEle) {\n        if (this.fields.groupBy !== null && this.dataSource || this.element.querySelector('.' + dropDownBaseClasses.group)) {\n            var dataSource = this.dataSource;\n            var option = { groupTemplateID: this.groupTemplateId, isStringTemplate: this.isStringTemplate };\n            var headerItems = listEle.querySelectorAll('.' + dropDownBaseClasses.group);\n            var groupcheck = this.templateCompiler(this.groupTemplate);\n            if (typeof this.groupTemplate !== 'function' && groupcheck) {\n                var groupValue = select(this.groupTemplate, document).innerHTML.trim();\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                var tempHeaders = ListBase.renderGroupTemplate(groupValue, dataSource, this.fields.properties, headerItems, option, this);\n                //EJ2-55168- Group checkbox is not working with group template\n                if (this.isGroupChecking) {\n                    for (var i = 0; i < tempHeaders.length; i++) {\n                        this.notify('addItem', { module: 'CheckBoxSelection', item: tempHeaders[i] });\n                    }\n                }\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                var tempHeaders = ListBase.renderGroupTemplate(this.groupTemplate, dataSource, this.fields.properties, headerItems, option, this);\n                //EJ2-55168- Group checkbox is not working with group template\n                if (this.isGroupChecking) {\n                    for (var i = 0; i < tempHeaders.length; i++) {\n                        this.notify('addItem', { module: 'CheckBoxSelection', item: tempHeaders[i] });\n                    }\n                }\n            }\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To create the ul li list items\n     *\n     * @param {object []} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @returns {HTMLElement} Return the ul li list items.\n     */\n    DropDownBase.prototype.createListItems = function (dataSource, fields) {\n        if (dataSource) {\n            if (fields.groupBy || this.element.querySelector('optgroup')) {\n                if (fields.groupBy) {\n                    if (this.sortOrder !== 'None') {\n                        dataSource = this.getSortedDataSource(dataSource);\n                    }\n                    dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n                }\n                addClass([this.list], dropDownBaseClasses.grouping);\n            }\n            else if (this.getModuleName() !== 'listbox' || (this.getModuleName() === 'listbox' && !this.preventDefActionFilter)) {\n                dataSource = this.getSortedDataSource(dataSource);\n            }\n            var options = this.listOption(dataSource, fields);\n            var spliceData = (dataSource.length > 100) ?\n                new DataManager(dataSource).executeLocal(new Query().take(100))\n                : dataSource;\n            this.sortedData = dataSource;\n            return ListBase.createList(this.createElement, (this.getModuleName() === 'autocomplete') ? spliceData : dataSource, options, true, this);\n        }\n        return null;\n    };\n    DropDownBase.prototype.listOption = function (dataSource, fields) {\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n        var fieldValues = !isNullOrUndefined(fields.properties) ?\n            fields.properties : fields;\n        var options = (fields.text !== null || fields.value !== null) ? {\n            fields: fieldValues,\n            showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\n        } : { fields: { value: 'text' } };\n        return extend({}, options, fields, true);\n    };\n    DropDownBase.prototype.setFloatingHeader = function (e) {\n        if (!isNullOrUndefined(this.list) && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n            if (isNullOrUndefined(this.fixedHeaderElement)) {\n                this.fixedHeaderElement = this.createElement('div', { className: dropDownBaseClasses.fixedHead });\n                if (!isNullOrUndefined(this.list) && !this.list.querySelector('li').classList.contains(dropDownBaseClasses.group)) {\n                    this.fixedHeaderElement.style.display = 'none';\n                }\n                if (!isNullOrUndefined(this.fixedHeaderElement) && !isNullOrUndefined(this.list)) {\n                    prepend([this.fixedHeaderElement], this.list);\n                }\n                this.setFixedHeader();\n            }\n            if (!isNullOrUndefined(this.fixedHeaderElement) && this.fixedHeaderElement.style.zIndex === '0') {\n                this.setFixedHeader();\n            }\n            this.scrollStop(e);\n        }\n    };\n    DropDownBase.prototype.scrollStop = function (e, isDownkey) {\n        var target = !isNullOrUndefined(e) ? e.target : this.list;\n        var liHeight = parseInt(getComputedStyle(this.getValidLi(), null).getPropertyValue('height'), 10);\n        var topIndex = Math.round(target.scrollTop / liHeight);\n        var liCollections = this.list.querySelectorAll('li' + ':not(.e-hide-listitem)');\n        var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n        var count = 0;\n        var isCount = false;\n        for (var i = topIndex; i > -1; i--) {\n            var index = this.isVirtualizationEnabled ? i + virtualListCount : i;\n            if (this.isVirtualizationEnabled) {\n                if (isCount) {\n                    count++;\n                }\n                if (this.fixedHeaderElement && this.updateGroupHeader(index, liCollections, target)) {\n                    break;\n                }\n                if (isDownkey) {\n                    if ((!isNullOrUndefined(liCollections[index]) && liCollections[index].classList.contains(dropDownBaseClasses.selected) && this.getModuleName() !== 'autocomplete') || (!isNullOrUndefined(liCollections[index]) && liCollections[index].classList.contains(dropDownBaseClasses.focus) && this.getModuleName() === 'autocomplete')) {\n                        count++;\n                        isCount = true;\n                    }\n                }\n            }\n            else {\n                if (this.updateGroupHeader(index, liCollections, target)) {\n                    break;\n                }\n            }\n        }\n    };\n    DropDownBase.prototype.getPageCount = function (returnExactCount) {\n        if (this.list) {\n            var liHeight = this.list.classList.contains(dropDownBaseClasses.noData) ? null :\n                getComputedStyle(this.getItems()[0], null).getPropertyValue('height');\n            var pageCount = Math.round(this.list.getBoundingClientRect().height / parseInt(liHeight, 10));\n            return returnExactCount ? pageCount : Math.round(pageCount);\n        }\n        else {\n            return 0;\n        }\n    };\n    DropDownBase.prototype.updateGroupHeader = function (index, liCollections, target) {\n        if (!isNullOrUndefined(liCollections[index]) &&\n            liCollections[index].classList.contains(dropDownBaseClasses.group)) {\n            this.updateGroupFixedHeader(liCollections[index], target);\n            return true;\n        }\n        else {\n            this.fixedHeaderElement.style.display = 'none';\n            this.fixedHeaderElement.style.top = 'none';\n            return false;\n        }\n    };\n    DropDownBase.prototype.updateGroupFixedHeader = function (element, target) {\n        if (this.fixedHeaderElement) {\n            if (!isNullOrUndefined(element.innerHTML)) {\n                this.fixedHeaderElement.innerHTML = element.innerHTML;\n            }\n            this.fixedHeaderElement.style.position = 'fixed';\n            this.fixedHeaderElement.style.top = (this.list.parentElement.offsetTop + this.list.offsetTop) - window.scrollY + 'px';\n            this.fixedHeaderElement.style.display = 'block';\n        }\n    };\n    DropDownBase.prototype.getValidLi = function () {\n        if (this.isVirtualizationEnabled) {\n            return this.liCollections[0].classList.contains('e-virtual-list') ? this.liCollections[this.skeletonCount] : this.liCollections[0];\n        }\n        return this.liCollections[0];\n    };\n    /**\n     * To render the list items\n     *\n     * @param {object[]} listData - Specifies the list of array of data.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @param {boolean} isCheckBoxUpdate - Specifies whether the list item is updated with checkbox.\n     * @returns {HTMLElement} Return the list items.\n     */\n    DropDownBase.prototype.renderItems = function (listData, fields, isCheckBoxUpdate) {\n        var ulElement;\n        if (this.itemTemplate && listData) {\n            if (this.getModuleName() === 'multiselect' && this.virtualSelectAll) {\n                this.virtualSelectAllData = listData;\n                listData = listData.slice(this.virtualItemStartIndex, this.virtualItemEndIndex);\n            }\n            var dataSource = listData;\n            if (dataSource && fields.groupBy) {\n                if (this.sortOrder !== 'None') {\n                    dataSource = this.getSortedDataSource(dataSource);\n                }\n                dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n            }\n            else if (this.getModuleName() !== 'listbox' || (this.getModuleName() === 'listbox' && !this.preventDefActionFilter)) {\n                dataSource = this.getSortedDataSource(dataSource);\n            }\n            this.sortedData = dataSource;\n            var spliceData = (dataSource.length > 100) ?\n                new DataManager(dataSource).executeLocal(new Query().take(100))\n                : dataSource;\n            ulElement = this.templateListItem((this.getModuleName() === 'autocomplete') ? spliceData : dataSource, fields);\n            if (this.isVirtualizationEnabled) {\n                var oldUlElement = this.list.querySelector('.e-list-parent');\n                var virtualUlElement = this.list.querySelector('.e-virtual-ddl-content');\n                if ((listData.length >= this.virtualizedItemsCount && oldUlElement && virtualUlElement) || (oldUlElement && virtualUlElement && this.isAllowFiltering) || (oldUlElement && virtualUlElement && this.getModuleName() === 'autocomplete')) {\n                    virtualUlElement.replaceChild(ulElement, oldUlElement);\n                    var reOrderList = this.list.querySelectorAll('.e-reorder');\n                    if (this.list.querySelector('.e-virtual-ddl-content') && reOrderList && reOrderList.length > 0 && !isCheckBoxUpdate) {\n                        this.list.querySelector('.e-virtual-ddl-content').removeChild(reOrderList[0]);\n                    }\n                    this.updateListElements(listData);\n                }\n                else if (!virtualUlElement) {\n                    this.list.innerHTML = '';\n                    this.createVirtualContent();\n                    this.list.querySelector('.e-virtual-ddl-content').appendChild(ulElement);\n                    this.updateListElements(listData);\n                }\n            }\n        }\n        else {\n            if (this.getModuleName() === 'multiselect' && this.virtualSelectAll) {\n                this.virtualSelectAllData = listData;\n                listData = listData.slice(this.virtualItemStartIndex, this.virtualItemEndIndex);\n            }\n            ulElement = this.createListItems(listData, fields);\n            if (this.isIncrementalRequest) {\n                this.incrementalLiCollections = ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.incrementalUlElement = ulElement;\n                this.incrementalListData = listData;\n                return ulElement;\n            }\n            if (this.isVirtualizationEnabled) {\n                var oldUlElement = this.list.querySelector('.e-list-parent' + ':not(.e-reorder)');\n                var virtualUlElement = this.list.querySelector('.e-virtual-ddl-content');\n                var isRemovedUlelement = false;\n                if (!oldUlElement && this.list.querySelector('.e-list-parent' + '.e-reorder')) {\n                    oldUlElement = this.list.querySelector('.e-list-parent' + '.e-reorder');\n                }\n                if ((listData.length >= this.virtualizedItemsCount && oldUlElement && virtualUlElement) || (oldUlElement && virtualUlElement && this.isAllowFiltering) || (oldUlElement && virtualUlElement && (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'multiselect')) || isRemovedUlelement) {\n                    if (!this.appendUncheckList) {\n                        virtualUlElement.replaceChild(ulElement, oldUlElement);\n                    }\n                    else {\n                        virtualUlElement.appendChild(ulElement);\n                    }\n                    this.updateListElements(listData);\n                }\n                else if ((!virtualUlElement) || (!virtualUlElement.firstChild)) {\n                    this.list.innerHTML = '';\n                    this.createVirtualContent();\n                    this.list.querySelector('.e-virtual-ddl-content').appendChild(ulElement);\n                    this.updateListElements(listData);\n                }\n            }\n        }\n        return ulElement;\n    };\n    DropDownBase.prototype.createVirtualContent = function () {\n        if (!this.list.querySelector('.e-virtual-ddl-content')) {\n            this.list.appendChild(this.createElement('div', {\n                className: 'e-virtual-ddl-content'\n            }));\n        }\n    };\n    DropDownBase.prototype.updateListElements = function (listData) {\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.ulElement = this.list.querySelector('ul');\n        this.listData = listData;\n        this.postRender(this.list, listData, this.bindEvent);\n    };\n    DropDownBase.prototype.templateListItem = function (dataSource, fields) {\n        var option = this.listOption(dataSource, fields);\n        option.templateID = this.itemTemplateId;\n        option.isStringTemplate = this.isStringTemplate;\n        var itemcheck = this.templateCompiler(this.itemTemplate);\n        var ulElement;\n        if (typeof this.itemTemplate !== 'function' && itemcheck) {\n            var itemValue = select(this.itemTemplate, document).innerHTML.trim();\n            ulElement = ListBase.renderContentTemplate(this.createElement, itemValue, dataSource, fields.properties, option, this);\n            if (this.isVirtualizationEnabled && this.isReact) {\n                this.renderReactTemplates();\n            }\n            return ulElement;\n        }\n        else {\n            ulElement = ListBase.renderContentTemplate(this.createElement, this.itemTemplate, dataSource, fields.properties, option, this);\n            if (this.isVirtualizationEnabled && this.isReact) {\n                this.renderReactTemplates();\n            }\n            return ulElement;\n        }\n    };\n    DropDownBase.prototype.typeOfData = function (items) {\n        var item = { typeof: null, item: null };\n        for (var i = 0; (!isNullOrUndefined(items) && i < items.length); i++) {\n            if (!isNullOrUndefined(items[i])) {\n                var listDataType = typeof (items[i]) === 'string' ||\n                    typeof (items[i]) === 'number' || typeof (items[i]) === 'boolean';\n                var isNullData = listDataType ? isNullOrUndefined(items[i]) :\n                    isNullOrUndefined(getValue((this.fields.value ? this.fields.value : 'value'), items[i]));\n                if (!isNullData) {\n                    return item = { typeof: typeof items[i], item: items[i] };\n                }\n            }\n        }\n        return item;\n    };\n    DropDownBase.prototype.setFixedHeader = function () {\n        if (!isNullOrUndefined(this.list)) {\n            this.list.parentElement.style.display = 'block';\n        }\n        var borderWidth = 0;\n        if (this.list && this.list.parentElement) {\n            borderWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-width'), 10);\n            /*Shorthand property not working in Firefox for getComputedStyle method.\n            Refer bug report https://bugzilla.mozilla.org/show_bug.cgi?id=137688\n            Refer alternate solution https://stackoverflow.com/a/41696234/9133493*/\n            if (isNaN(borderWidth)) {\n                var borderTopWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-top-width'), 10);\n                var borderBottomWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-bottom-width'), 10);\n                var borderLeftWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-left-width'), 10);\n                var borderRightWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-right-width'), 10);\n                borderWidth = (borderTopWidth + borderBottomWidth + borderLeftWidth + borderRightWidth);\n            }\n        }\n        if (!isNullOrUndefined(this.liCollections)) {\n            var liWidth = this.getValidLi().offsetWidth - borderWidth;\n            this.fixedHeaderElement.style.width = liWidth.toString() + 'px';\n        }\n        setStyleAttribute(this.fixedHeaderElement, { zIndex: 10 });\n        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group + ':not(.e-hide-listitem)');\n        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n    };\n    DropDownBase.prototype.getSortedDataSource = function (dataSource) {\n        if (dataSource && this.sortOrder !== 'None') {\n            var textField = this.fields.text ? this.fields.text : 'text';\n            if (this.typeOfData(dataSource).typeof === 'string' || this.typeOfData(dataSource).typeof === 'number'\n                || this.typeOfData(dataSource).typeof === 'boolean') {\n                textField = '';\n            }\n            dataSource = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, textField));\n        }\n        return dataSource;\n    };\n    /**\n     * Return the index of item which matched with given value in data source\n     *\n     * @param {string | number | boolean} value - Specifies given value.\n     * @returns {number} Returns the index of the item.\n     */\n    DropDownBase.prototype.getIndexByValue = function (value) {\n        var index;\n        var listItems = [];\n        if (this.fields.disabled && this.getModuleName() === 'multiselect' && this.liCollections) {\n            listItems = this.liCollections;\n        }\n        else {\n            listItems = this.getItems();\n        }\n        for (var i = 0; i < listItems.length; i++) {\n            if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    };\n    /**\n     * Return the index of item which matched with given value in data source\n     *\n     * @param {string | number | boolean} value - Specifies given value.\n     * @param {HTMLElement} ulElement - Specifies given value.\n     * @returns {number} Returns the index of the item.\n     */\n    DropDownBase.prototype.getIndexByValueFilter = function (value, ulElement) {\n        var index;\n        if (!ulElement) {\n            return null;\n        }\n        var listItems = ulElement.querySelectorAll('li' + ':not(.e-list-group-item)');\n        if (listItems) {\n            for (var i = 0; i < listItems.length; i++) {\n                if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\n                    index = i;\n                    break;\n                }\n            }\n        }\n        return index;\n    };\n    /**\n     * To dispatch the event manually\n     *\n     * @param {HTMLElement} element - Specifies the element to dispatch the event.\n     * @param {string} type - Specifies the name of the event.\n     * @returns {void}\n     */\n    DropDownBase.prototype.dispatchEvent = function (element, type) {\n        var evt = document.createEvent('HTMLEvents');\n        evt.initEvent(type, false, true);\n        if (element) {\n            element.dispatchEvent(evt);\n        }\n    };\n    /**\n     * To set the current fields\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.setFields = function () {\n        if (this.fields.value && !this.fields.text) {\n            this.updateFields(this.fields.value, this.fields.value);\n        }\n        else if (!this.fields.value && this.fields.text) {\n            this.updateFields(this.fields.text, this.fields.text);\n        }\n        else if (!this.fields.value && !this.fields.text) {\n            this.updateFields('text', 'text');\n        }\n    };\n    /**\n     * reset the items list.\n     *\n     * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @param {MouseEvent | KeyboardEventArgs | TouchEvent} e - Specifies the event.\n     * @returns {void}\n     */\n    DropDownBase.prototype.resetList = function (dataSource, fields, query, e) {\n        if (this.list) {\n            if ((this.element.tagName === 'SELECT' && this.element.options.length > 0)\n                || (this.element.tagName === 'UL' && this.element.childNodes.length > 0)) {\n                var data = dataSource instanceof Array ? (dataSource.length > 0)\n                    : !isNullOrUndefined(dataSource);\n                if (!data && this.selectData && this.selectData.length > 0) {\n                    dataSource = this.selectData;\n                }\n            }\n            dataSource = this.getModuleName() === 'combobox' && this.selectData && dataSource instanceof Array && dataSource.length < this.selectData.length && this.addedNewItem ? this.selectData : dataSource;\n            this.addedNewItem = false;\n            this.setListData(dataSource, fields, query, e);\n        }\n    };\n    DropDownBase.prototype.updateSelectElementData = function (isFiltering) {\n        if ((isFiltering || this.isVirtualizationEnabled) &&\n            isNullOrUndefined(this.selectData) && this.listData && this.listData.length > 0) {\n            this.selectData = this.listData;\n        }\n    };\n    DropDownBase.prototype.updateSelection = function () {\n        // This is for after added the item, need to update the selected index values.\n    };\n    DropDownBase.prototype.renderList = function () {\n        // This is for render the list items.\n        this.render();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateDataSource = function (props, oldProps) {\n        this.resetList(this.dataSource);\n        this.totalItemCount = this.dataSource instanceof DataManager ? this.dataSource.dataSource.json.length : 0;\n    };\n    DropDownBase.prototype.setUpdateInitial = function (props, newProp, oldProp) {\n        this.isDataFetched = false;\n        var updateData = {};\n        for (var j = 0; props.length > j; j++) {\n            if (newProp[props[j]] && props[j] === 'fields') {\n                this.setFields();\n                updateData[props[j]] = newProp[props[j]];\n            }\n            else if (newProp[props[j]]) {\n                updateData[props[j]] = newProp[props[j]];\n            }\n        }\n        if (Object.keys(updateData).length > 0) {\n            if (Object.keys(updateData).indexOf('dataSource') === -1) {\n                updateData.dataSource = this.dataSource;\n            }\n            if (this.getModuleName() === 'listbox') {\n                if (!this.isReact || (this.isReact && !isNullOrUndefined(newProp.dataSource))) {\n                    this.updateDataSource(updateData, oldProp);\n                }\n            }\n            else {\n                this.isDynamicData = true;\n                this.updateDataSource(updateData, oldProp);\n            }\n        }\n    };\n    /**\n     * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n     *\n     * @param {DropDownBaseModel} newProp - Returns the dynamic property value of the component.\n     * @param {DropDownBaseModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'dropdownbase') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        this.setUpdateInitial(['sortOrder', 'itemTemplate'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'sortOrder':\n                case 'dataSource':\n                case 'itemTemplate':\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'groupTemplate':\n                    this.renderGroupTemplate(this.list);\n                    if (this.ulElement && this.fixedHeaderElement) {\n                        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\n                        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n                    }\n                    break;\n                case 'locale':\n                    if (this.list && (!isNullOrUndefined(this.liCollections) && this.liCollections.length === 0)) {\n                        this.l10nUpdate();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    this.setZIndex();\n                    break;\n            }\n        }\n    };\n    /**\n     * Build and render the component\n     *\n     * @param {MouseEvent | KeyboardEventArgs | TouchEvent} e - Specifies the event.\n     * @param {boolean} isEmptyData - Specifies the component to initialize with list data or not.\n     * @private\n     * @returns {void}\n     */\n    DropDownBase.prototype.render = function (e, isEmptyData) {\n        if (this.getModuleName() === 'listbox') {\n            this.list = this.createElement('div', { className: dropDownBaseClasses.content, attrs: { 'tabindex': '0' } });\n        }\n        else {\n            this.list = this.createElement('div', { className: dropDownBaseClasses.content });\n        }\n        this.list.classList.add(dropDownBaseClasses.root);\n        this.setFields();\n        var rippleModel = { duration: 300, selector: '.' + dropDownBaseClasses.li };\n        this.rippleFun = rippleEffect(this.list, rippleModel);\n        var group = this.element.querySelector('select>optgroup');\n        if ((this.fields.groupBy || !isNullOrUndefined(group)) && !this.isGroupChecking) {\n            EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n            EventHandler.add(document, 'scroll', this.updateGroupFixedHeader, this);\n        }\n        if (this.getModuleName() === 'dropdownbase') {\n            if (this.element.getAttribute('tabindex')) {\n                this.list.setAttribute('tabindex', this.element.getAttribute('tabindex'));\n            }\n            removeClass([this.element], dropDownBaseClasses.root);\n            this.element.style.display = 'none';\n            var wrapperElement = this.createElement('div');\n            this.element.parentElement.insertBefore(wrapperElement, this.element);\n            wrapperElement.appendChild(this.element);\n            wrapperElement.appendChild(this.list);\n        }\n        this.setEnableRtl();\n        if (!isEmptyData) {\n            this.initialize(e);\n        }\n    };\n    DropDownBase.prototype.removeScrollEvent = function () {\n        if (this.list) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    DropDownBase.prototype.getModuleName = function () {\n        return 'dropdownbase';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     */\n    DropDownBase.prototype.getItems = function () {\n        return this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n     * @deprecated\n     */\n    DropDownBase.prototype.addItem = function (items, itemIndex) {\n        if (!this.list || (this.list.textContent === this.noRecordsTemplate && this.getModuleName() !== 'listbox')) {\n            this.renderList();\n        }\n        if (this.sortOrder !== 'None' && isNullOrUndefined(itemIndex)) {\n            var newList = [].slice.call(this.listData);\n            newList.push(items);\n            newList = this.getSortedDataSource(newList);\n            if (this.fields.groupBy) {\n                newList = ListBase.groupDataSource(newList, this.fields.properties, this.sortOrder);\n                itemIndex = newList.indexOf(items);\n            }\n            else {\n                itemIndex = newList.indexOf(items);\n            }\n        }\n        var itemsCount = this.getItems().length;\n        var isListboxEmpty = itemsCount === 0;\n        var selectedItemValue = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        items = (items instanceof Array ? items : [items]);\n        var index;\n        index = (isNullOrUndefined(itemIndex) || itemIndex < 0 || itemIndex > itemsCount - 1) ? itemsCount : itemIndex;\n        var fields = this.fields;\n        if (items && fields.groupBy) {\n            items = ListBase.groupDataSource(items, fields.properties);\n        }\n        var liCollections = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            var isHeader = item.isHeader;\n            var li = this.createElement('li', { className: isHeader ? dropDownBaseClasses.group : dropDownBaseClasses.li, id: 'option-add-' + i });\n            var itemText = item instanceof Object ? getValue(fields.text, item) : item;\n            if (isHeader) {\n                li.innerText = itemText;\n            }\n            if (this.itemTemplate && !isHeader) {\n                var itemCheck = this.templateCompiler(this.itemTemplate);\n                var compiledString = typeof this.itemTemplate !== 'function' &&\n                    itemCheck ? compile(select(this.itemTemplate, document).innerHTML.trim()) : compile(this.itemTemplate);\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var addItemTemplate = compiledString(item, this, 'itemTemplate', this.itemTemplateId, this.isStringTemplate, null, li);\n                if (addItemTemplate) {\n                    append(addItemTemplate, li);\n                }\n            }\n            else if (!isHeader) {\n                li.appendChild(document.createTextNode(itemText));\n            }\n            li.setAttribute('data-value', item instanceof Object ? getValue(fields.value, item) : item);\n            li.setAttribute('role', 'option');\n            this.notify('addItem', { module: 'CheckBoxSelection', item: li });\n            liCollections.push(li);\n            if (this.getModuleName() === 'listbox') {\n                this.listData.splice(isListboxEmpty ?\n                    this.listData.length : index, 0, item);\n                if (this.listData.length !== this.sortedData.length) {\n                    this.sortedData = this.listData;\n                }\n            }\n            else {\n                this.listData.push(item);\n            }\n            if (this.sortOrder === 'None' && isNullOrUndefined(itemIndex) && index === 0) {\n                index = null;\n            }\n            if (this.getModuleName() === 'listbox') {\n                this.updateActionCompleteData(li, item, isListboxEmpty ? null : index + i);\n            }\n            else {\n                this.updateActionCompleteData(li, item, index);\n            }\n            //Listbox event\n            this.trigger('beforeItemRender', { element: li, item: item });\n        }\n        if (itemsCount === 0 && isNullOrUndefined(this.list.querySelector('ul'))) {\n            if (!isNullOrUndefined(this.list)) {\n                this.list.innerHTML = '';\n                this.list.classList.remove(dropDownBaseClasses.noData);\n                this.isAddNewItemTemplate = true;\n                if (!isNullOrUndefined(this.ulElement)) {\n                    this.list.appendChild(this.ulElement);\n                }\n            }\n            this.liCollections = liCollections;\n            if (!isNullOrUndefined(liCollections) && !isNullOrUndefined(this.ulElement)) {\n                append(liCollections, this.ulElement);\n            }\n            this.updateAddItemList(this.list, itemsCount);\n        }\n        else {\n            if (this.getModuleName() === 'listbox' && itemsCount === 0) {\n                this.ulElement.innerHTML = '';\n            }\n            var attr = [];\n            for (var i = 0; i < items.length; i++) {\n                var listGroupItem = this.ulElement.querySelectorAll('.e-list-group-item');\n                for (var j = 0; j < listGroupItem.length; j++) {\n                    attr[j] = listGroupItem[j].innerText;\n                }\n                if (attr.indexOf(liCollections[i].innerText) > -1 && fields.groupBy) {\n                    for (var j = 0; j < listGroupItem.length; j++) {\n                        if (attr[j] === liCollections[i].innerText) {\n                            if (this.sortOrder === 'None') {\n                                this.ulElement.insertBefore(liCollections[i + 1], listGroupItem[j + 1]);\n                            }\n                            else {\n                                this.ulElement.insertBefore(liCollections[i + 1], this.ulElement.childNodes[itemIndex]);\n                            }\n                            i = i + 1;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    if (this.liCollections[index] && this.liCollections[index].parentNode) {\n                        this.liCollections[index].parentNode.\n                            insertBefore(liCollections[i], this.liCollections[index]);\n                    }\n                    else {\n                        if (itemIndex && this.getModuleName() === 'listbox') {\n                            this.ulElement.insertBefore(liCollections[i], this.ulElement.childNodes[itemIndex + i]);\n                        }\n                        else {\n                            this.ulElement.appendChild(liCollections[i]);\n                        }\n                    }\n                }\n                var tempLi = [].slice.call(this.liCollections);\n                tempLi.splice(index, 0, liCollections[i]);\n                this.liCollections = tempLi;\n                index += 1;\n                if (this.getModuleName() === 'multiselect') {\n                    this.updateDataList();\n                }\n            }\n        }\n        if (this.getModuleName() === 'listbox' && this.isReact) {\n            this.renderReactTemplates();\n        }\n        if (selectedItemValue || itemIndex === 0) {\n            this.updateSelection();\n        }\n        this.addedNewItem = true;\n    };\n    /**\n     * Checks if the given HTML element is disabled.\n     *\n     * @param {HTMLElement} li - The HTML element to check.\n     * @returns {boolean} - Returns true if the element is disabled, otherwise false.\n     */\n    DropDownBase.prototype.isDisabledElement = function (li) {\n        if (li && li.classList.contains('e-disabled')) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Checks whether the list item at the specified index is disabled.\n     *\n     * @param {number} index - The index of the list item to check.\n     * @returns {boolean} True if the list item is disabled, false otherwise.\n     */\n    DropDownBase.prototype.isDisabledItemByIndex = function (index) {\n        if (this.fields.disabled && this.liCollections) {\n            return this.isDisabledElement(this.liCollections[index]);\n        }\n        return false;\n    };\n    /**\n     * Disables the given list item.\n     *\n     * @param { HTMLLIElement } li - The list item to disable.\n     * @returns {void}\n     */\n    DropDownBase.prototype.disableListItem = function (li) {\n        li.classList.add('e-disabled');\n        li.setAttribute('aria-disabled', 'true');\n        li.setAttribute('aria-selected', 'false');\n    };\n    DropDownBase.prototype.validationAttribute = function (target, hidden) {\n        var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        hidden.setAttribute('name', name);\n        target.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            if (!target.getAttribute(attributes[i])) {\n                continue;\n            }\n            var attr = target.getAttribute(attributes[i]);\n            hidden.setAttribute(attributes[i], attr);\n            target.removeAttribute(attributes[i]);\n        }\n    };\n    DropDownBase.prototype.setZIndex = function () {\n        // this is for component wise\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateActionCompleteData = function (li, item, index) {\n        // this is for ComboBox custom value\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateAddItemList = function (list, itemCount) {\n        // this is for multiselect add item\n    };\n    DropDownBase.prototype.updateDataList = function () {\n        // this is for multiselect update list items\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     */\n    DropDownBase.prototype.getDataByValue = function (value) {\n        if (!isNullOrUndefined(this.listData)) {\n            var type = this.typeOfData(this.listData).typeof;\n            if (type === 'string' || type === 'number' || type === 'boolean') {\n                for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    if (!isNullOrUndefined(item) && item === value) {\n                        return item;\n                    }\n                }\n            }\n            else {\n                for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    if (!isNullOrUndefined(item) && getValue((this.fields.value ? this.fields.value : 'value'), item) === value) {\n                        return item;\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownBase.prototype.destroy = function () {\n        if (document) {\n            EventHandler.remove(document, 'scroll', this.updateGroupFixedHeader);\n            if (document.body.contains(this.list)) {\n                EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n                if (!isNullOrUndefined(this.rippleFun)) {\n                    this.rippleFun();\n                }\n                detach(this.list);\n            }\n        }\n        this.liCollections = null;\n        this.ulElement = null;\n        this.list = null;\n        this.enableRtlElements = null;\n        this.rippleFun = null;\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null, disabled: null }, FieldSettings)\n    ], DropDownBase.prototype, \"fields\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], DropDownBase.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property('Request failed')\n    ], DropDownBase.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property('None')\n    ], DropDownBase.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property([])\n    ], DropDownBase.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"query\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], DropDownBase.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownBase.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(1000)\n    ], DropDownBase.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownBase.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property()\n    ], DropDownBase.prototype, \"locale\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"destroyed\", void 0);\n    DropDownBase = __decorate([\n        NotifyPropertyChanges\n    ], DropDownBase);\n    return DropDownBase;\n}(Component));\nexport { DropDownBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { EventHandler, Property, Event, compile, KeyboardEvents, append, select } from '@syncfusion/ej2-base';\nimport { attributes, isNullOrUndefined, getUniqueID, formatUnit, isUndefined, getValue } from '@syncfusion/ej2-base';\nimport { Animation, Browser, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, closest, prepend, detach, classList } from '@syncfusion/ej2-base';\nimport { Popup, isCollide, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { incrementalSearch, resetIncrementalSearchValues } from '../common/incremental-search';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { DataManager, Query, Predicate } from '@syncfusion/ej2-data';\n// don't use space in classnames\nexport var dropDownListClasses = {\n    root: 'e-dropdownlist',\n    hover: dropDownBaseClasses.hover,\n    selected: dropDownBaseClasses.selected,\n    rtl: dropDownBaseClasses.rtl,\n    li: dropDownBaseClasses.li,\n    disable: dropDownBaseClasses.disabled,\n    base: dropDownBaseClasses.root,\n    focus: dropDownBaseClasses.focus,\n    content: dropDownBaseClasses.content,\n    input: 'e-input-group',\n    inputFocus: 'e-input-focus',\n    icon: 'e-input-group-icon e-ddl-icon',\n    iconAnimation: 'e-icon-anim',\n    value: 'e-input-value',\n    device: 'e-ddl-device',\n    backIcon: 'e-input-group-icon e-back-icon e-icons',\n    filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n    filterInput: 'e-input-filter',\n    filterParent: 'e-filter-parent',\n    mobileFilter: 'e-ddl-device-filter',\n    footer: 'e-ddl-footer',\n    header: 'e-ddl-header',\n    clearIcon: 'e-clear-icon',\n    clearIconHide: 'e-clear-icon-hide',\n    popupFullScreen: 'e-popup-full-page',\n    disableIcon: 'e-ddl-disable-icon',\n    hiddenElement: 'e-ddl-hidden',\n    virtualList: 'e-list-item e-virtual-list'\n};\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The DropDownList component contains a list of predefined values from which you can\n * choose a single value.\n * ```html\n * <input type=\"text\" tabindex=\"1\" id=\"list\"> </input>\n * ```\n * ```typescript\n *   let dropDownListObj:DropDownList = new DropDownList();\n *   dropDownListObj.appendTo(\"#list\");\n * ```\n */\nvar DropDownList = /** @class */ (function (_super) {\n    __extends(DropDownList, _super);\n    /**\n     * * Constructor for creating the DropDownList component.\n     *\n     * @param {DropDownListModel} options - Specifies the DropDownList model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DropDownList(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isListSearched = false;\n        _this.preventChange = false;\n        _this.isTouched = false;\n        _this.isFocused = false;\n        _this.autoFill = false;\n        return _this;\n    }\n    /**\n     * Initialize the event handler.\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownList.prototype.preRender = function () {\n        this.valueTempElement = null;\n        this.element.style.opacity = '0';\n        this.initializeData();\n        _super.prototype.preRender.call(this);\n        this.activeIndex = this.index;\n        this.queryString = '';\n    };\n    DropDownList.prototype.initializeData = function () {\n        this.isPopupOpen = false;\n        this.isDocumentClick = false;\n        this.isInteracted = false;\n        this.isFilterFocus = false;\n        this.beforePopupOpen = false;\n        this.initial = true;\n        this.initialRemoteRender = false;\n        this.isNotSearchList = false;\n        this.isTyped = false;\n        this.isSelected = false;\n        this.preventFocus = false;\n        this.preventAutoFill = false;\n        this.isValidKey = false;\n        this.typedString = '';\n        this.isEscapeKey = false;\n        this.isPreventBlur = false;\n        this.isTabKey = false;\n        this.actionCompleteData = { isUpdated: false };\n        this.actionData = { isUpdated: false };\n        this.prevSelectPoints = {};\n        this.isSelectCustom = false;\n        this.isDropDownClick = false;\n        this.preventAltUp = false;\n        this.isCustomFilter = false;\n        this.isSecondClick = false;\n        this.previousValue = null;\n        this.keyConfigure = {\n            tab: 'tab',\n            enter: '13',\n            escape: '27',\n            end: '35',\n            home: '36',\n            down: '40',\n            up: '38',\n            pageUp: '33',\n            pageDown: '34',\n            open: 'alt+40',\n            close: 'shift+tab',\n            hide: 'alt+38',\n            space: '32'\n        };\n        this.viewPortInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: this.itemCount\n        };\n    };\n    DropDownList.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ 'zIndex': this.zIndex });\n        }\n    };\n    DropDownList.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableVirtualization) {\n            modules.push({ args: [this], member: 'VirtualScroll' });\n        }\n        return modules;\n    };\n    DropDownList.prototype.renderList = function (e, isEmptyData) {\n        _super.prototype.render.call(this, e, isEmptyData);\n        if (!(this.dataSource instanceof DataManager)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        if (this.enableVirtualization && this.isFiltering() && this.getModuleName() === 'combobox') {\n            this.UpdateSkeleton();\n            this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n            this.ulElement = this.list.querySelector('ul');\n        }\n        this.unWireListEvents();\n        this.wireListEvents();\n    };\n    DropDownList.prototype.floatLabelChange = function () {\n        if (this.getModuleName() === 'dropdownlist' && this.floatLabelType === 'Auto') {\n            var floatElement = this.inputWrapper.container.querySelector('.e-float-text');\n            if (this.inputElement.value !== '' || this.isInteracted) {\n                classList(floatElement, ['e-label-top'], ['e-label-bottom']);\n            }\n            else {\n                classList(floatElement, ['e-label-bottom'], ['e-label-top']);\n            }\n        }\n    };\n    DropDownList.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        this.clearAll(e);\n        if (this.enableVirtualization) {\n            this.list.scrollTop = 0;\n            this.virtualListInfo = null;\n            this.previousStartIndex = 0;\n            this.previousEndIndex = 0;\n        }\n    };\n    DropDownList.prototype.resetFocusElement = function () {\n        this.removeHover();\n        this.removeSelection();\n        this.removeFocus();\n        this.list.scrollTop = 0;\n        if (this.getModuleName() !== 'autocomplete' && !isNullOrUndefined(this.ulElement)) {\n            var li = this.fields.disabled ? this.ulElement.querySelector('.' + dropDownListClasses.li + ':not(.e-disabled)') : this.ulElement.querySelector('.' + dropDownListClasses.li);\n            if (this.enableVirtualization) {\n                li = this.liCollections[this.skeletonCount];\n            }\n            if (li) {\n                li.classList.add(dropDownListClasses.focus);\n            }\n        }\n    };\n    DropDownList.prototype.clearAll = function (e, properties) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        if (isNullOrUndefined(properties) || (!isNullOrUndefined(properties) &&\n            (isNullOrUndefined(properties.dataSource) ||\n                (!(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)))) {\n            this.isActive = true;\n            this.resetSelection(properties);\n        }\n        var dataItem = this.getItemData();\n        if ((!this.allowObjectBinding && (this.previousValue === dataItem.value)) ||\n            (this.allowObjectBinding && this.previousValue &&\n                this.isObjectInArray(this.previousValue, [this.allowCustom ? this.value ? this.value : dataItem :\n                        dataItem.value ? this.getDataByValue(dataItem.value) : dataItem]))) {\n            return;\n        }\n        this.onChangeEvent(e);\n        this.checkAndResetCache();\n        if (this.enableVirtualization) {\n            this.updateInitialData();\n        }\n    };\n    DropDownList.prototype.resetSelection = function (properties) {\n        if (this.list) {\n            if ((!isNullOrUndefined(properties) &&\n                (isNullOrUndefined(properties.dataSource) ||\n                    (!(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)))) {\n                this.selectedLI = null;\n                this.actionCompleteData.isUpdated = false;\n                this.actionCompleteData.ulElement = null;\n                this.actionCompleteData.list = null;\n                this.resetList(properties.dataSource);\n            }\n            else {\n                if (this.allowFiltering && this.getModuleName() !== 'autocomplete'\n                    && !isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list) &&\n                    this.actionCompleteData.list.length > 0) {\n                    this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(true), this.actionCompleteData.list);\n                }\n                this.resetFocusElement();\n            }\n        }\n        if (!isNullOrUndefined(this.hiddenElement)) {\n            this.hiddenElement.innerHTML = '';\n        }\n        if (!isNullOrUndefined(this.inputElement)) {\n            this.inputElement.value = '';\n        }\n        this.value = null;\n        this.itemData = null;\n        this.text = null;\n        this.index = null;\n        this.activeIndex = null;\n        this.item = null;\n        this.queryString = '';\n        if (this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n            this.valueTempElement = null;\n        }\n        this.setSelection(null, null);\n        this.isSelectCustom = false;\n        this.updateIconState();\n        this.cloneElements();\n    };\n    DropDownList.prototype.setHTMLAttributes = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                if (htmlAttr === 'class') {\n                    var updatedClassValue = (this.htmlAttributes[\"\" + htmlAttr].replace(/\\s+/g, ' ')).trim();\n                    if (updatedClassValue !== '') {\n                        addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n                    }\n                }\n                else if (htmlAttr === 'disabled' && this.htmlAttributes[\"\" + htmlAttr] === 'disabled') {\n                    this.enabled = false;\n                    this.setEnable();\n                }\n                else if (htmlAttr === 'readonly' && !isNullOrUndefined(this.htmlAttributes[\"\" + htmlAttr])) {\n                    this.readonly = true;\n                    this.dataBind();\n                }\n                else if (htmlAttr === 'style') {\n                    this.inputWrapper.container.setAttribute('style', this.htmlAttributes[\"\" + htmlAttr]);\n                }\n                else if (htmlAttr === 'aria-label') {\n                    if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') && !this.readonly) {\n                        this.inputElement.setAttribute('aria-label', this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                    else if (this.getModuleName() === 'dropdownlist') {\n                        this.inputWrapper.container.setAttribute('aria-label', this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                }\n                else {\n                    var defaultAttr = ['title', 'id', 'placeholder',\n                        'role', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n                    var validateAttr = ['name', 'required'];\n                    if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n                        defaultAttr.push('tabindex');\n                    }\n                    if (validateAttr.indexOf(htmlAttr) > -1 || htmlAttr.indexOf('data') === 0) {\n                        this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                    else if (defaultAttr.indexOf(htmlAttr) > -1) {\n                        if (htmlAttr === 'placeholder') {\n                            Input.setPlaceholder(this.htmlAttributes[\"\" + htmlAttr], this.inputElement);\n                        }\n                        else {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                }\n            }\n        }\n        if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n            this.inputWrapper.container.removeAttribute('tabindex');\n        }\n    };\n    DropDownList.prototype.getAriaAttributes = function () {\n        return {\n            'aria-disabled': 'false',\n            'role': 'combobox',\n            'aria-expanded': 'false',\n            'aria-live': 'polite',\n            'aria-labelledby': this.hiddenElement.id\n        };\n    };\n    DropDownList.prototype.setEnableRtl = function () {\n        Input.setEnableRtl(this.enableRtl, [this.inputElement.parentElement]);\n        if (this.popupObj) {\n            this.popupObj.enableRtl = this.enableRtl;\n            this.popupObj.dataBind();\n        }\n    };\n    DropDownList.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputElement);\n        if (this.enabled) {\n            removeClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.targetElement().setAttribute('tabindex', this.tabIndex);\n            if (this.inputWrapper && this.inputWrapper.container) {\n                this.inputWrapper.container.setAttribute('aria-disabled', 'false');\n                this.inputWrapper.container.removeAttribute('disabled');\n            }\n        }\n        else {\n            this.hidePopup();\n            addClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.targetElement().tabIndex = -1;\n            if (this.inputWrapper && this.inputWrapper.container) {\n                this.inputWrapper.container.setAttribute('aria-disabled', 'true');\n                this.inputWrapper.container.setAttribute('disabled', '');\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    DropDownList.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    DropDownList.prototype.getLocaleName = function () {\n        return 'drop-down-list';\n    };\n    DropDownList.prototype.preventTabIndex = function (element) {\n        if (this.getModuleName() === 'dropdownlist') {\n            element.tabIndex = -1;\n        }\n    };\n    DropDownList.prototype.targetElement = function () {\n        return !isNullOrUndefined(this.inputWrapper) ? this.inputWrapper.container : null;\n    };\n    DropDownList.prototype.getNgDirective = function () {\n        return 'EJS-DROPDOWNLIST';\n    };\n    DropDownList.prototype.getElementByText = function (text) {\n        return this.getElementByValue(this.getValueByText(text));\n    };\n    DropDownList.prototype.getElementByValue = function (value) {\n        var item;\n        var listItems = this.getItems();\n        for (var _i = 0, listItems_1 = listItems; _i < listItems_1.length; _i++) {\n            var liItem = listItems_1[_i];\n            if (this.getFormattedValue(liItem.getAttribute('data-value')) === value) {\n                item = liItem;\n                break;\n            }\n        }\n        return item;\n    };\n    DropDownList.prototype.initValue = function () {\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.itemCount;\n        this.renderList();\n        if (this.dataSource instanceof DataManager) {\n            this.initialRemoteRender = true;\n        }\n        else {\n            this.updateValues();\n        }\n    };\n    /**\n     * Checks if the given value is disabled.\n     *\n     * @param { string | number | boolean | object } value - The value to check for disablement. Can be a string, number, boolean, or object.\n     * @returns { boolean } A boolean indicating whether the value is disabled.\n     */\n    DropDownList.prototype.isDisableItemValue = function (value) {\n        if (typeof (value) === 'object') {\n            var objectValue = JSON.parse(JSON.stringify(value))[this.fields.value];\n            return this.isDisabledItemByIndex(this.getIndexByValue(objectValue));\n        }\n        return this.isDisabledItemByIndex(this.getIndexByValue(value));\n    };\n    DropDownList.prototype.updateValues = function () {\n        if (this.fields.disabled) {\n            if (this.value != null) {\n                this.value = !this.isDisableItemValue(this.value) ? this.value : null;\n            }\n            if (this.text != null) {\n                this.text = !this.isDisabledItemByIndex(this.getIndexByValue(this.getValueByText(this.text))) ? this.text : null;\n            }\n            if (this.index != null) {\n                this.index = !this.isDisabledItemByIndex(this.index) ? this.index : null;\n                this.activeIndex = this.index;\n            }\n        }\n        this.selectedValueInfo = this.viewPortInfo;\n        if (!isNullOrUndefined(this.value)) {\n            var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(((this.fields.value) ? this.fields.value : ''), this.value) : this.value;\n            this.setSelection(this.getElementByValue(value), null);\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var element = this.getElementByText(this.text);\n            if (isNullOrUndefined(element)) {\n                this.setProperties({ text: null });\n                return;\n            }\n            else {\n                this.setSelection(element, null);\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    DropDownList.prototype.onBlurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        var target = e.relatedTarget;\n        var currentTarget = e.target;\n        var isPreventBlur = this.isPreventBlur;\n        this.isPreventBlur = false;\n        //IE 11 - issue\n        if (isPreventBlur && !this.isDocumentClick && this.isPopupOpen && (!isNullOrUndefined(currentTarget) ||\n            !this.isFilterLayout() && isNullOrUndefined(target))) {\n            if (this.getModuleName() === 'dropdownlist' && this.allowFiltering && this.isPopupOpen) {\n                this.filterInput.focus();\n            }\n            else {\n                this.targetElement().focus();\n            }\n            return;\n        }\n        if (this.isDocumentClick || (!isNullOrUndefined(this.popupObj)\n            && document.body.contains(this.popupObj.element) &&\n            this.popupObj.element.classList.contains(dropDownListClasses.mobileFilter))) {\n            if (!this.beforePopupOpen) {\n                this.isDocumentClick = false;\n            }\n            return;\n        }\n        if (((this.getModuleName() === 'dropdownlist' && !this.isFilterFocus && target !== this.inputElement)\n            && (document.activeElement !== target || (document.activeElement === target &&\n                currentTarget.classList.contains(dropDownListClasses.inputFocus)))) ||\n            (isNullOrUndefined(target) && this.getModuleName() === 'dropdownlist' && this.allowFiltering &&\n                currentTarget !== this.inputWrapper.container) || this.getModuleName() !== 'dropdownlist' &&\n            !this.inputWrapper.container.contains(target) || this.isTabKey) {\n            this.isDocumentClick = this.isPopupOpen ? true : false;\n            this.focusOutAction(e);\n            this.isTabKey = false;\n        }\n        if (this.isRequested && !this.isPopupOpen && !this.isPreventBlur) {\n            this.isActive = false;\n            this.beforePopupOpen = false;\n        }\n        this.isFocused = false;\n    };\n    DropDownList.prototype.focusOutAction = function (e) {\n        this.isInteracted = false;\n        this.focusOut(e);\n        this.onFocusOut(e);\n    };\n    DropDownList.prototype.onFocusOut = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.isSelected) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(e);\n        }\n        this.floatLabelChange();\n        this.dispatchEvent(this.hiddenElement, 'change');\n        if (this.getModuleName() === 'dropdownlist' && this.element.tagName !== 'INPUT') {\n            this.dispatchEvent(this.inputElement, 'blur');\n        }\n        if (this.inputWrapper.clearButton) {\n            addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n        }\n        this.trigger('blur');\n    };\n    DropDownList.prototype.onFocus = function (e) {\n        if (!this.isInteracted) {\n            this.isInteracted = true;\n            var args = { isInteracted: e ? true : false, event: e };\n            this.trigger('focus', args);\n        }\n        this.updateIconState();\n        this.isFocused = true;\n    };\n    DropDownList.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement && e.target === formElement) {\n            var val = (this.element.tagName === this.getNgDirective()) ? null : this.inputElement.getAttribute('value');\n            this.text = val;\n        }\n    };\n    DropDownList.prototype.wireEvent = function () {\n        EventHandler.add(this.inputWrapper.container, 'mousedown', this.dropDownClick, this);\n        EventHandler.add(this.inputWrapper.container, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputWrapper.container, 'keypress', this.onSearch, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        this.bindCommonEvent();\n    };\n    DropDownList.prototype.bindCommonEvent = function () {\n        EventHandler.add(this.targetElement(), 'blur', this.onBlurHandler, this);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        if (!Browser.isDevice) {\n            this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n                keyAction: this.keyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n        else {\n            this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n                keyAction: this.mobileKeyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n        this.bindClearEvent();\n    };\n    DropDownList.prototype.windowResize = function () {\n        if (this.isPopupOpen) {\n            this.popupObj.refreshPosition(this.inputWrapper.container);\n        }\n    };\n    DropDownList.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n    };\n    DropDownList.prototype.unBindCommonEvent = function () {\n        if (!isNullOrUndefined(this.inputWrapper) && this.targetElement()) {\n            EventHandler.remove(this.targetElement(), 'blur', this.onBlurHandler);\n        }\n        var formElement = this.inputElement && closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n        if (!Browser.isDevice) {\n            this.keyboardModule.destroy();\n        }\n        if (this.showClearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown', this.resetHandler);\n        }\n    };\n    DropDownList.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement.value !== '' && !this.readonly) {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    /**\n     * Event binding for list\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.wireListEvents = function () {\n        if (!isNullOrUndefined(this.list)) {\n            EventHandler.add(this.list, 'click', this.onMouseClick, this);\n            EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    DropDownList.prototype.onSearch = function (e) {\n        if (e.charCode !== 32 && e.charCode !== 13) {\n            if (this.list === undefined) {\n                this.renderList();\n            }\n            this.searchKeyEvent = e;\n            this.onServerIncrementalSearch(e);\n        }\n    };\n    DropDownList.prototype.onServerIncrementalSearch = function (e) {\n        if (!this.isRequested && !isNullOrUndefined(this.list) &&\n            !isNullOrUndefined(this.list.querySelector('li')) && this.enabled && !this.readonly) {\n            this.incrementalSearch(e);\n        }\n    };\n    DropDownList.prototype.onMouseClick = function (e) {\n        var target = e.target;\n        this.keyboardEvent = null;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (!this.isValidLI(li) || this.isDisabledElement(li)) {\n            return;\n        }\n        this.setSelection(li, e);\n        if (Browser.isDevice && this.isFilterLayout()) {\n            history.back();\n        }\n        else {\n            var delay = 100;\n            this.closePopup(delay, e);\n        }\n    };\n    DropDownList.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        this.setHover(currentLi);\n    };\n    DropDownList.prototype.setHover = function (li) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n    };\n    DropDownList.prototype.onMouseLeave = function () {\n        this.removeHover();\n    };\n    DropDownList.prototype.removeHover = function () {\n        if (this.list) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.hover);\n            }\n        }\n    };\n    DropDownList.prototype.isValidLI = function (li) {\n        return (li && li.hasAttribute('role') && li.getAttribute('role') === 'option');\n    };\n    DropDownList.prototype.updateIncrementalItemIndex = function (startIndex, endIndex) {\n        this.incrementalStartIndex = startIndex;\n        this.incrementalEndIndex = endIndex;\n    };\n    DropDownList.prototype.incrementalSearch = function (e) {\n        if (this.liCollections.length > 0) {\n            if (this.enableVirtualization) {\n                var updatingincrementalindex = false;\n                var queryStringUpdated = false;\n                var activeElement = this.ulElement.getElementsByClassName('e-active')[0];\n                var currentValue = activeElement ? activeElement.textContent : null;\n                if (this.incrementalQueryString === '') {\n                    this.incrementalQueryString = String.fromCharCode(e.charCode);\n                    this.incrementalPreQueryString = this.incrementalQueryString;\n                }\n                else if (String.fromCharCode(e.charCode).toLocaleLowerCase() === this.incrementalPreQueryString.toLocaleLowerCase()) {\n                    queryStringUpdated = true;\n                }\n                else {\n                    this.incrementalQueryString = String.fromCharCode(e.charCode);\n                }\n                if ((this.viewPortInfo.endIndex >= this.incrementalEndIndex && this.incrementalEndIndex <= this.totalItemCount) ||\n                    this.incrementalEndIndex === 0) {\n                    updatingincrementalindex = true;\n                    this.incrementalStartIndex = this.incrementalEndIndex;\n                    if (this.incrementalEndIndex === 0) {\n                        this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                    }\n                    else {\n                        this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount :\n                            this.incrementalEndIndex + 100;\n                    }\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                }\n                if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                    this.updateIncrementalView(0, this.itemCount);\n                }\n                var li = incrementalSearch(e.charCode, this.incrementalLiCollections, this.activeIndex, true, this.element.id, queryStringUpdated, currentValue, true);\n                while (isNullOrUndefined(li) && this.incrementalEndIndex < this.totalItemCount) {\n                    this.updateIncrementalItemIndex(this.incrementalEndIndex, this.incrementalEndIndex + 100 > this.totalItemCount ?\n                        this.totalItemCount : this.incrementalEndIndex + 100);\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    li = incrementalSearch(e.charCode, this.incrementalLiCollections, 0, true, this.element.id, queryStringUpdated, currentValue, true, true);\n                    if (!isNullOrUndefined(li)) {\n                        break;\n                    }\n                    if (isNullOrUndefined(li) && this.incrementalEndIndex >= this.totalItemCount) {\n                        this.updateIncrementalItemIndex(0, 100 > this.totalItemCount ? this.totalItemCount : 100);\n                        break;\n                    }\n                }\n                if (isNullOrUndefined(li) && this.incrementalEndIndex >= this.totalItemCount) {\n                    this.updateIncrementalItemIndex(0, 100 > this.totalItemCount ? this.totalItemCount : 100);\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    li = incrementalSearch(e.charCode, this.incrementalLiCollections, 0, true, this.element.id, queryStringUpdated, currentValue, true, true);\n                }\n                var index = li && this.getIndexByValue(li.getAttribute('data-value'));\n                if (!index) {\n                    for (var i = 0; i < this.incrementalLiCollections.length; i++) {\n                        if (!isNullOrUndefined(li) && !isNullOrUndefined(li.getAttribute('data-value')) &&\n                            this.incrementalLiCollections[i].getAttribute('data-value') === li.getAttribute('data-value').toString()) {\n                            index = i;\n                            index = this.incrementalStartIndex + index;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    index = index - this.skeletonCount;\n                }\n                if (index) {\n                    if ((!(this.viewPortInfo.startIndex >= index)) || (!(index >= this.viewPortInfo.endIndex))) {\n                        var startIndex = index - ((this.itemCount / 2) - 2) > 0 ? index - ((this.itemCount / 2) - 2) : 0;\n                        var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ?\n                            this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                        this.updateIncrementalView(startIndex, endIndex);\n                    }\n                }\n                if (!isNullOrUndefined(li)) {\n                    var index_1 = this.getIndexByValue(li.getAttribute('data-value')) - this.skeletonCount;\n                    if (index_1 > this.itemCount / 2) {\n                        var startIndex = this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) < this.totalItemCount ?\n                            this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) : this.totalItemCount;\n                        var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ?\n                            this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                        this.updateIncrementalView(startIndex, endIndex);\n                    }\n                    li = this.getElementByValue(li.getAttribute('data-value'));\n                    this.setSelection(li, e);\n                    this.setScrollPosition();\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    if (this.enableVirtualization && !this.fields.groupBy) {\n                        var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ?\n                            this.selectedLI.offsetTop +\n                                (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n                        this.list.scrollTop = selectedLiOffsetTop -\n                            (this.list.querySelectorAll('.e-virtual-list').length * this.selectedLI.offsetHeight);\n                    }\n                    this.incrementalPreQueryString = this.incrementalQueryString;\n                }\n                else {\n                    this.updateIncrementalView(0, this.itemCount);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    this.list.scrollTop = 0;\n                }\n            }\n            else {\n                var li = void 0;\n                if (this.fields.disabled) {\n                    var enableLiCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li + ':not(.e-disabled)');\n                    li = incrementalSearch(e.charCode, enableLiCollections, this.activeIndex, true, this.element.id);\n                }\n                else {\n                    li = incrementalSearch(e.charCode, this.liCollections, this.activeIndex, true, this.element.id);\n                }\n                if (!isNullOrUndefined(li)) {\n                    this.setSelection(li, e);\n                    this.setScrollPosition();\n                }\n            }\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            this.spinnerElement.innerHTML = '';\n            this.spinnerElement = null;\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = Browser.isDevice && !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[1] ||\n                !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[0] || this.inputWrapper.buttons[0];\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    DropDownList.prototype.keyActionHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.keyboardEvent = e;\n        if (this.isPreventKeyAction && this.enableVirtualization) {\n            e.preventDefault();\n        }\n        var preventAction = e.action === 'pageUp' || e.action === 'pageDown';\n        var preventHomeEnd = this.getModuleName() !== 'dropdownlist' && (e.action === 'home' || e.action === 'end');\n        this.isEscapeKey = e.action === 'escape';\n        this.isTabKey = !this.isPopupOpen && e.action === 'tab';\n        var isNavigation = (e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown'\n            || e.action === 'home' || e.action === 'end');\n        if ((this.isEditTextBox() || preventAction || preventHomeEnd) && !this.isPopupOpen) {\n            return;\n        }\n        if (!this.readonly) {\n            var isTabAction = e.action === 'tab' || e.action === 'close';\n            if (isNullOrUndefined(this.list) && !this.isRequested && !isTabAction && e.action !== 'escape') {\n                this.searchKeyEvent = e;\n                if (!this.enableVirtualization || (this.enableVirtualization && this.getModuleName() !== 'autocomplete' && e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38))) {\n                    this.renderList(e);\n                    this.UpdateSkeleton();\n                    this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    this.ulElement = this.list.querySelector('ul');\n                }\n            }\n            if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n                isNavigation && this.liCollections.length === 0) || this.isRequested) {\n                return;\n            }\n            if ((isTabAction && this.getModuleName() !== 'autocomplete') && this.isPopupOpen\n                || e.action === 'escape') {\n                e.preventDefault();\n            }\n            this.isSelected = e.action === 'escape' ? false : this.isSelected;\n            this.isTyped = (isNavigation || e.action === 'escape') ? false : this.isTyped;\n            switch (e.action) {\n                case 'down':\n                case 'up':\n                    this.updateUpDownAction(e);\n                    break;\n                case 'pageUp':\n                    this.pageUpSelection(this.activeIndex - this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'pageDown':\n                    this.pageDownSelection(this.activeIndex + this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'home':\n                    this.isMouseScrollAction = true;\n                    this.updateHomeEndAction(e);\n                    break;\n                case 'end':\n                    this.isMouseScrollAction = true;\n                    this.updateHomeEndAction(e);\n                    break;\n                case 'space':\n                    if (this.getModuleName() === 'dropdownlist') {\n                        if (!this.beforePopupOpen) {\n                            this.showPopup();\n                            e.preventDefault();\n                        }\n                    }\n                    break;\n                case 'open':\n                    this.showPopup(e);\n                    break;\n                case 'hide':\n                    this.preventAltUp = this.isPopupOpen;\n                    this.hidePopup(e);\n                    this.focusDropDown(e);\n                    break;\n                case 'enter':\n                    this.selectCurrentItem(e);\n                    break;\n                case 'tab':\n                    this.selectCurrentValueOnTab(e);\n                    break;\n                case 'escape':\n                case 'close':\n                    if (this.isPopupOpen) {\n                        this.hidePopup(e);\n                        this.focusDropDown(e);\n                    }\n                    break;\n            }\n        }\n    };\n    DropDownList.prototype.updateUpDownAction = function (e, isVirtualKeyAction) {\n        if (this.fields.disabled && this.list && this.list.querySelectorAll('.e-list-item:not(.e-disabled)').length === 0) {\n            return;\n        }\n        if (this.allowFiltering && !this.enableVirtualization && this.getModuleName() !== 'autocomplete') {\n            var value = this.getItemData().value;\n            if (isNullOrUndefined(value)) {\n                value = 'null';\n            }\n            var filterIndex = this.getIndexByValue(value);\n            if (!isNullOrUndefined(filterIndex)) {\n                this.activeIndex = filterIndex;\n            }\n        }\n        var focusEle = this.list.querySelector('.' + dropDownListClasses.focus);\n        if (this.isSelectFocusItem(focusEle) && !isVirtualKeyAction) {\n            this.setSelection(focusEle, e);\n            if (this.enableVirtualization) {\n                var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop +\n                    (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n                if (this.fields.groupBy) {\n                    selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex === 0 ?\n                        this.selectedLI.offsetHeight - selectedLiOffsetTop : selectedLiOffsetTop - this.selectedLI.offsetHeight;\n                }\n                this.list.scrollTop = selectedLiOffsetTop -\n                    (this.list.querySelectorAll('.e-virtual-list').length * this.selectedLI.offsetHeight);\n            }\n        }\n        else if (!isNullOrUndefined(this.liCollections)) {\n            var virtualIndex = this.activeIndex;\n            var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n            index = isVirtualKeyAction ? virtualIndex : index;\n            var startIndex = 0;\n            if (this.getModuleName() === 'autocomplete') {\n                startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n                index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n            }\n            var nextItem = void 0;\n            if (this.getModuleName() !== 'autocomplete' || this.getModuleName() === 'autocomplete' && this.isPopupOpen) {\n                if (!this.enableVirtualization) {\n                    nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[startIndex]\n                        : this.liCollections[index];\n                }\n                else {\n                    if (!isVirtualKeyAction) {\n                        nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[this.skeletonCount]\n                            : this.liCollections[index];\n                        nextItem = !isNullOrUndefined(nextItem) && !nextItem.classList.contains('e-virtual-list') ? nextItem : null;\n                    }\n                    else {\n                        if (this.getModuleName() === 'autocomplete') {\n                            var value = this.getFormattedValue(this.selectedLI.getAttribute('data-value'));\n                            nextItem = this.getElementByValue(value);\n                        }\n                        else {\n                            nextItem = this.getElementByValue(this.getItemData().value);\n                        }\n                    }\n                }\n            }\n            if (!isNullOrUndefined(nextItem)) {\n                var focusAtFirstElement = this.liCollections[this.skeletonCount] &&\n                    this.liCollections[this.skeletonCount].classList.contains('e-item-focus');\n                this.setSelection(nextItem, e);\n                if (focusAtFirstElement && this.enableVirtualization && this.getModuleName() === 'autocomplete' && !isVirtualKeyAction) {\n                    var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ?\n                        this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) :\n                        this.selectedLI.offsetTop;\n                    selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex === 0 && this.fields.groupBy ?\n                        this.selectedLI.offsetHeight - selectedLiOffsetTop : selectedLiOffsetTop - this.selectedLI.offsetHeight;\n                    this.list.scrollTop = selectedLiOffsetTop - (this.list.querySelectorAll('.e-virtual-list').length * this.selectedLI.offsetHeight);\n                }\n            }\n            else if (this.enableVirtualization && !this.isPopupOpen && this.getModuleName() !== 'autocomplete' && ((this.viewPortInfo.endIndex !== this.totalItemCount && e.action === 'down') || (this.viewPortInfo.startIndex !== 0 && e.action === 'up'))) {\n                if (e.action === 'down') {\n                    this.viewPortInfo.startIndex = (this.viewPortInfo.startIndex + this.itemCount) <\n                        (this.totalItemCount - this.itemCount) ? this.viewPortInfo.startIndex + this.itemCount :\n                        this.totalItemCount - this.itemCount;\n                    this.viewPortInfo.endIndex = this.viewPortInfo.startIndex + this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? true : this.isCustomFilter;\n                    this.resetList(this.dataSource, this.fields, this.query);\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? false : this.isCustomFilter;\n                    var value = this.liCollections[0].getAttribute('data-value') !== 'null' ?\n                        this.getFormattedValue(this.liCollections[0].getAttribute('data-value')) : null;\n                    var selectedData = this.getDataByValue(value);\n                    if (selectedData) {\n                        this.itemData = selectedData;\n                    }\n                }\n                else if (e.action === 'up') {\n                    this.viewPortInfo.startIndex = (this.viewPortInfo.startIndex - this.itemCount) > 0 ?\n                        this.viewPortInfo.startIndex - this.itemCount : 0;\n                    this.viewPortInfo.endIndex = this.viewPortInfo.startIndex + this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? true : this.isCustomFilter;\n                    this.resetList(this.dataSource, this.fields, this.query);\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? false : this.isCustomFilter;\n                    var value = this.liCollections[this.liCollections.length - 1].getAttribute('data-value') !== 'null' ? this.getFormattedValue(this.liCollections[this.liCollections.length - 1].getAttribute('data-value')) : null;\n                    var selectedData = this.getDataByValue(value);\n                    if (selectedData) {\n                        this.itemData = selectedData;\n                    }\n                }\n                this.UpdateSkeleton();\n                this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.ulElement = this.list.querySelector('ul');\n                this.handleVirtualKeyboardActions(e, this.pageCount);\n            }\n        }\n        if (this.allowFiltering && !this.enableVirtualization && this.getModuleName() !== 'autocomplete') {\n            var value = this.getItemData().value;\n            var filterIndex = this.getIndexByValueFilter(value, this.actionCompleteData.ulElement);\n            if (!isNullOrUndefined(filterIndex)) {\n                this.activeIndex = filterIndex;\n            }\n        }\n        if (this.allowFiltering && this.getModuleName() === 'dropdownlist' && this.filterInput) {\n            if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n            }\n            else if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n            }\n        }\n        var itemIndex;\n        for (var index = 0; index < this.liCollections.length; index++) {\n            if (this.liCollections[index].classList.contains(dropDownListClasses.focus)\n                || this.liCollections[index].classList.contains(dropDownListClasses.selected)) {\n                itemIndex = index;\n                break;\n            }\n        }\n        if (itemIndex != null && this.isDisabledElement(this.liCollections[itemIndex])) {\n            if (this.getModuleName() !== 'autocomplete') {\n                if (this.liCollections.length - 1 === itemIndex && e.action === 'down') {\n                    e.action = 'up';\n                }\n                if (itemIndex === 0 && e.action === 'up') {\n                    e.action = 'down';\n                }\n            }\n            this.updateUpDownAction(e);\n        }\n        e.preventDefault();\n    };\n    DropDownList.prototype.updateHomeEndAction = function (e, isVirtualKeyAction) {\n        if (this.getModuleName() === 'dropdownlist') {\n            var findLi = 0;\n            if (e.action === 'home') {\n                findLi = 0;\n                if (this.enableVirtualization && this.isPopupOpen) {\n                    findLi = this.skeletonCount;\n                }\n                else if (this.enableVirtualization && !this.isPopupOpen && this.viewPortInfo.startIndex !== 0) {\n                    this.viewPortInfo.startIndex = 0;\n                    this.viewPortInfo.endIndex = this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.resetList(this.dataSource, this.fields, this.query);\n                }\n            }\n            else {\n                if (this.enableVirtualization && !this.isPopupOpen && this.viewPortInfo.endIndex !== this.totalItemCount) {\n                    this.viewPortInfo.startIndex = this.totalItemCount - this.itemCount;\n                    this.viewPortInfo.endIndex = this.totalItemCount;\n                    this.updateVirtualItemIndex();\n                    this.resetList(this.dataSource, this.fields, this.query);\n                }\n                findLi = this.getItems().length - 1;\n            }\n            e.preventDefault();\n            if (this.activeIndex === findLi) {\n                if (isVirtualKeyAction) {\n                    this.setSelection(this.liCollections[findLi], e);\n                }\n                return;\n            }\n            this.setSelection(this.liCollections[findLi], e);\n        }\n    };\n    DropDownList.prototype.selectCurrentValueOnTab = function (e) {\n        if (this.getModuleName() === 'autocomplete') {\n            this.selectCurrentItem(e);\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup(e);\n                this.focusDropDown(e);\n            }\n        }\n    };\n    DropDownList.prototype.mobileKeyActionHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if ((this.isEditTextBox()) && !this.isPopupOpen) {\n            return;\n        }\n        if (!this.readonly) {\n            if (this.list === undefined && !this.isRequested) {\n                this.searchKeyEvent = e;\n                this.renderList();\n            }\n            if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n                this.liCollections.length === 0) || this.isRequested) {\n                return;\n            }\n            if (e.action === 'enter') {\n                this.selectCurrentItem(e);\n            }\n        }\n    };\n    DropDownList.prototype.handleVirtualKeyboardActions = function (e, pageCount) {\n        switch (e.action) {\n            case 'down':\n            case 'up':\n                if (this.itemData != null || this.getModuleName() === 'autocomplete') {\n                    this.updateUpDownAction(e, true);\n                }\n                break;\n            case 'pageUp':\n                this.activeIndex = this.getModuleName() === 'autocomplete' ?\n                    this.getIndexByValue(this.selectedLI.getAttribute('data-value')) + this.getPageCount() - 1 :\n                    this.getIndexByValue(this.previousValue);\n                this.pageUpSelection(this.activeIndex - this.getPageCount(), e, true);\n                e.preventDefault();\n                break;\n            case 'pageDown':\n                this.activeIndex = this.getModuleName() === 'autocomplete' ?\n                    this.getIndexByValue(this.selectedLI.getAttribute('data-value')) - this.getPageCount() :\n                    this.getIndexByValue(this.previousValue);\n                this.pageDownSelection(!isNullOrUndefined(this.activeIndex) ?\n                    (this.activeIndex + this.getPageCount()) : (2 * this.getPageCount()), e, true);\n                e.preventDefault();\n                break;\n            case 'home':\n                this.isMouseScrollAction = true;\n                this.updateHomeEndAction(e, true);\n                break;\n            case 'end':\n                this.isMouseScrollAction = true;\n                this.updateHomeEndAction(e, true);\n                break;\n        }\n        this.keyboardEvent = null;\n    };\n    DropDownList.prototype.selectCurrentItem = function (e) {\n        if (this.isPopupOpen) {\n            var li = this.list.querySelector('.' + dropDownListClasses.focus);\n            if (this.isDisabledElement(li)) {\n                return;\n            }\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n            this.hidePopup(e);\n            this.focusDropDown(e);\n        }\n        else {\n            this.showPopup();\n        }\n    };\n    DropDownList.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    DropDownList.prototype.pageUpSelection = function (steps, event, isVirtualKeyAction) {\n        var previousItem = steps >= 0 ? this.liCollections[steps + 1] : this.liCollections[0];\n        if ((this.enableVirtualization && this.activeIndex == null)) {\n            previousItem = (this.liCollections.length >= steps && steps >= 0) ?\n                this.liCollections[steps + this.skeletonCount + 1] : this.liCollections[0];\n        }\n        if (!isNullOrUndefined(previousItem) && previousItem.classList.contains('e-virtual-list')) {\n            previousItem = this.liCollections[this.skeletonCount];\n        }\n        this.PageUpDownSelection(previousItem, event);\n        if (this.allowFiltering && this.getModuleName() === 'dropdownlist') {\n            if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n            }\n            else if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n            }\n        }\n    };\n    DropDownList.prototype.PageUpDownSelection = function (previousItem, event) {\n        if (this.enableVirtualization) {\n            if (!isNullOrUndefined(previousItem) && ((this.getModuleName() !== 'autocomplete' &&\n                !previousItem.classList.contains('e-active')) || (this.getModuleName() === 'autocomplete' &&\n                !previousItem.classList.contains('e-item-focus')))) {\n                this.setSelection(previousItem, event);\n            }\n        }\n        else {\n            this.setSelection(previousItem, event);\n        }\n    };\n    DropDownList.prototype.pageDownSelection = function (steps, event, isVirtualKeyAction) {\n        var list = this.getItems();\n        var previousItem = steps <= list.length ? this.liCollections[steps - 1] : this.liCollections[list.length - 1];\n        if (this.enableVirtualization && this.skeletonCount > 0) {\n            steps = this.getModuleName() === 'dropdownlist' && this.allowFiltering ? steps + 1 : steps;\n            previousItem = steps < list.length ? this.liCollections[steps] : this.liCollections[list.length - 1];\n        }\n        if ((this.enableVirtualization && this.activeIndex == null)) {\n            previousItem = steps <= list.length ? this.liCollections[steps + this.skeletonCount - 1] : this.liCollections[list.length - 1];\n        }\n        this.PageUpDownSelection(previousItem, event);\n        if (this.allowFiltering && this.getModuleName() === 'dropdownlist') {\n            if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n            }\n            else if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n            }\n        }\n    };\n    DropDownList.prototype.unWireEvent = function () {\n        if (!isNullOrUndefined(this.inputWrapper)) {\n            EventHandler.remove(this.inputWrapper.container, 'mousedown', this.dropDownClick);\n            EventHandler.remove(this.inputWrapper.container, 'keypress', this.onSearch);\n            EventHandler.remove(this.inputWrapper.container, 'focus', this.focusIn);\n            EventHandler.remove(window, 'resize', this.windowResize);\n        }\n        this.unBindCommonEvent();\n    };\n    /**\n     * Event un binding for list items.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.unWireListEvents = function () {\n        if (this.list) {\n            EventHandler.remove(this.list, 'click', this.onMouseClick);\n            EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n            EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n        }\n    };\n    DropDownList.prototype.checkSelector = function (id) {\n        return '[id=\"' + id.replace(/(:|\\.|\\[|\\]|,|=|@|\\\\|\\/|#)/g, '\\\\$1') + '\"]';\n    };\n    DropDownList.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!(!isNullOrUndefined(this.popupObj) && closest(target, this.checkSelector(this.popupObj.element.id))) &&\n            !isNullOrUndefined(this.inputWrapper) && !this.inputWrapper.container.contains(e.target)) {\n            if (this.inputWrapper.container.classList.contains(dropDownListClasses.inputFocus) || this.isPopupOpen) {\n                this.isDocumentClick = true;\n                var isActive = this.isRequested;\n                if (this.getModuleName() === 'combobox' && this.isTyped) {\n                    this.isInteracted = false;\n                }\n                this.hidePopup(e);\n                this.isInteracted = false;\n                if (!isActive) {\n                    this.onFocusOut(e);\n                    this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n                }\n            }\n        }\n        else if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput)\n            && !(this.getModuleName() === 'combobox' &&\n                !this.allowFiltering && Browser.isDevice && target === this.inputWrapper.buttons[0])) {\n            this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.targetElement() ||\n                document.activeElement === this.filterInput);\n            e.preventDefault();\n        }\n    };\n    DropDownList.prototype.activeStateChange = function () {\n        if (this.isDocumentClick) {\n            this.hidePopup();\n            this.onFocusOut();\n            this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n        }\n    };\n    DropDownList.prototype.focusDropDown = function (e) {\n        if (!this.initial && this.isFilterLayout()) {\n            this.focusIn(e);\n        }\n    };\n    DropDownList.prototype.dropDownClick = function (e) {\n        if (e.which === 3 || e.button === 2) {\n            return;\n        }\n        this.keyboardEvent = null;\n        if (this.targetElement().classList.contains(dropDownListClasses.disable) || this.inputWrapper.clearButton === e.target) {\n            return;\n        }\n        var target = e.target;\n        if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput) && this.getModuleName() !== 'combobox') {\n            e.preventDefault();\n        }\n        if (!this.readonly) {\n            if (this.isPopupOpen) {\n                this.hidePopup(e);\n                if (this.isFilterLayout()) {\n                    this.focusDropDown(e);\n                }\n            }\n            else {\n                this.focusIn(e);\n                this.floatLabelChange();\n                this.queryString = this.inputElement.value.trim() === '' ? null : this.inputElement.value;\n                this.isDropDownClick = true;\n                this.showPopup(e);\n            }\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_1 = this;\n            // eslint-disable-next-line max-len\n            var duration = (this.element.tagName === this.getNgDirective() && this.itemTemplate) ? 500 : 100;\n            if (!this.isSecondClick) {\n                setTimeout(function () {\n                    proxy_1.cloneElements();\n                    proxy_1.isSecondClick = true;\n                }, duration);\n            }\n        }\n        else {\n            this.focusIn(e);\n        }\n    };\n    DropDownList.prototype.cloneElements = function () {\n        if (this.list) {\n            var ulElement = this.list.querySelector('ul');\n            if (ulElement) {\n                ulElement = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n                this.actionCompleteData.ulElement = ulElement;\n            }\n        }\n    };\n    DropDownList.prototype.updateSelectedItem = function (li, e, preventSelect, isSelection) {\n        var _this = this;\n        this.removeSelection();\n        li.classList.add(dropDownBaseClasses.selected);\n        this.removeHover();\n        var value = li.getAttribute('data-value') !== null ?\n            this.getFormattedValue(li.getAttribute('data-value')) : null;\n        var selectedData = this.getDataByValue(value);\n        if (!this.initial && !preventSelect && !isNullOrUndefined(e)) {\n            var items = this.detachChanges(selectedData);\n            this.isSelected = true;\n            var eventArgs = {\n                e: e,\n                item: li,\n                itemData: items,\n                isInteracted: e ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    li.classList.remove(dropDownBaseClasses.selected);\n                }\n                else {\n                    _this.selectEventCallback(li, e, preventSelect, selectedData, value);\n                    if (isSelection) {\n                        _this.setSelectOptions(li, e);\n                    }\n                }\n            });\n        }\n        else {\n            this.selectEventCallback(li, e, preventSelect, selectedData, value);\n            if (isSelection) {\n                this.setSelectOptions(li, e);\n            }\n        }\n    };\n    DropDownList.prototype.selectEventCallback = function (li, e, preventSelect, selectedData, value) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        if (this.itemData !== selectedData) {\n            this.previousValue = (!isNullOrUndefined(this.itemData)) ? typeof this.itemData == 'object' &&\n                !this.allowObjectBinding ? this.checkFieldValue(this.itemData, this.fields.value.split('.')) : this.itemData : null;\n        }\n        this.item = li;\n        this.itemData = selectedData;\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (focusedItem) {\n            removeClass([focusedItem], dropDownBaseClasses.focus);\n        }\n        li.setAttribute('aria-selected', 'true');\n        if (isNullOrUndefined(value)) {\n            value = 'null';\n        }\n        if (this.allowFiltering && !this.enableVirtualization && this.getModuleName() !== 'autocomplete') {\n            var filterIndex = this.getIndexByValueFilter(value, this.actionCompleteData.ulElement);\n            if (!isNullOrUndefined(filterIndex)) {\n                this.activeIndex = filterIndex;\n            }\n            else {\n                this.activeIndex = this.getIndexByValue(value);\n            }\n        }\n        else {\n            if (this.enableVirtualization && this.activeIndex == null && this.dataSource instanceof DataManager) {\n                this.UpdateSkeleton();\n                this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.ulElement = this.list.querySelector('ul');\n            }\n            this.activeIndex = this.getIndexByValue(value);\n        }\n    };\n    DropDownList.prototype.activeItem = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.selected)) {\n            this.removeSelection();\n            li.classList.add(dropDownBaseClasses.selected);\n            this.removeHover();\n            li.setAttribute('aria-selected', 'true');\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownList.prototype.setValue = function (e) {\n        var dataItem = this.getItemData();\n        this.isTouched = !isNullOrUndefined(e);\n        if (dataItem.value === null) {\n            Input.setValue(null, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        else {\n            Input.setValue(dataItem.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        if (this.valueTemplate && this.itemData !== null) {\n            this.setValueTemplate();\n        }\n        else if (!isNullOrUndefined(this.valueTempElement) && this.inputElement.previousSibling === this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n        }\n        if (!isNullOrUndefined(dataItem.value) && !this.enableVirtualization && this.allowFiltering) {\n            this.activeIndex = this.getIndexByValueFilter(dataItem.value, this.actionCompleteData.ulElement);\n        }\n        var clearIcon = dropDownListClasses.clearIcon;\n        var isFilterElement = this.isFiltering() && this.filterInput && (this.getModuleName() === 'combobox');\n        var clearElement = isFilterElement && this.filterInput.parentElement.querySelector('.' + clearIcon);\n        if (this.isFiltering() && clearElement) {\n            clearElement.style.removeProperty('visibility');\n        }\n        if ((!this.allowObjectBinding && (this.previousValue === dataItem.value)) || (this.allowObjectBinding &&\n            (this.previousValue != null && this.isObjectInArray(this.previousValue, [this.allowCustom &&\n                    this.isObjectCustomValue ? this.value ? this.value : dataItem : dataItem.value ?\n                    this.getDataByValue(dataItem.value) : dataItem])))) {\n            this.isSelected = false;\n            return true;\n        }\n        else {\n            this.isSelected = !this.initial ? true : false;\n            this.isSelectCustom = false;\n            if (this.getModuleName() === 'dropdownlist') {\n                this.updateIconState();\n            }\n            return false;\n        }\n    };\n    DropDownList.prototype.setSelection = function (li, e) {\n        if (this.isValidLI(li) && (!li.classList.contains(dropDownBaseClasses.selected) || (this.isPopupOpen && this.isSelected\n            && li.classList.contains(dropDownBaseClasses.selected)))) {\n            this.updateSelectedItem(li, e, false, true);\n        }\n        else {\n            this.setSelectOptions(li, e);\n            if (this.enableVirtualization && this.value) {\n                var fields = (this.fields.value) ? this.fields.value : '';\n                var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ?\n                    getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                if (this.dataSource instanceof DataManager) {\n                    var getItem = new DataManager(this.virtualGroupDataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding ?\n                            this.getDataByValue(dataItem.value) : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text) ||\n                            (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text ? dataItem.text.toString() : dataItem.text, 'value': value });\n                        }\n                    }\n                }\n                else {\n                    var getItem = new DataManager(this.dataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding ?\n                            this.getDataByValue(dataItem.value) : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text) ||\n                            (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text ? dataItem.text.toString() : dataItem.text, 'value': value });\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DropDownList.prototype.setSelectOptions = function (li, e) {\n        if (this.list) {\n            this.removeHover();\n        }\n        this.previousSelectedLI = (!isNullOrUndefined(this.selectedLI)) ? this.selectedLI : null;\n        this.selectedLI = li;\n        if (this.setValue(e)) {\n            return;\n        }\n        if ((!this.isPopupOpen && !isNullOrUndefined(li)) || (this.isPopupOpen && !isNullOrUndefined(e) &&\n            (e.type !== 'keydown' || e.type === 'keydown' && e.action === 'enter'))) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(e);\n        }\n        if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI) && this.itemData !== null && (!e || e.type !== 'click')) {\n            this.setScrollPosition(e);\n        }\n        if (Browser.info.name !== 'mozilla') {\n            if (this.targetElement()) {\n                attributes(this.targetElement(), { 'aria-describedby': this.inputElement.id !== '' ? this.inputElement.id : this.element.id });\n                this.targetElement().removeAttribute('aria-live');\n            }\n        }\n        if (this.isPopupOpen && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n            attributes(this.targetElement(), { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n        }\n        else if (this.isPopupOpen && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n            attributes(this.targetElement(), { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n        }\n    };\n    DropDownList.prototype.dropdownCompiler = function (dropdownTemplate) {\n        var checkTemplate = false;\n        if (typeof dropdownTemplate !== 'function' && dropdownTemplate) {\n            try {\n                checkTemplate = (document.querySelectorAll(dropdownTemplate).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    DropDownList.prototype.setValueTemplate = function () {\n        var compiledString;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['valueTemplate']);\n            if (this.valueTempElement) {\n                detach(this.valueTempElement);\n                this.inputElement.style.display = 'block';\n                this.valueTempElement = null;\n            }\n        }\n        if (!this.valueTempElement) {\n            this.valueTempElement = this.createElement('span', { className: dropDownListClasses.value });\n            this.inputElement.parentElement.insertBefore(this.valueTempElement, this.inputElement);\n            this.inputElement.style.display = 'none';\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.valueTempElement.innerHTML = '';\n        }\n        var valuecheck = this.dropdownCompiler(this.valueTemplate);\n        if (typeof this.valueTemplate !== 'function' && valuecheck) {\n            compiledString = compile(document.querySelector(this.valueTemplate).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.valueTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var valueCompTemp = compiledString(this.itemData, this, 'valueTemplate', this.valueTemplateId, this.isStringTemplate, null, this.valueTempElement);\n        if (valueCompTemp && valueCompTemp.length > 0) {\n            append(valueCompTemp, this.valueTempElement);\n        }\n        this.renderReactTemplates();\n    };\n    DropDownList.prototype.removeSelection = function () {\n        if (this.list) {\n            var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n            if (selectedItems.length) {\n                removeClass(selectedItems, dropDownBaseClasses.selected);\n                selectedItems[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    DropDownList.prototype.getItemData = function () {\n        var fields = this.fields;\n        var dataItem = null;\n        dataItem = this.itemData;\n        var dataValue;\n        var dataText;\n        if (!isNullOrUndefined(dataItem)) {\n            dataValue = getValue(fields.value, dataItem);\n            dataText = getValue(fields.text, dataItem);\n        }\n        var value = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataValue : dataItem);\n        var text = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataText : dataItem);\n        return { value: value, text: text };\n    };\n    /**\n     * To trigger the change event for list.\n     *\n     * @param {MouseEvent | KeyboardEvent | TouchEvent} eve - Specifies the event arguments.\n     * @param {boolean} isCustomValue - Specifies whether the value is custom value or not.\n     * @returns {void}\n     */\n    DropDownList.prototype.onChangeEvent = function (eve, isCustomValue) {\n        var _this = this;\n        var dataItem = this.getItemData();\n        var index = this.isSelectCustom ? null : this.activeIndex;\n        if (this.enableVirtualization) {\n            var datas = this.dataSource instanceof DataManager ? this.virtualGroupDataSource : this.dataSource;\n            if (dataItem.value && datas && datas.length > 0) {\n                var foundIndex = datas.findIndex(function (data) {\n                    return !isNullOrUndefined(dataItem.value) && getValue(_this.fields.value, data) === dataItem.value;\n                });\n                if (foundIndex !== -1) {\n                    index = foundIndex;\n                }\n            }\n        }\n        var value = this.allowObjectBinding ? isCustomValue ?\n            this.value : this.getDataByValue(dataItem.value) : dataItem.value;\n        this.setProperties({ 'index': index, 'text': dataItem.text ? dataItem.text.toString() : dataItem.text, 'value': value }, true);\n        this.detachChangeEvent(eve);\n    };\n    DropDownList.prototype.detachChanges = function (value) {\n        var items;\n        if (typeof value === 'string' ||\n            typeof value === 'boolean' ||\n            typeof value === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: value,\n                    enumerable: true\n                },\n                text: {\n                    value: value,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = value;\n        }\n        return items;\n    };\n    DropDownList.prototype.detachChangeEvent = function (eve) {\n        this.isSelected = false;\n        this.previousValue = this.value;\n        this.activeIndex = this.enableVirtualization ? this.getIndexByValue(this.value) : this.index;\n        this.typedString = !isNullOrUndefined(this.text) ? this.text : '';\n        if (!this.initial) {\n            var items = this.detachChanges(this.itemData);\n            var preItems = void 0;\n            if (typeof this.previousItemData === 'string' ||\n                typeof this.previousItemData === 'boolean' ||\n                typeof this.previousItemData === 'number') {\n                preItems = Object.defineProperties({}, {\n                    value: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    },\n                    text: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    }\n                });\n            }\n            else {\n                preItems = this.previousItemData;\n            }\n            this.setHiddenValue();\n            var eventArgs = {\n                e: eve,\n                item: this.item,\n                itemData: items,\n                previousItem: this.previousSelectedLI,\n                previousItemData: preItems,\n                isInteracted: eve ? true : false,\n                value: this.value,\n                element: this.element,\n                event: eve\n            };\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', eventArgs);\n            }\n        }\n        if ((isNullOrUndefined(this.value) || this.value === '') && this.floatLabelType !== 'Always') {\n            removeClass([this.inputWrapper.container], 'e-valid-input');\n        }\n    };\n    DropDownList.prototype.setHiddenValue = function () {\n        if (!isNullOrUndefined(this.value)) {\n            var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n            if (this.hiddenElement.querySelector('option')) {\n                var selectedElement = this.hiddenElement.querySelector('option');\n                selectedElement.textContent = this.text;\n                selectedElement.setAttribute('value', value.toString());\n            }\n            else {\n                if (!isNullOrUndefined(this.hiddenElement)) {\n                    var option = document.createElement('option');\n                    option.text = this.text;\n                    option.setAttribute('selected', '');\n                    this.hiddenElement.appendChild(option);\n                    var selectedElement = this.hiddenElement.querySelector('option');\n                    selectedElement.setAttribute('value', value.toString());\n                }\n            }\n        }\n        else {\n            this.hiddenElement.innerHTML = '';\n        }\n    };\n    /**\n     * Filter bar implementation\n     *\n     * @param {KeyboardEventArgs} e - Specifies the event arguments.\n     * @returns {void}\n     */\n    DropDownList.prototype.onFilterUp = function (e) {\n        if (!(e.ctrlKey && e.keyCode === 86) && (this.isValidKey || e.keyCode === 40 || e.keyCode === 38)) {\n            this.isValidKey = false;\n            this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n            switch (e.keyCode) {\n                case 38: //up arrow\n                case 40: //down arrow\n                    if (this.getModuleName() === 'autocomplete' && !this.isPopupOpen && !this.preventAltUp && !this.isRequested) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else {\n                        this.preventAutoFill = false;\n                    }\n                    this.preventAltUp = false;\n                    if (this.getModuleName() === 'autocomplete' && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                        attributes(this.targetElement(), { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n                    }\n                    e.preventDefault();\n                    break;\n                case 46: //delete\n                case 8: //backspace\n                    this.typedString = this.filterInput.value;\n                    if (!this.isPopupOpen && this.typedString !== '' || this.isPopupOpen && this.queryString.length > 0) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else if (this.typedString === '' && this.queryString === '' && this.getModuleName() !== 'autocomplete') {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else if (this.typedString === '') {\n                        if (this.list) {\n                            this.resetFocusElement();\n                        }\n                        this.activeIndex = null;\n                        if (this.getModuleName() !== 'dropdownlist') {\n                            this.preventAutoFill = true;\n                            this.searchLists(e);\n                            if (this.getModuleName() === 'autocomplete') {\n                                this.hidePopup();\n                            }\n                        }\n                    }\n                    e.preventDefault();\n                    break;\n                default:\n                    if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n                        this.getInitialData = true;\n                        this.renderList();\n                    }\n                    this.typedString = this.filterInput.value;\n                    this.preventAutoFill = false;\n                    this.searchLists(e);\n                    if ((this.enableVirtualization && this.getModuleName() !== 'autocomplete') || (this.getModuleName() === 'autocomplete' && !(this.dataSource instanceof DataManager)) || (this.getModuleName() === 'autocomplete' && (this.dataSource instanceof DataManager) && this.totalItemCount !== 0)) {\n                        this.getFilteringSkeletonCount();\n                    }\n                    break;\n            }\n        }\n        else {\n            this.isValidKey = false;\n        }\n    };\n    DropDownList.prototype.onFilterDown = function (e) {\n        switch (e.keyCode) {\n            case 13: //enter\n                break;\n            case 40: //down arrow\n            case 38: //up arrow\n                this.queryString = this.filterInput.value;\n                e.preventDefault();\n                break;\n            case 9: //tab\n                if (this.isPopupOpen && this.getModuleName() !== 'autocomplete') {\n                    e.preventDefault();\n                }\n                break;\n            default:\n                this.prevSelectPoints = this.getSelectionPoints();\n                this.queryString = this.filterInput.value;\n                break;\n        }\n    };\n    DropDownList.prototype.removeFillSelection = function () {\n        if (this.isInteracted) {\n            var selection = this.getSelectionPoints();\n            this.inputElement.setSelectionRange(selection.end, selection.end);\n        }\n    };\n    DropDownList.prototype.getQuery = function (query) {\n        var filterQuery;\n        if (!this.isCustomFilter && this.allowFiltering && this.filterInput) {\n            filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n            var filterType = this.typedString === '' ? 'contains' : this.filterType;\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n            }\n            else if (((this.getModuleName() !== 'combobox')) || (this.isFiltering() && this.getModuleName() === 'combobox' && this.typedString !== '')) {\n                var fields = (this.fields.text) ? this.fields.text : '';\n                filterQuery.where(fields, filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        else {\n            filterQuery = (this.enableVirtualization && !isNullOrUndefined(this.customFilterQuery)) ?\n                this.customFilterQuery.clone() : query ? query.clone() : this.query ? this.query.clone() : new Query();\n        }\n        if (this.enableVirtualization && this.viewPortInfo.endIndex !== 0) {\n            var takeValue = this.getTakeValue();\n            var alreadySkipAdded = false;\n            if (filterQuery) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                        alreadySkipAdded = true;\n                        break;\n                    }\n                }\n            }\n            var queryTakeValue = 0;\n            var querySkipValue = 0;\n            if (filterQuery && filterQuery.queries.length > 0) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                        querySkipValue = filterQuery.queries[queryElements].e.nos;\n                    }\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        queryTakeValue = takeValue <= filterQuery.queries[queryElements].e.nos ?\n                            filterQuery.queries[queryElements].e.nos : takeValue;\n                    }\n                }\n            }\n            if (queryTakeValue <= 0 && this.query && this.query.queries.length > 0) {\n                for (var queryElements = 0; queryElements < this.query.queries.length; queryElements++) {\n                    if (this.query.queries[queryElements].fn === 'onTake') {\n                        queryTakeValue = takeValue <= this.query.queries[queryElements].e.nos ?\n                            this.query.queries[queryElements].e.nos : takeValue;\n                    }\n                }\n            }\n            var skipExists = false;\n            if (filterQuery && filterQuery.queries.length > 0) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                        querySkipValue = filterQuery.queries[queryElements].e.nos;\n                        filterQuery.queries.splice(queryElements, 1);\n                        alreadySkipAdded = false;\n                        --queryElements;\n                        continue;\n                    }\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        queryTakeValue = filterQuery.queries[queryElements].e.nos <= queryTakeValue ?\n                            queryTakeValue : filterQuery.queries[queryElements].e.nos;\n                        filterQuery.queries.splice(queryElements, 1);\n                        --queryElements;\n                    }\n                }\n            }\n            if (!skipExists && (this.allowFiltering || !this.isPopupOpen || !alreadySkipAdded)) {\n                if (querySkipValue > 0) {\n                    filterQuery.skip(querySkipValue);\n                }\n                else {\n                    filterQuery.skip(this.virtualItemStartIndex);\n                }\n            }\n            if (this.isIncrementalRequest) {\n                filterQuery.take(this.incrementalEndIndex);\n            }\n            else {\n                if (queryTakeValue > 0) {\n                    filterQuery.take(queryTakeValue);\n                }\n                else {\n                    filterQuery.take(takeValue);\n                }\n            }\n            filterQuery.requiresCount();\n        }\n        return filterQuery;\n    };\n    DropDownList.prototype.getSelectionPoints = function () {\n        var input = this.inputElement;\n        return { start: Math.abs(input.selectionStart), end: Math.abs(input.selectionEnd) };\n    };\n    DropDownList.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isTyped = true;\n        this.activeIndex = null;\n        this.isListSearched = true;\n        if (this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon)) {\n            var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n        }\n        this.isDataFetched = false;\n        if (this.isFiltering()) {\n            this.checkAndResetCache();\n            this.isRequesting = false;\n            var eventArgs_1 = {\n                preventDefaultAction: false,\n                text: this.filterInput.value,\n                updateData: function (dataSource, query, fields) {\n                    if (eventArgs_1.cancel) {\n                        return;\n                    }\n                    _this.isCustomFilter = true;\n                    _this.customFilterQuery = query ? query.clone() : query;\n                    _this.filteringAction(dataSource, query, fields);\n                },\n                baseEventArgs: e,\n                cancel: false\n            };\n            this.trigger('filtering', eventArgs_1, function (eventArgs) {\n                if (!eventArgs.cancel && !_this.isCustomFilter && !eventArgs.preventDefaultAction) {\n                    _this.filteringAction(_this.dataSource, null, _this.fields);\n                }\n            });\n        }\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     * @deprecated\n     */\n    DropDownList.prototype.filter = function (dataSource, query, fields) {\n        this.isCustomFilter = true;\n        this.filteringAction(dataSource, query, fields);\n    };\n    DropDownList.prototype.filteringAction = function (dataSource, query, fields) {\n        if (!isNullOrUndefined(this.filterInput)) {\n            this.beforePopupOpen = ((!this.isPopupOpen && this.getModuleName() === 'combobox' && this.filterInput.value === '') ||\n                this.getInitialData) ? false : true;\n            var isNoData = this.list.classList.contains(dropDownBaseClasses.noData);\n            if (this.filterInput.value.trim() === '' && !this.itemTemplate) {\n                this.actionCompleteData.isUpdated = false;\n                this.isTyped = false;\n                if (!isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list)) {\n                    if (this.enableVirtualization) {\n                        if (this.isFiltering()) {\n                            this.isPreventScrollAction = true;\n                            this.list.scrollTop = 0;\n                            this.previousStartIndex = 0;\n                            this.virtualListInfo = null;\n                        }\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n                        this.resetList(dataSource, fields, query);\n                        if (isNoData && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                            if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                                this.list.appendChild(this.createElement('div', {\n                                    className: 'e-virtual-ddl-content',\n                                    styles: this.getTransformValues()\n                                })).appendChild(this.list.querySelector('.e-list-parent'));\n                            }\n                            if (!this.list.querySelector('.e-virtual-ddl')) {\n                                var virualElement = this.createElement('div', {\n                                    id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                                });\n                                document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                            }\n                        }\n                    }\n                    this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list);\n                }\n                this.isTyped = true;\n                if (!isNullOrUndefined(this.itemData) && this.getModuleName() === 'dropdownlist') {\n                    this.focusIndexItem();\n                    this.setScrollPosition();\n                }\n                this.isNotSearchList = true;\n            }\n            else {\n                this.isNotSearchList = false;\n                query = (this.filterInput.value.trim() === '') ? null : query;\n                if (this.enableVirtualization && this.isFiltering() && this.isTyped) {\n                    this.isPreventScrollAction = true;\n                    this.list.scrollTop = 0;\n                    this.previousStartIndex = 0;\n                    this.virtualListInfo = null;\n                }\n                this.resetList(dataSource, fields, query);\n                if (this.getModuleName() === 'dropdownlist' && this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    this.popupContentElement.setAttribute('role', 'status');\n                    this.popupContentElement.setAttribute('id', 'no-record');\n                    attributes(this.filterInputObj.container, { 'aria-activedescendant': 'no-record' });\n                }\n                if (this.enableVirtualization && isNoData && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                        this.list.appendChild(this.createElement('div', {\n                            className: 'e-virtual-ddl-content',\n                            styles: this.getTransformValues()\n                        })).appendChild(this.list.querySelector('.e-list-parent'));\n                    }\n                    if (!this.list.querySelector('.e-virtual-ddl')) {\n                        var virualElement = this.createElement('div', {\n                            id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                        });\n                        document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                    }\n                }\n            }\n            if (this.enableVirtualization) {\n                this.getFilteringSkeletonCount();\n            }\n            this.renderReactTemplates();\n        }\n    };\n    DropDownList.prototype.setSearchBox = function (popupElement) {\n        if (this.isFiltering()) {\n            var parentElement = popupElement.querySelector('.' + dropDownListClasses.filterParent) ?\n                popupElement.querySelector('.' + dropDownListClasses.filterParent) : this.createElement('span', {\n                className: dropDownListClasses.filterParent\n            });\n            this.filterInput = this.createElement('input', {\n                attrs: { type: 'text' },\n                className: dropDownListClasses.filterInput\n            });\n            this.element.parentNode.insertBefore(this.filterInput, this.element);\n            var backIcon = false;\n            if (Browser.isDevice && this.isDeviceFullScreen) {\n                backIcon = true;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ?\n                    [dropDownListClasses.backIcon, dropDownListClasses.filterBarClearIcon] : [dropDownListClasses.filterBarClearIcon],\n                properties: { placeholder: this.filterBarPlaceholder }\n            }, this.createElement);\n            if (!isNullOrUndefined(this.cssClass)) {\n                if (this.cssClass.split(' ').indexOf('e-outline') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-outline');\n                }\n                else if (this.cssClass.split(' ').indexOf('e-filled') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-filled');\n                }\n            }\n            append([this.filterInputObj.container], parentElement);\n            prepend([parentElement], popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'role': 'combobox',\n                'autocomplete': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false'\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            if (!Browser.isDevice) {\n                this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n                    keyAction: this.keyActionHandler.bind(this),\n                    keyConfigs: this.keyConfigure,\n                    eventName: 'keydown'\n                });\n            }\n            else {\n                this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n                    keyAction: this.mobileKeyActionHandler.bind(this),\n                    keyConfigs: this.keyConfigure,\n                    eventName: 'keydown'\n                });\n            }\n            EventHandler.add(this.filterInput, 'input', this.onInput, this);\n            EventHandler.add(this.filterInput, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.filterInput, 'keydown', this.onFilterDown, this);\n            EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n            EventHandler.add(this.filterInput, 'paste', this.pasteHandler, this);\n            return this.filterInputObj;\n        }\n        else {\n            return inputObject;\n        }\n    };\n    DropDownList.prototype.onInput = function (e) {\n        if (!isNullOrUndefined(e) && !isNullOrUndefined(e.data) && e.data.length > 1 && this.autoFill && (this.getModuleName() === 'combobox' || this.getModuleName() === 'autocomplete')) {\n            this.inputElement.value = e.data;\n        }\n        this.isValidKey = true;\n        if (this.getModuleName() === 'combobox') {\n            this.updateIconState();\n        }\n        // For filtering works in mobile firefox.\n        if (Browser.isDevice && Browser.info.name === 'mozilla') {\n            this.typedString = this.filterInput.value;\n            this.preventAutoFill = true;\n            this.searchLists(e);\n        }\n    };\n    DropDownList.prototype.pasteHandler = function (e) {\n        var _this = this;\n        setTimeout(function () {\n            _this.typedString = _this.filterInput.value;\n            _this.searchLists(e);\n        });\n    };\n    DropDownList.prototype.onActionFailure = function (e) {\n        _super.prototype.onActionFailure.call(this, e);\n        if (this.beforePopupOpen) {\n            this.renderPopup();\n        }\n    };\n    DropDownList.prototype.getTakeValue = function () {\n        return this.allowFiltering && this.getModuleName() === 'dropdownlist' && Browser.isDevice ? Math.round(window.outerHeight / this.listItemHeight) : this.itemCount;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownList.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        var _this = this;\n        if (this.dataSource instanceof DataManager && !isNullOrUndefined(e) && !this.virtualGroupDataSource) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = e.count;\n        }\n        if (this.isNotSearchList && !this.enableVirtualization) {\n            this.isNotSearchList = false;\n            return;\n        }\n        if (this.getInitialData) {\n            this.updateActionCompleteDataValues(ulElement, list);\n        }\n        if (!this.preventPopupOpen && this.getModuleName() === 'combobox') {\n            this.beforePopupOpen = true;\n            this.preventPopupOpen = true;\n        }\n        var tempItemCount = this.itemCount;\n        if (this.isActive || !isNullOrUndefined(ulElement)) {\n            var selectedItem = this.selectedLI ? this.selectedLI.cloneNode(true) : null;\n            _super.prototype.onActionComplete.call(this, ulElement, list, e);\n            this.skeletonCount = this.totalItemCount !== 0 && this.totalItemCount < (this.itemCount * 2) &&\n                ((!(this.dataSource instanceof DataManager)) ||\n                    ((this.dataSource instanceof DataManager) && (this.totalItemCount <= this.itemCount))) ? 0 : this.skeletonCount;\n            this.updateSelectElementData(this.allowFiltering);\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent) && this.searchKeyEvent.type === 'keydown') {\n                this.isRequested = false;\n                this.keyActionHandler(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent)) {\n                this.incrementalSearch(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            if (!this.enableVirtualization) {\n                this.list.scrollTop = 0;\n            }\n            if (!isNullOrUndefined(ulElement)) {\n                attributes(ulElement, { 'id': this.element.id + '_options', 'role': 'listbox', 'aria-hidden': 'false', 'aria-label': 'listbox' });\n            }\n            if (this.initialRemoteRender) {\n                this.initial = true;\n                this.activeIndex = this.index;\n                this.initialRemoteRender = false;\n                if (this.value && this.dataSource instanceof DataManager) {\n                    var checkField_1 = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n                    var value_1 = this.allowObjectBinding && !isNullOrUndefined(this.value) ?\n                        getValue(checkField_1, this.value) : this.value;\n                    var fieldValue_1 = this.fields.value.split('.');\n                    var checkVal = list.some(function (x) {\n                        return isNullOrUndefined(x[checkField_1]) && fieldValue_1.length > 1 ?\n                            _this.checkFieldValue(x, fieldValue_1) === value_1 : x[checkField_1] === value_1;\n                    });\n                    if (this.enableVirtualization && this.virtualGroupDataSource) {\n                        checkVal = this.virtualGroupDataSource.some(function (x) {\n                            return isNullOrUndefined(x[checkField_1]) && fieldValue_1.length > 1 ?\n                                _this.checkFieldValue(x, fieldValue_1) === value_1 : x[checkField_1] === value_1;\n                        });\n                    }\n                    if (!checkVal) {\n                        this.dataSource.executeQuery(this.getQuery(this.query).where(new Predicate(checkField_1, 'equal', value_1)))\n                            .then(function (e) {\n                            if (e.result.length > 0) {\n                                _this.addItem(e.result, list.length);\n                                _this.updateValues();\n                            }\n                            else {\n                                _this.updateValues();\n                            }\n                        });\n                    }\n                    else {\n                        this.updateValues();\n                    }\n                }\n                else {\n                    this.updateValues();\n                }\n                this.initial = false;\n            }\n            else if (this.getModuleName() === 'autocomplete' && this.value) {\n                this.setInputValue();\n            }\n            if (this.getModuleName() !== 'autocomplete' && this.isFiltering() && !this.isTyped) {\n                if (!this.actionCompleteData.isUpdated || ((!this.isCustomFilter\n                    && !this.isFilterFocus) || (isNullOrUndefined(this.itemData) && this.allowFiltering)\n                    && ((this.dataSource instanceof DataManager)\n                        || (!isNullOrUndefined(this.dataSource) && !isNullOrUndefined(this.dataSource.length) &&\n                            this.dataSource.length !== 0)))) {\n                    if (this.itemTemplate && this.element.tagName === 'EJS-COMBOBOX' && this.allowFiltering) {\n                        setTimeout(function () {\n                            _this.updateActionCompleteDataValues(ulElement, list);\n                        }, 0);\n                    }\n                    else {\n                        this.updateActionCompleteDataValues(ulElement, list);\n                    }\n                }\n                if (this.isDynamicData) {\n                    var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ?\n                        getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                    this.itemData = this.getDataByValue(currentValue);\n                    this.selectedLI = this.getElementByValue(currentValue);\n                    this.isDynamicData = false;\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                if ((this.allowCustom || (this.allowFiltering && !this.isValueInList(list, this.value) &&\n                    this.dataSource instanceof DataManager)) && !this.enableVirtualization) {\n                    this.addNewItem(list, selectedItem);\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                else if ((this.allowCustom || (this.allowFiltering && this.isValueInList(list, this.value))) &&\n                    !this.enableVirtualization) {\n                    var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                    var isValidAddition = !isNullOrUndefined(this.value) && selectedItem && selectedItem.getAttribute('data-value') === value.toString();\n                    if (isValidAddition) {\n                        this.addNewItem(list, selectedItem);\n                    }\n                }\n                if (!isNullOrUndefined(this.itemData) || (isNullOrUndefined(this.itemData) && this.enableVirtualization)) {\n                    this.getSkeletonCount();\n                    this.skeletonCount = this.totalItemCount !== 0 && this.totalItemCount < (this.itemCount * 2) &&\n                        ((!(this.dataSource instanceof DataManager)) ||\n                            ((this.dataSource instanceof DataManager) && (this.totalItemCount <= this.itemCount))) ? 0 : this.skeletonCount;\n                    this.UpdateSkeleton();\n                    this.focusIndexItem();\n                }\n                if (this.enableVirtualization) {\n                    this.updateActionCompleteDataValues(ulElement, list);\n                }\n            }\n            else if (this.enableVirtualization && this.getModuleName() !== 'autocomplete' && !this.isFiltering()) {\n                var value = this.getItemData().value;\n                this.activeIndex = this.getIndexByValue(value);\n                var element = this.findListElement(this.list, 'li', 'data-value', value);\n                this.selectedLI = element;\n            }\n            else if (this.enableVirtualization && this.getModuleName() === 'autocomplete') {\n                this.activeIndex = this.skeletonCount;\n            }\n            if (this.beforePopupOpen) {\n                this.renderPopup(e);\n                if (this.enableVirtualization) {\n                    if (!this.list.querySelector('.e-virtual-list')) {\n                        this.UpdateSkeleton();\n                        this.liCollections = this.list.querySelectorAll('.e-list-item');\n                    }\n                }\n                if (this.enableVirtualization && tempItemCount !== this.itemCount) {\n                    this.resetList(this.dataSource, this.fields);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DropDownList.prototype.isValueInList = function (list, valueToFind) {\n        if (Array.isArray(list)) {\n            for (var i = 0; i < list.length; i++) {\n                if (list[i] === valueToFind) {\n                    return true;\n                }\n            }\n        }\n        else if (typeof list === 'object' && list !== null) {\n            for (var key in list) {\n                if (Object.prototype.hasOwnProperty.call(list, key) && list[key] === valueToFind) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DropDownList.prototype.checkFieldValue = function (list, fieldValue) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var checkField = list;\n        fieldValue.forEach(function (value) {\n            checkField = checkField[value];\n        });\n        return checkField;\n    };\n    DropDownList.prototype.updateActionCompleteDataValues = function (ulElement, list) {\n        this.actionCompleteData = { ulElement: ulElement.cloneNode(true), list: list, isUpdated: true };\n        if (this.actionData.list !== this.actionCompleteData.list && this.actionCompleteData.ulElement && this.actionCompleteData.list) {\n            this.actionData = this.actionCompleteData;\n        }\n    };\n    DropDownList.prototype.addNewItem = function (listData, newElement) {\n        var _this = this;\n        if (!isNullOrUndefined(this.itemData) && !isNullOrUndefined(newElement)) {\n            var value_2 = this.getItemData().value;\n            var isExist = listData.some(function (data) {\n                return (((typeof data === 'string' || typeof data === 'number' || typeof data === 'boolean') && data === value_2) ||\n                    (getValue(_this.fields.value, data) === value_2));\n            });\n            if (!isExist) {\n                this.addItem(this.itemData);\n            }\n        }\n    };\n    DropDownList.prototype.updateActionCompleteData = function (li, item, index) {\n        var _this = this;\n        if (this.getModuleName() !== 'autocomplete' && this.actionCompleteData.ulElement) {\n            if (this.itemTemplate && this.element.tagName === 'EJS-COMBOBOX' && this.allowFiltering) {\n                setTimeout(function () {\n                    _this.actionCompleteDataUpdate(li, item, index);\n                }, 0);\n            }\n            else {\n                this.actionCompleteDataUpdate(li, item, index);\n            }\n        }\n    };\n    DropDownList.prototype.actionCompleteDataUpdate = function (li, item, index) {\n        if (index !== null) {\n            this.actionCompleteData.ulElement.\n                insertBefore(li.cloneNode(true), this.actionCompleteData.ulElement.childNodes[index]);\n        }\n        else {\n            this.actionCompleteData.ulElement.appendChild(li.cloneNode(true));\n        }\n        if (this.isFiltering() && this.actionCompleteData.list && this.actionCompleteData.list.indexOf(item) < 0) {\n            this.actionCompleteData.list.push(item);\n        }\n    };\n    DropDownList.prototype.focusIndexItem = function () {\n        var value = this.getItemData().value;\n        this.activeIndex = ((this.enableVirtualization && !isNullOrUndefined(value)) || !this.enableVirtualization) ?\n            this.getIndexByValue(value) : this.activeIndex;\n        var element = this.findListElement(this.list, 'li', 'data-value', value);\n        this.selectedLI = element;\n        this.activeItem(element);\n        if (!(this.enableVirtualization && isNullOrUndefined(element))) {\n            this.removeFocus();\n        }\n    };\n    DropDownList.prototype.updateSelection = function () {\n        var selectedItem = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        if (selectedItem) {\n            this.setProperties({ 'index': this.getIndexByValue(selectedItem.getAttribute('data-value')) });\n            this.activeIndex = this.index;\n        }\n        else {\n            this.removeFocus();\n            this.list.querySelector('.' + dropDownBaseClasses.li).classList.add(dropDownListClasses.focus);\n        }\n    };\n    DropDownList.prototype.updateSelectionList = function () {\n        var selectedItem = this.list && this.list.querySelector('.' + 'e-active');\n        if (!selectedItem && !isNullOrUndefined(this.value)) {\n            var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n            var findEle = this.findListElement(this.list, 'li', 'data-value', value);\n            if (findEle) {\n                findEle.classList.add('e-active');\n            }\n        }\n    };\n    DropDownList.prototype.removeFocus = function () {\n        var highlightedItem = this.list.querySelectorAll('.' + dropDownListClasses.focus);\n        if (highlightedItem && highlightedItem.length) {\n            removeClass(highlightedItem, dropDownListClasses.focus);\n        }\n    };\n    DropDownList.prototype.renderPopup = function (e) {\n        var _this = this;\n        if (this.popupObj && document.body.contains(this.popupObj.element)) {\n            this.refreshPopup();\n            return;\n        }\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                var popupEle = _this.createElement('div', {\n                    id: _this.element.id + '_popup', className: 'e-ddl e-popup ' + (_this.cssClass !== null ? _this.cssClass : '')\n                });\n                popupEle.setAttribute('aria-label', _this.element.id);\n                popupEle.setAttribute('role', 'dialog');\n                var searchBox = _this.setSearchBox(popupEle);\n                _this.listContainerHeight = _this.allowFiltering && _this.getModuleName() === 'dropdownlist' && Browser.isDevice ?\n                    formatUnit(Math.round(window.outerHeight).toString() + 'px') : formatUnit(_this.popupHeight);\n                if (_this.headerTemplate) {\n                    _this.setHeaderTemplate(popupEle);\n                }\n                append([_this.list], popupEle);\n                if (_this.footerTemplate) {\n                    _this.setFooterTemplate(popupEle);\n                }\n                document.body.appendChild(popupEle);\n                popupEle.style.top = '0px';\n                if (_this.enableVirtualization && _this.itemTemplate) {\n                    var listitems = popupEle.querySelectorAll('li.e-list-item:not(.e-virtual-list)');\n                    _this.listItemHeight = listitems.length > 0 ? Math.ceil(listitems[0].getBoundingClientRect().height) +\n                        parseInt(window.getComputedStyle(listitems[0]).marginBottom, 10) : 0;\n                }\n                if (_this.enableVirtualization && !_this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    _this.getSkeletonCount();\n                    _this.skeletonCount = _this.totalItemCount < (_this.itemCount * 2) && ((!(_this.dataSource instanceof DataManager)) ||\n                        ((_this.dataSource instanceof DataManager) && (_this.totalItemCount <= _this.itemCount))) ? 0 : _this.skeletonCount;\n                    if (!_this.list.querySelector('.e-virtual-ddl-content')) {\n                        _this.list.appendChild(_this.createElement('div', {\n                            className: 'e-virtual-ddl-content',\n                            styles: _this.getTransformValues()\n                        })).appendChild(_this.list.querySelector('.e-list-parent'));\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = _this.getTransformValues();\n                    }\n                    _this.UpdateSkeleton();\n                    _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    _this.virtualItemCount = _this.itemCount;\n                    if (!_this.list.querySelector('.e-virtual-ddl')) {\n                        var virualElement = _this.createElement('div', {\n                            id: _this.element.id + '_popup', className: 'e-virtual-ddl', styles: _this.GetVirtualTrackHeight()\n                        });\n                        popupEle.querySelector('.e-dropdownbase').appendChild(virualElement);\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.list.getElementsByClassName('e-virtual-ddl')[0].style = _this.GetVirtualTrackHeight();\n                    }\n                }\n                popupEle.style.visibility = 'hidden';\n                if (_this.popupHeight !== 'auto') {\n                    _this.searchBoxHeight = 0;\n                    if (!isNullOrUndefined(searchBox.container) &&\n                        _this.getModuleName() !== 'combobox' && _this.getModuleName() !== 'autocomplete') {\n                        _this.searchBoxHeight = (searchBox.container.parentElement).getBoundingClientRect().height;\n                        _this.listContainerHeight = (parseInt(_this.listContainerHeight, 10) - (_this.searchBoxHeight)).toString() + 'px';\n                    }\n                    if (_this.headerTemplate) {\n                        _this.header = _this.header ? _this.header : popupEle.querySelector('.e-ddl-header');\n                        var height = Math.round(_this.header.getBoundingClientRect().height);\n                        _this.listContainerHeight = (parseInt(_this.listContainerHeight, 10) -\n                            (height + _this.searchBoxHeight)).toString() + 'px';\n                    }\n                    if (_this.footerTemplate) {\n                        _this.footer = _this.footer ? _this.footer : popupEle.querySelector('.e-ddl-footer');\n                        var height = Math.round(_this.footer.getBoundingClientRect().height);\n                        _this.listContainerHeight = (parseInt(_this.listContainerHeight, 10) -\n                            (height + _this.searchBoxHeight)).toString() + 'px';\n                    }\n                    _this.list.style.maxHeight = (parseInt(_this.listContainerHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n                    popupEle.style.maxHeight = formatUnit(_this.popupHeight);\n                }\n                else {\n                    popupEle.style.height = 'auto';\n                }\n                var offsetValue = 0;\n                var left = void 0;\n                _this.isPreventScrollAction = true;\n                if (!isNullOrUndefined(_this.selectedLI) && (!isNullOrUndefined(_this.activeIndex) && _this.activeIndex >= 0)) {\n                    _this.setScrollPosition();\n                }\n                else if (_this.enableVirtualization) {\n                    _this.setScrollPosition();\n                }\n                else {\n                    _this.list.scrollTop = 0;\n                }\n                if (Browser.isDevice && _this.isDeviceFullScreen && (!_this.allowFiltering && (_this.getModuleName() === 'dropdownlist' ||\n                    (_this.isDropDownClick && _this.getModuleName() === 'combobox')))) {\n                    offsetValue = _this.getOffsetValue(popupEle);\n                    var firstItem = _this.isEmptyList() ? _this.list : _this.liCollections[0];\n                    if (!isNullOrUndefined(_this.inputElement)) {\n                        left = -(parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                            parseInt(getComputedStyle(_this.inputElement).paddingLeft, 10) +\n                            parseInt(getComputedStyle(_this.inputElement.parentElement).borderLeftWidth, 10));\n                    }\n                }\n                _this.createPopup(popupEle, offsetValue, left);\n                _this.popupContentElement = _this.popupObj.element.querySelector('.e-content');\n                _this.getFocusElement();\n                _this.checkCollision(popupEle);\n                if (Browser.isDevice) {\n                    if ((parseInt(_this.popupWidth.toString(), 10) > window.outerWidth) &&\n                        !(_this.getModuleName() === 'dropdownlist' && _this.allowFiltering)) {\n                        _this.popupObj.element.classList.add('e-wide-popup');\n                    }\n                    _this.popupObj.element.classList.add(dropDownListClasses.device);\n                    if (_this.getModuleName() === 'dropdownlist' || (_this.getModuleName() === 'combobox'\n                        && !_this.allowFiltering && _this.isDropDownClick)) {\n                        _this.popupObj.collision = { X: 'fit', Y: 'fit' };\n                    }\n                    if (_this.isFilterLayout() && _this.isDeviceFullScreen) {\n                        _this.popupObj.element.classList.add(dropDownListClasses.mobileFilter);\n                        _this.popupObj.position = { X: 0, Y: 0 };\n                        _this.popupObj.dataBind();\n                        attributes(_this.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n                        addClass([document.body, _this.popupObj.element], dropDownListClasses.popupFullScreen);\n                        _this.setSearchBoxPosition();\n                        _this.backIconElement = searchBox.container.querySelector('.e-back-icon');\n                        _this.clearIconElement = searchBox.container.querySelector('.' + dropDownListClasses.clearIcon);\n                        EventHandler.add(_this.backIconElement, 'click', _this.clickOnBackIcon, _this);\n                        EventHandler.add(_this.clearIconElement, 'click', _this.clearText, _this);\n                    }\n                }\n                popupEle.style.visibility = 'visible';\n                addClass([popupEle], 'e-popup-close');\n                var scrollParentElements = _this.popupObj.getScrollableParent(_this.inputWrapper.container);\n                for (var _i = 0, scrollParentElements_1 = scrollParentElements; _i < scrollParentElements_1.length; _i++) {\n                    var element = scrollParentElements_1[_i];\n                    EventHandler.add(element, 'scroll', _this.scrollHandler, _this);\n                }\n                if (!isNullOrUndefined(_this.list)) {\n                    _this.unWireListEvents();\n                    _this.wireListEvents();\n                }\n                _this.selectedElementID = _this.selectedLI ? _this.selectedLI.id : null;\n                if (_this.enableVirtualization) {\n                    _this.notify('bindScrollEvent', {\n                        module: 'VirtualScroll',\n                        component: _this.getModuleName(),\n                        enable: _this.enableVirtualization\n                    });\n                    setTimeout(function () {\n                        if (_this.value || _this.list.querySelector('.e-active')) {\n                            _this.updateSelectionList();\n                            if (_this.selectedValueInfo && _this.viewPortInfo && _this.viewPortInfo.offsets.top) {\n                                _this.list.scrollTop = _this.viewPortInfo.offsets.top;\n                            }\n                            else {\n                                _this.scrollBottom(true, true);\n                            }\n                        }\n                    }, 5);\n                }\n                attributes(_this.targetElement(), { 'aria-expanded': 'true', 'aria-owns': _this.element.id + '_popup', 'aria-controls': _this.element.id });\n                if (_this.getModuleName() !== 'dropdownlist' && _this.list.classList.contains('e-nodata')) {\n                    attributes(_this.targetElement(), { 'aria-activedescendant': 'no-record' });\n                    _this.popupContentElement.setAttribute('role', 'status');\n                    _this.popupContentElement.setAttribute('id', 'no-record');\n                }\n                _this.inputElement.setAttribute('aria-expanded', 'true');\n                _this.inputElement.setAttribute('aria-controls', _this.element.id + '_popup');\n                var inputParent = _this.isFiltering() ? _this.filterInput.parentElement : _this.inputWrapper.container;\n                addClass([inputParent], [dropDownListClasses.inputFocus]);\n                var animModel = { name: 'FadeIn', duration: 100 };\n                _this.beforePopupOpen = true;\n                var popupInstance = _this.popupObj;\n                var eventArgs = { popup: popupInstance, event: e, cancel: false, animation: animModel };\n                _this.trigger('open', eventArgs, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        if (!isNullOrUndefined(_this.inputWrapper)) {\n                            addClass([_this.inputWrapper.container], [dropDownListClasses.iconAnimation]);\n                        }\n                        _this.renderReactTemplates();\n                        if (!isNullOrUndefined(_this.popupObj)) {\n                            _this.popupObj.show(new Animation(eventArgs.animation), (_this.zIndex === 1000) ? _this.element : null);\n                        }\n                    }\n                    else {\n                        _this.beforePopupOpen = false;\n                        _this.destroyPopup();\n                    }\n                });\n            }\n            else {\n                _this.beforePopupOpen = false;\n            }\n        });\n    };\n    DropDownList.prototype.checkCollision = function (popupEle) {\n        if (!Browser.isDevice || (Browser.isDevice && !(this.getModuleName() === 'dropdownlist' || this.isDropDownClick))) {\n            var collision = isCollide(popupEle);\n            if (collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n            }\n            this.popupObj.resolveCollision();\n        }\n    };\n    DropDownList.prototype.getOffsetValue = function (popupEle) {\n        var popupStyles = getComputedStyle(popupEle);\n        var borderTop = parseInt(popupStyles.borderTopWidth, 10);\n        var borderBottom = parseInt(popupStyles.borderBottomWidth, 10);\n        return this.setPopupPosition(borderTop + borderBottom);\n    };\n    DropDownList.prototype.createPopup = function (element, offsetValue, left) {\n        var _this = this;\n        this.popupObj = new Popup(element, {\n            width: this.setWidth(), targetType: 'relative',\n            relateTo: this.inputWrapper.container,\n            collision: this.enableRtl ? { X: 'fit', Y: 'flip' } : { X: 'flip', Y: 'flip' }, offsetY: offsetValue,\n            enableRtl: this.enableRtl, offsetX: left,\n            position: this.enableRtl ? { X: 'right', Y: 'bottom' } : { X: 'left', Y: 'bottom' },\n            zIndex: this.zIndex,\n            close: function () {\n                if (!_this.isDocumentClick) {\n                    _this.focusDropDown();\n                }\n                // eslint-disable-next-line\n                if (_this.isReact) {\n                    _this.clearTemplate(['headerTemplate', 'footerTemplate']);\n                }\n                _this.isNotSearchList = false;\n                _this.isDocumentClick = false;\n                _this.destroyPopup();\n                if (_this.isFiltering() && _this.actionCompleteData.list && _this.actionCompleteData.list.length > 0) {\n                    _this.isActive = true;\n                    if (_this.enableVirtualization) {\n                        _this.onActionComplete(_this.ulElement, _this.listData, null, true);\n                    }\n                    else {\n                        _this.onActionComplete(_this.actionCompleteData.ulElement, _this.actionCompleteData.list, null, true);\n                    }\n                }\n                else if (_this.enableVirtualization) {\n                    _this.focusIndexItem();\n                }\n            },\n            open: function () {\n                EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                _this.isPopupOpen = true;\n                var actionList = _this.actionCompleteData && _this.actionCompleteData.ulElement &&\n                    _this.actionCompleteData.ulElement.querySelector('li');\n                var ulElement = _this.list.querySelector('ul li');\n                if (!isNullOrUndefined(_this.ulElement) && !isNullOrUndefined(_this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                    attributes(_this.targetElement(), { 'aria-activedescendant': _this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n                }\n                else if (!isNullOrUndefined(_this.ulElement) && !isNullOrUndefined(_this.ulElement.getElementsByClassName('e-active')[0])) {\n                    attributes(_this.targetElement(), { 'aria-activedescendant': _this.ulElement.getElementsByClassName('e-active')[0].id });\n                }\n                if (_this.isFiltering() && _this.itemTemplate && (_this.element.tagName === _this.getNgDirective()) &&\n                    (actionList && ulElement && actionList.textContent !== ulElement.textContent) &&\n                    _this.element.tagName !== 'EJS-COMBOBOX') {\n                    _this.cloneElements();\n                }\n                if (_this.isFilterLayout()) {\n                    removeClass([_this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n                    _this.isFilterFocus = true;\n                    _this.filterInput.focus();\n                    if (_this.inputWrapper.clearButton) {\n                        addClass([_this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n                    }\n                }\n                _this.activeStateChange();\n            },\n            targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hidePopup();\n                }\n            }\n        });\n    };\n    DropDownList.prototype.isEmptyList = function () {\n        return !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0;\n    };\n    DropDownList.prototype.getFocusElement = function () {\n        // combo-box used this method\n    };\n    DropDownList.prototype.isFilterLayout = function () {\n        return this.getModuleName() === 'dropdownlist' && this.allowFiltering;\n    };\n    DropDownList.prototype.scrollHandler = function () {\n        if (Browser.isDevice && ((this.getModuleName() === 'dropdownlist' &&\n            !this.isFilterLayout()) || (this.getModuleName() === 'combobox' && !this.allowFiltering && this.isDropDownClick))) {\n            if (this.element && !(this.isElementInViewport(this.element))) {\n                this.hidePopup();\n            }\n        }\n    };\n    DropDownList.prototype.isElementInViewport = function (element) {\n        var elementRect = element.getBoundingClientRect();\n        return (elementRect.top >= 0 && elementRect.left >= 0 && elementRect.bottom <= window.innerHeight &&\n            elementRect.right <= window.innerWidth);\n    };\n    DropDownList.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        this.popupObj.element.style.maxHeight = '100%';\n        this.popupObj.element.style.width = '100%';\n        this.list.style.maxHeight = (window.innerHeight - searchBoxHeight) + 'px';\n        this.list.style.height = (window.innerHeight - searchBoxHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    DropDownList.prototype.setPopupPosition = function (border) {\n        var offsetValue;\n        var popupOffset = border;\n        var selectedLI = this.list.querySelector('.' + dropDownListClasses.focus) || this.selectedLI;\n        var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n        var lastItem = this.isEmptyList() ? this.list : this.liCollections[this.getItems().length - 1];\n        var liHeight = firstItem.getBoundingClientRect().height;\n        this.listItemHeight = liHeight + parseInt(window.getComputedStyle(firstItem).marginBottom, 10);\n        var listHeight = this.list.offsetHeight / 2;\n        var height = isNullOrUndefined(selectedLI) ? firstItem.offsetTop : selectedLI.offsetTop;\n        var lastItemOffsetValue = lastItem.offsetTop;\n        if (lastItemOffsetValue - listHeight < height && !isNullOrUndefined(this.liCollections) &&\n            this.liCollections.length > 0 && !isNullOrUndefined(selectedLI)) {\n            var count = this.list.offsetHeight / liHeight;\n            var paddingBottom = parseInt(getComputedStyle(this.list).paddingBottom, 10);\n            offsetValue = (count - (this.liCollections.length - this.activeIndex)) * liHeight - popupOffset + paddingBottom;\n            this.list.scrollTop = selectedLI.offsetTop;\n        }\n        else if (height > listHeight && !this.enableVirtualization) {\n            offsetValue = listHeight - liHeight / 2;\n            this.list.scrollTop = height - listHeight + liHeight / 2;\n        }\n        else {\n            offsetValue = height;\n        }\n        var inputHeight = this.inputWrapper.container.offsetHeight;\n        offsetValue = offsetValue + liHeight + popupOffset - ((liHeight - inputHeight) / 2);\n        return -offsetValue;\n    };\n    DropDownList.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.inputWrapper.container.offsetWidth * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        if (Browser.isDevice && (width.indexOf('px') > -1) && (!this.allowFiltering && (this.getModuleName() === 'dropdownlist' ||\n            (this.isDropDownClick && this.getModuleName() === 'combobox')))) {\n            var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n            width = (parseInt(width, 10) + (parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) +\n                parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10)) * 2) + 'px';\n        }\n        return width;\n    };\n    DropDownList.prototype.scrollBottom = function (isInitial, isInitialSelection, keyAction) {\n        var _this = this;\n        if (isInitialSelection === void 0) { isInitialSelection = false; }\n        if (keyAction === void 0) { keyAction = null; }\n        if (isNullOrUndefined(this.selectedLI) && this.enableVirtualization) {\n            this.selectedLI = this.list.querySelector('.' + dropDownBaseClasses.li);\n            if (!isNullOrUndefined(this.selectedLI) && this.selectedLI.classList.contains('e-virtual-list')) {\n                this.selectedLI = this.liCollections[this.skeletonCount];\n            }\n        }\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var selectedListMargin = this.selectedLI &&\n                !isNaN(parseInt(window.getComputedStyle(this.selectedLI).marginBottom, 10)) ?\n                parseInt(window.getComputedStyle(this.selectedLI).marginBottom, 10) : 0;\n            this.isUpwardScrolling = false;\n            var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n            var lastElementValue = this.list.querySelector('li:last-of-type') ?\n                this.list.querySelector('li:last-of-type').getAttribute('data-value') : null;\n            var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ?\n                this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * (this.selectedLI.offsetHeight +\n                    selectedListMargin)) : this.selectedLI.offsetTop;\n            var currentOffset = this.list.offsetHeight;\n            var nextBottom = selectedLiOffsetTop - (virtualListCount * (this.selectedLI.offsetHeight + selectedListMargin)) +\n                (this.selectedLI.offsetHeight + selectedListMargin) - this.list.scrollTop;\n            var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n            var isScrollerCHanged = false;\n            var isScrollTopChanged = false;\n            nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 :\n                nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10);\n            var boxRange = selectedLiOffsetTop - (virtualListCount * (this.selectedLI.offsetHeight + selectedListMargin)) +\n                (this.selectedLI.offsetHeight + selectedListMargin) - this.list.scrollTop;\n            boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n            if (this.activeIndex === 0 && !this.enableVirtualization) {\n                this.list.scrollTop = 0;\n                isScrollerCHanged = this.isKeyBoardAction;\n            }\n            else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                var currentElementValue = this.selectedLI ? this.selectedLI.getAttribute('data-value') : null;\n                var liCount = keyAction === 'pageDown' ? this.getPageCount() - 2 : 1;\n                if (!this.enableVirtualization || this.isKeyBoardAction || isInitialSelection) {\n                    if (this.isKeyBoardAction && this.enableVirtualization && lastElementValue &&\n                        currentElementValue === lastElementValue && keyAction !== 'end' && !this.isVirtualScrolling) {\n                        this.isPreventKeyAction = true;\n                        if (this.enableVirtualization && this.itemTemplate) {\n                            this.list.scrollTop += nextOffset;\n                        }\n                        else {\n                            if (this.enableVirtualization) {\n                                liCount = keyAction === 'pageDown' ? this.getPageCount() + 1 : liCount;\n                            }\n                            this.list.scrollTop += (this.selectedLI.offsetHeight + selectedListMargin) * liCount;\n                        }\n                        this.isPreventKeyAction = this.IsScrollerAtEnd() ? false : this.isPreventKeyAction;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                    }\n                    else if (this.enableVirtualization && keyAction === 'end') {\n                        this.isPreventKeyAction = false;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                        this.list.scrollTop = this.list.scrollHeight;\n                    }\n                    else {\n                        if (keyAction === 'pageDown' && this.enableVirtualization && !this.isVirtualScrolling) {\n                            this.isPreventKeyAction = false;\n                            this.isKeyBoardAction = false;\n                            this.isPreventScrollAction = false;\n                        }\n                        this.list.scrollTop = nextOffset;\n                    }\n                }\n                else {\n                    this.list.scrollTop = this.virtualListInfo && this.virtualListInfo.startIndex ?\n                        this.virtualListInfo.startIndex * this.listItemHeight : 0;\n                }\n                isScrollerCHanged = this.isKeyBoardAction;\n                isScrollTopChanged = true;\n            }\n            this.isKeyBoardAction = isScrollerCHanged;\n            if (this.enableVirtualization && this.fields.groupBy && this.fixedHeaderElement && (keyAction === 'down')) {\n                setTimeout(function () {\n                    _this.scrollStop(null, true);\n                }, 100);\n            }\n        }\n    };\n    DropDownList.prototype.scrollTop = function (keyAction) {\n        if (keyAction === void 0) { keyAction = null; }\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var selectedListMargin = this.selectedLI &&\n                !isNaN(parseInt(window.getComputedStyle(this.selectedLI).marginBottom, 10)) ?\n                parseInt(window.getComputedStyle(this.selectedLI).marginBottom, 10) : 0;\n            var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n            var selectedLiOffsetTop = (this.virtualListInfo && this.virtualListInfo.startIndex) ?\n                this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * (this.selectedLI.offsetHeight +\n                    selectedListMargin)) : this.selectedLI.offsetTop;\n            var nextOffset = selectedLiOffsetTop - (virtualListCount * (this.selectedLI.offsetHeight +\n                selectedListMargin)) - this.list.scrollTop;\n            var firstElementValue = this.list.querySelector('li.e-list-item:not(.e-virtual-list)') ?\n                this.list.querySelector('li.e-list-item:not(.e-virtual-list)').getAttribute('data-value') : null;\n            nextOffset = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n            var boxRange = (selectedLiOffsetTop - (virtualListCount * (this.selectedLI.offsetHeight + selectedListMargin)) +\n                (this.selectedLI.offsetHeight + selectedListMargin) - this.list.scrollTop);\n            var isPageUpKeyAction = this.enableVirtualization && this.getModuleName() === 'autocomplete' && nextOffset <= 0;\n            if (this.activeIndex === 0 && !this.enableVirtualization) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextOffset < 0 || isPageUpKeyAction) {\n                var currentElementValue = this.selectedLI ? this.selectedLI.getAttribute('data-value') : null;\n                var liCount = keyAction === 'pageUp' ? this.getPageCount() - 2 : 1;\n                if (this.enableVirtualization) {\n                    liCount = keyAction === 'pageUp' ? this.getPageCount() : liCount;\n                }\n                if (this.enableVirtualization && this.isKeyBoardAction && firstElementValue &&\n                    currentElementValue === firstElementValue && keyAction !== 'home' && !this.isVirtualScrolling) {\n                    this.isUpwardScrolling = true;\n                    this.isPreventKeyAction = true;\n                    this.list.scrollTop -= (this.selectedLI.offsetHeight + selectedListMargin) * liCount;\n                    this.isPreventKeyAction = this.list.scrollTop !== 0 ? this.isPreventKeyAction : false;\n                    this.isKeyBoardAction = false;\n                    this.isPreventScrollAction = false;\n                }\n                else if (this.enableVirtualization && keyAction === 'home') {\n                    this.isPreventScrollAction = false;\n                    this.isPreventKeyAction = true;\n                    this.isKeyBoardAction = false;\n                    this.list.scrollTo(0, 0);\n                }\n                else {\n                    if (keyAction === 'pageUp' && this.enableVirtualization && !this.isVirtualScrolling) {\n                        this.isPreventKeyAction = false;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                    }\n                    this.list.scrollTop = this.list.scrollTop + nextOffset;\n                }\n            }\n            else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = this.selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                    this.fixedHeaderElement.offsetHeight : 0);\n            }\n        }\n    };\n    DropDownList.prototype.IsScrollerAtEnd = function () {\n        return this.list && this.list.scrollTop + this.list.clientHeight >= this.list.scrollHeight;\n    };\n    DropDownList.prototype.isEditTextBox = function () {\n        return false;\n    };\n    DropDownList.prototype.isFiltering = function () {\n        return this.allowFiltering;\n    };\n    DropDownList.prototype.isPopupButton = function () {\n        return true;\n    };\n    DropDownList.prototype.setScrollPosition = function (e) {\n        this.isPreventScrollAction = true;\n        if (!isNullOrUndefined(e)) {\n            switch (e.action) {\n                case 'pageDown':\n                case 'down':\n                case 'end':\n                    this.isKeyBoardAction = true;\n                    this.scrollBottom(false, false, e.action);\n                    break;\n                default:\n                    this.isKeyBoardAction = e.action === 'up' || e.action === 'pageUp' || e.action === 'open';\n                    this.scrollTop(e.action);\n                    break;\n            }\n        }\n        else {\n            this.scrollBottom(true);\n        }\n        this.isKeyBoardAction = false;\n    };\n    DropDownList.prototype.clearText = function () {\n        this.filterInput.value = this.typedString = '';\n        this.searchLists(null);\n        if (this.enableVirtualization) {\n            this.list.scrollTop = 0;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ?\n                this.dataSource.length : 0;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n            }\n            this.getSkeletonCount();\n            this.UpdateSkeleton();\n            this.liCollections = this.list.querySelectorAll('.e-list-item');\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n            }\n        }\n    };\n    DropDownList.prototype.setEleWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.inputWrapper.container.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.inputWrapper.container.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    DropDownList.prototype.closePopup = function (delay, e) {\n        var _this = this;\n        var isFilterValue = !isNullOrUndefined(this.filterInput) &&\n            !isNullOrUndefined(this.filterInput.value) && this.filterInput.value !== '';\n        var typedString = this.getModuleName() === 'combobox' ? this.typedString : null;\n        this.isTyped = false;\n        this.isVirtualTrackHeight = false;\n        if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n            return;\n        }\n        this.keyboardEvent = null;\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.isActive = false;\n        if (this.getModuleName() === 'dropdownlist') {\n            Input.destroy({\n                element: this.filterInput,\n                floatLabelType: this.floatLabelType,\n                properties: { placeholder: this.filterBarPlaceholder },\n                buttons: this.clearIconElement\n            }, this.clearIconElement);\n        }\n        this.filterInputObj = null;\n        this.isDropDownClick = false;\n        this.preventAutoFill = false;\n        var scrollableParentElements = this.popupObj.getScrollableParent(this.inputWrapper.container);\n        for (var _i = 0, scrollableParentElements_1 = scrollableParentElements; _i < scrollableParentElements_1.length; _i++) {\n            var element = scrollableParentElements_1[_i];\n            EventHandler.remove(element, 'scroll', this.scrollHandler);\n        }\n        if (Browser.isDevice && this.isFilterLayout() && this.isDeviceFullScreen) {\n            removeClass([document.body, this.popupObj.element], dropDownListClasses.popupFullScreen);\n        }\n        if (this.isFilterLayout()) {\n            if (!Browser.isDevice) {\n                this.searchKeyModule.destroy();\n                if (this.clearIconElement) {\n                    EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n                }\n            }\n            if (this.backIconElement) {\n                EventHandler.remove(this.backIconElement, 'click', this.clickOnBackIcon);\n                EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n            }\n            if (!isNullOrUndefined(this.filterInput)) {\n                EventHandler.remove(this.filterInput, 'input', this.onInput);\n                EventHandler.remove(this.filterInput, 'keyup', this.onFilterUp);\n                EventHandler.remove(this.filterInput, 'keydown', this.onFilterDown);\n                EventHandler.remove(this.filterInput, 'blur', this.onBlurHandler);\n                EventHandler.remove(this.filterInput, 'paste', this.pasteHandler);\n            }\n            if (this.allowFiltering && this.getModuleName() === 'dropdownlist') {\n                this.filterInput.removeAttribute('aria-activedescendant');\n                this.filterInput.removeAttribute('aria-disabled');\n                this.filterInput.removeAttribute('role');\n                this.filterInput.removeAttribute('autocomplete');\n                this.filterInput.removeAttribute('autocapitalize');\n                this.filterInput.removeAttribute('spellcheck');\n            }\n            this.filterInput = null;\n        }\n        attributes(this.targetElement(), { 'aria-expanded': 'false' });\n        this.inputElement.setAttribute('aria-expanded', 'false');\n        this.targetElement().removeAttribute('aria-owns');\n        this.targetElement().removeAttribute('aria-activedescendant');\n        this.inputWrapper.container.classList.remove(dropDownListClasses.iconAnimation);\n        if (this.isFiltering()) {\n            this.actionCompleteData.isUpdated = false;\n        }\n        if (this.enableVirtualization) {\n            if ((this.value == null || this.isTyped)) {\n                this.viewPortInfo.endIndex = this.viewPortInfo && this.viewPortInfo.endIndex > 0 ?\n                    this.viewPortInfo.endIndex : this.itemCount;\n                if (this.getModuleName() === 'autocomplete' || (this.getModuleName() === 'dropdownlist' &&\n                    !isNullOrUndefined(this.typedString) && this.typedString !== '') || (this.getModuleName() === 'combobox' &&\n                    this.allowFiltering && !isNullOrUndefined(this.typedString) && this.typedString !== '')) {\n                    this.checkAndResetCache();\n                }\n            }\n            else if (this.getModuleName() === 'autocomplete') {\n                this.checkAndResetCache();\n            }\n            if ((this.getModuleName() === 'dropdownlist' || this.getModuleName() === 'combobox') && !(this.skeletonCount === 0)) {\n                this.getSkeletonCount(true);\n            }\n        }\n        this.beforePopupOpen = false;\n        var animModel = {\n            name: 'FadeOut',\n            duration: 100,\n            delay: delay ? delay : 0\n        };\n        var popupInstance = this.popupObj;\n        var eventArgs = { popup: popupInstance, cancel: false, animation: animModel, event: e || null };\n        this.trigger('close', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.popupObj) &&\n                !isNullOrUndefined(_this.popupObj.element.querySelector('.e-fixed-head'))) {\n                var fixedHeader = _this.popupObj.element.querySelector('.e-fixed-head');\n                fixedHeader.parentNode.removeChild(fixedHeader);\n                _this.fixedHeaderElement = null;\n            }\n            if (!eventArgs.cancel) {\n                if (_this.getModuleName() === 'autocomplete') {\n                    _this.rippleFun();\n                }\n                if (_this.isPopupOpen) {\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                }\n                else {\n                    _this.destroyPopup();\n                }\n            }\n        });\n        if (Browser.isDevice && !eventArgs.cancel && this.popupObj.element.classList.contains('e-wide-popup')) {\n            this.popupObj.element.classList.remove('e-wide-popup');\n        }\n        var dataSourceCount;\n        if (this.dataSource instanceof DataManager) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataSourceCount = this.virtualGroupDataSource && this.virtualGroupDataSource.length ?\n                this.virtualGroupDataSource.length : 0;\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataSourceCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        if (this.enableVirtualization && this.isFiltering() && isFilterValue && this.totalItemCount !== dataSourceCount) {\n            this.updateInitialData();\n            this.checkAndResetCache();\n        }\n    };\n    DropDownList.prototype.updateInitialData = function () {\n        var currentData = this.selectData;\n        var ulElement = this.renderItems(currentData, this.fields);\n        this.list.scrollTop = 0;\n        this.virtualListInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: this.itemCount\n        };\n        if (this.getModuleName() === 'combobox') {\n            this.typedString = '';\n        }\n        this.previousStartIndex = 0;\n        this.previousEndIndex = 0;\n        if (this.dataSource instanceof DataManager) {\n            if (this.remoteDataCount >= 0) {\n                this.totalItemCount = this.dataCount = this.remoteDataCount;\n            }\n            else {\n                this.resetList(this.dataSource);\n            }\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n        }\n        if (this.getModuleName() !== 'autocomplete' && this.totalItemCount !== 0 && this.totalItemCount > (this.itemCount * 2)) {\n            this.getSkeletonCount();\n        }\n        this.UpdateSkeleton();\n        this.listData = currentData;\n        this.updateActionCompleteDataValues(ulElement, currentData);\n        this.liCollections = this.list.querySelectorAll('.e-list-item');\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n        }\n    };\n    DropDownList.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        this.isFilterFocus = false;\n        this.inputElement.removeAttribute('aria-controls');\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n    };\n    DropDownList.prototype.clickOnBackIcon = function () {\n        this.hidePopup();\n        this.focusIn();\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownList.prototype.render = function () {\n        this.preselectedIndex = !isNullOrUndefined(this.index) ? this.index : null;\n        if (this.element.tagName === 'INPUT') {\n            this.inputElement = this.element;\n            if (isNullOrUndefined(this.inputElement.getAttribute('role'))) {\n                this.inputElement.setAttribute('role', 'combobox');\n            }\n            if (isNullOrUndefined(this.inputElement.getAttribute('type'))) {\n                this.inputElement.setAttribute('type', 'text');\n            }\n            this.inputElement.setAttribute('aria-expanded', 'false');\n        }\n        else {\n            this.inputElement = this.createElement('input', { attrs: { role: 'combobox', type: 'text' } });\n            if (this.element.tagName !== this.getNgDirective()) {\n                this.element.style.display = 'none';\n            }\n            this.element.parentElement.insertBefore(this.inputElement, this.element);\n            this.preventTabIndex(this.inputElement);\n        }\n        var updatedCssClassValues = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValues = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(closest(this.element, 'fieldset')) &&\n            closest(this.element, 'fieldset').disabled) {\n            this.enabled = false;\n        }\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            buttons: this.isPopupButton() ? [dropDownListClasses.icon] : null,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.getModuleName() === 'dropdownlist' ? true : this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValues,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            }\n        }, this.createElement);\n        if (this.element.tagName === this.getNgDirective()) {\n            this.element.appendChild(this.inputWrapper.container);\n        }\n        else {\n            this.inputElement.parentElement.insertBefore(this.element, this.inputElement);\n        }\n        this.hiddenElement = this.createElement('select', {\n            attrs: {\n                'aria-hidden': 'true',\n                'tabindex': '-1',\n                'class': dropDownListClasses.hiddenElement\n            }\n        });\n        prepend([this.hiddenElement], this.inputWrapper.container);\n        if (!this.hiddenElement.hasAttribute('aria-label')) {\n            this.hiddenElement.setAttribute('aria-label', this.getModuleName());\n        }\n        this.validationAttribute(this.element, this.hiddenElement);\n        this.setReadOnly();\n        this.setFields();\n        this.inputWrapper.container.style.width = formatUnit(this.width);\n        this.inputWrapper.container.classList.add('e-ddl');\n        if (this.floatLabelType !== 'Never') {\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) &&\n            this.inputWrapper.container.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n        }\n        this.wireEvent();\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n        this.element.id = id;\n        this.hiddenElement.id = id + '_hidden';\n        this.targetElement().setAttribute('tabindex', this.tabIndex);\n        if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') && !this.readonly) {\n            if (!this.inputElement.hasAttribute('aria-label')) {\n                this.inputElement.setAttribute('aria-label', this.getModuleName());\n            }\n        }\n        else if (this.getModuleName() === 'dropdownlist') {\n            if (!this.targetElement().hasAttribute('aria-label')) {\n                attributes(this.targetElement(), { 'aria-label': this.getModuleName() });\n            }\n            if (!this.inputElement.hasAttribute('aria-label')) {\n                this.inputElement.setAttribute('aria-label', this.getModuleName());\n            }\n            this.inputElement.setAttribute('aria-expanded', 'false');\n        }\n        attributes(this.targetElement(), this.getAriaAttributes());\n        this.updateDataAttribute(this.htmlAttributes);\n        this.setHTMLAttributes();\n        if (this.targetElement() === this.inputElement) {\n            this.inputElement.removeAttribute('aria-labelledby');\n        }\n        if (this.value !== null || this.activeIndex !== null || this.text !== null) {\n            if (this.enableVirtualization) {\n                this.listItemHeight = this.getListHeight();\n                this.getSkeletonCount();\n                this.updateVirtualizationProperties(this.itemCount, this.allowFiltering);\n                if (this.index !== null) {\n                    this.activeIndex = this.index + this.skeletonCount;\n                }\n            }\n            this.initValue();\n            this.selectedValueInfo = this.viewPortInfo;\n            if (this.enableVirtualization) {\n                this.activeIndex = this.activeIndex + this.skeletonCount;\n            }\n        }\n        else if (this.element.tagName === 'SELECT' && this.element.options[0]) {\n            var selectElement = this.element;\n            this.value = this.allowObjectBinding ? this.getDataByValue(selectElement.options[selectElement.selectedIndex].value) :\n                selectElement.options[selectElement.selectedIndex].value;\n            this.text = isNullOrUndefined(this.value) ? null : selectElement.options[selectElement.selectedIndex].textContent;\n            this.initValue();\n        }\n        this.setEnabled();\n        this.preventTabIndex(this.element);\n        if (!this.enabled) {\n            this.targetElement().tabIndex = -1;\n        }\n        this.initial = false;\n        this.element.style.opacity = '';\n        this.inputElement.onselect = function (e) {\n            e.stopImmediatePropagation();\n        };\n        this.inputElement.onchange = function (e) {\n            e.stopImmediatePropagation();\n        };\n        if (this.element.hasAttribute('autofocus')) {\n            this.focusIn();\n        }\n        if (!isNullOrUndefined(this.text)) {\n            this.inputElement.setAttribute('value', this.text);\n        }\n        if (this.element.hasAttribute('data-val')) {\n            this.element.setAttribute('data-val', 'false');\n        }\n        var floatLabelElement = this.inputWrapper.container.getElementsByClassName('e-float-text')[0];\n        if (!isNullOrUndefined(this.element.id) && this.element.id !== '' && !isNullOrUndefined(floatLabelElement)) {\n            floatLabelElement.id = 'label_' + this.element.id.replace(/ /g, '_');\n            attributes(this.inputElement, { 'aria-labelledby': floatLabelElement.id });\n        }\n        this.renderComplete();\n        this.listItemHeight = this.getListHeight();\n        this.getSkeletonCount();\n        if (this.enableVirtualization) {\n            this.updateVirtualizationProperties(this.itemCount, this.allowFiltering);\n        }\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.viewPortInfo.startIndex > 0 ?\n            this.viewPortInfo.endIndex : this.itemCount;\n    };\n    DropDownList.prototype.getListHeight = function () {\n        var listParent = this.createElement('div', {\n            className: 'e-dropdownbase'\n        });\n        var item = this.createElement('li', {\n            className: 'e-list-item'\n        });\n        var listParentHeight = formatUnit(this.popupHeight);\n        listParent.style.height = (parseInt(listParentHeight, 10)).toString() + 'px';\n        listParent.appendChild(item);\n        document.body.appendChild(listParent);\n        this.virtualListHeight = listParent.getBoundingClientRect().height;\n        var listItemHeight = Math.ceil(item.getBoundingClientRect().height) +\n            parseInt(window.getComputedStyle(item).marginBottom, 10);\n        listParent.remove();\n        return listItemHeight;\n    };\n    DropDownList.prototype.setFooterTemplate = function (popupEle) {\n        var compiledString;\n        if (this.footer) {\n            if (this.isReact && typeof this.footerTemplate === 'function') {\n                this.clearTemplate(['footerTemplate']);\n            }\n            else {\n                this.footer.innerHTML = '';\n            }\n        }\n        else {\n            this.footer = this.createElement('div');\n            addClass([this.footer], dropDownListClasses.footer);\n        }\n        var footercheck = this.dropdownCompiler(this.footerTemplate);\n        if (typeof this.footerTemplate !== 'function' && footercheck) {\n            compiledString = compile(select(this.footerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.footerTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var footerCompTemp = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, null, this.footer);\n        if (footerCompTemp && footerCompTemp.length > 0) {\n            append(footerCompTemp, this.footer);\n        }\n        append([this.footer], popupEle);\n    };\n    DropDownList.prototype.setHeaderTemplate = function (popupEle) {\n        var compiledString;\n        if (this.header) {\n            this.header.innerHTML = '';\n        }\n        else {\n            this.header = this.createElement('div');\n            addClass([this.header], dropDownListClasses.header);\n        }\n        var headercheck = this.dropdownCompiler(this.headerTemplate);\n        if (typeof this.headerTemplate !== 'function' && headercheck) {\n            compiledString = compile(select(this.headerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.headerTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var headerCompTemp = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, null, this.header);\n        if (headerCompTemp && headerCompTemp.length) {\n            append(headerCompTemp, this.header);\n        }\n        var contentEle = popupEle.querySelector('div.e-content');\n        popupEle.insertBefore(this.header, contentEle);\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.setEnabled = function () {\n        this.element.setAttribute('aria-disabled', (this.enabled) ? 'false' : 'true');\n    };\n    DropDownList.prototype.setOldText = function (text) {\n        this.text = text;\n    };\n    DropDownList.prototype.setOldValue = function (value) {\n        this.value = value;\n    };\n    DropDownList.prototype.refreshPopup = function () {\n        if (!isNullOrUndefined(this.popupObj) && document.body.contains(this.popupObj.element) &&\n            ((this.allowFiltering && !(Browser.isDevice && this.isFilterLayout())) || this.getModuleName() === 'autocomplete')) {\n            removeClass([this.popupObj.element], 'e-popup-close');\n            this.popupObj.refreshPosition(this.inputWrapper.container);\n            this.popupObj.resolveCollision();\n        }\n    };\n    DropDownList.prototype.checkData = function (newProp) {\n        if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource)) && this.itemTemplate && this.allowFiltering &&\n            !(this.isListSearched && (newProp.dataSource instanceof DataManager))) {\n            if (this.list && !(this.isReact)) {\n                this.list.innerHTML = '';\n            }\n            else {\n                this.list = null;\n            }\n            this.actionCompleteData = { ulElement: null, list: null, isUpdated: false };\n        }\n        this.isListSearched = false;\n        var isChangeValue = Object.keys(newProp).indexOf('value') !== -1 && isNullOrUndefined(newProp.value);\n        var isChangeText = Object.keys(newProp).indexOf('text') !== -1 && isNullOrUndefined(newProp.text);\n        if (this.getModuleName() !== 'autocomplete' && this.allowFiltering && (isChangeValue || isChangeText)) {\n            this.itemData = null;\n        }\n        if (this.allowFiltering && newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource))) {\n            this.actionCompleteData = { ulElement: null, list: null, isUpdated: false };\n            this.actionData = this.actionCompleteData;\n        }\n        else if (this.allowFiltering && newProp.query && !isNullOrUndefined(Object.keys(newProp.query))) {\n            this.actionCompleteData = this.getModuleName() === 'combobox' ?\n                { ulElement: null, list: null, isUpdated: false } : this.actionCompleteData;\n            this.actionData = this.actionCompleteData;\n        }\n    };\n    DropDownList.prototype.updateDataSource = function (props, oldProps) {\n        if (this.inputElement.value !== '' || (!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource)\n            || (!(props.dataSource instanceof DataManager) && props.dataSource.length === 0)))) {\n            this.clearAll(null, props);\n        }\n        if ((this.fields.groupBy && props.fields) && !this.isGroupChecking && this.list) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n            EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n        }\n        if (!(!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource)\n            || (!(props.dataSource instanceof DataManager) && props.dataSource.length === 0))) ||\n            ((props.dataSource instanceof DataManager) || (!isNullOrUndefined(props) && Array.isArray(props.dataSource) &&\n                !isNullOrUndefined(oldProps) && Array.isArray(oldProps.dataSource) && props.dataSource.length !== oldProps.dataSource.length))) {\n            this.typedString = '';\n            this.resetList(this.dataSource);\n        }\n        if (!this.isCustomFilter && !this.isFilterFocus && document.activeElement !== this.filterInput) {\n            this.checkCustomValue();\n        }\n    };\n    DropDownList.prototype.checkCustomValue = function () {\n        var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ?\n            getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        this.itemData = this.getDataByValue(currentValue);\n        var dataItem = this.getItemData();\n        var value = this.allowObjectBinding ? this.itemData : dataItem.value;\n        var index = isNullOrUndefined(value) ? null : this.index;\n        if ((isNullOrUndefined(index) && (currentValue === value)) || this.isAngular) {\n            this.setProperties({ 'text': dataItem.text ? dataItem.text.toString() : dataItem.text, 'value': value });\n        }\n        else {\n            this.setProperties({ 'text': dataItem.text ? dataItem.text.toString() : dataItem.text, 'index': index, 'value': value });\n        }\n    };\n    DropDownList.prototype.updateInputFields = function () {\n        if (this.getModuleName() === 'dropdownlist') {\n            Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @private\n     * @param {DropDownListModel} newProp - Returns the dynamic property value of the component.\n     * @param {DropDownListModel} oldProp - Returns the previous previous value of the component.\n     * @returns {void}\n     */\n    DropDownList.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        if (!isNullOrUndefined(newProp.dataSource) && !this.isTouched && (isNullOrUndefined(newProp.value) &&\n            isNullOrUndefined(newProp.index)) && !isNullOrUndefined(this.preselectedIndex) && !isNullOrUndefined(this.index)) {\n            newProp.index = this.index;\n        }\n        if (!isNullOrUndefined(newProp.value) || !isNullOrUndefined(newProp.index)) {\n            this.isTouched = true;\n        }\n        if (this.getModuleName() === 'dropdownlist') {\n            this.checkData(newProp);\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        var _loop_1 = function (prop) {\n            switch (prop) {\n                case 'query':\n                case 'dataSource':\n                    this_1.getSkeletonCount();\n                    this_1.checkAndResetCache();\n                    break;\n                case 'htmlAttributes':\n                    this_1.setHTMLAttributes();\n                    break;\n                case 'width':\n                    this_1.setEleWidth(newProp.width);\n                    Input.calculateWidth(this_1.inputElement, this_1.inputWrapper.container);\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this_1.inputElement);\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this_1.filterInput) {\n                        Input.setPlaceholder(newProp.filterBarPlaceholder, this_1.filterInput);\n                    }\n                    break;\n                case 'readonly':\n                    if (this_1.getModuleName() !== 'dropdownlist') {\n                        Input.setReadonly(newProp.readonly, this_1.inputElement);\n                    }\n                    this_1.setReadOnly();\n                    break;\n                case 'cssClass':\n                    this_1.setCssClass(newProp.cssClass, oldProp.cssClass);\n                    Input.calculateWidth(this_1.inputElement, this_1.inputWrapper.container);\n                    break;\n                case 'enableRtl':\n                    this_1.setEnableRtl();\n                    break;\n                case 'enabled':\n                    this_1.setEnable();\n                    break;\n                case 'text':\n                    if (this_1.fields.disabled) {\n                        newProp.text = newProp.text && !this_1.isDisabledItemByIndex(this_1.getIndexByValue(this_1.getValueByText(newProp.text)))\n                            ? newProp.text : null;\n                    }\n                    if (newProp.text === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (this_1.enableVirtualization) {\n                        this_1.updateValues();\n                        this_1.updateInputFields();\n                        this_1.notify('setCurrentViewDataAsync', {\n                            module: 'VirtualScroll'\n                        });\n                        break;\n                    }\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initialRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initialRemoteRender) {\n                        var li = this_1.getElementByText(newProp.text);\n                        if (!this_1.checkValidLi(li)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.text, oldProp.text, 'text');\n                            }\n                            else if (newProp.text && this_1.dataSource instanceof DataManager) {\n                                var listLength_1 = this_1.getItems().length;\n                                var checkField = isNullOrUndefined(this_1.fields.text) ? this_1.fields.value : this_1.fields.text;\n                                this_1.typedString = '';\n                                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', newProp.text)))\n                                    .then(function (e) {\n                                    if (e.result.length > 0) {\n                                        _this.addItem(e.result, listLength_1);\n                                        _this.updateValues();\n                                    }\n                                    else {\n                                        _this.setOldText(oldProp.text);\n                                    }\n                                });\n                            }\n                            else if (this_1.getModuleName() === 'autocomplete') {\n                                this_1.setInputValue(newProp, oldProp);\n                            }\n                            else {\n                                this_1.setOldText(oldProp.text);\n                            }\n                        }\n                        this_1.updateInputFields();\n                    }\n                    break;\n                case 'value':\n                    if (this_1.fields.disabled) {\n                        newProp.value = newProp.value != null && !this_1.isDisableItemValue(newProp.value) ? newProp.value : null;\n                    }\n                    if (newProp.value === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (this_1.allowObjectBinding && !isNullOrUndefined(newProp.value) && !isNullOrUndefined(oldProp.value) &&\n                        this_1.isObjectInArray(newProp.value, [oldProp.value])) {\n                        return { value: void 0 };\n                    }\n                    if (this_1.enableVirtualization) {\n                        this_1.updateValues();\n                        this_1.updateInputFields();\n                        this_1.notify('setCurrentViewDataAsync', {\n                            module: 'VirtualScroll'\n                        });\n                        this_1.preventChange = this_1.isAngular && this_1.preventChange ? !this_1.preventChange : this_1.preventChange;\n                        break;\n                    }\n                    this_1.notify('beforeValueChange', { newProp: newProp }); // gird component value type change\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initialRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initialRemoteRender) {\n                        var value = this_1.allowObjectBinding && !isNullOrUndefined(newProp.value) ?\n                            getValue((this_1.fields.value) ? this_1.fields.value : '', newProp.value) : newProp.value;\n                        var item = this_1.getElementByValue(value);\n                        if (!this_1.checkValidLi(item)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.value, oldProp.value, 'value');\n                            }\n                            else if (newProp.value && this_1.dataSource instanceof DataManager) {\n                                var listLength_2 = this_1.getItems().length;\n                                var checkField = isNullOrUndefined(this_1.fields.value) ? this_1.fields.text : this_1.fields.value;\n                                this_1.typedString = '';\n                                var value_3 = this_1.allowObjectBinding && !isNullOrUndefined(newProp.value) ?\n                                    getValue(checkField, newProp.value) : newProp.value;\n                                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', value_3)))\n                                    .then(function (e) {\n                                    if (e.result.length > 0) {\n                                        _this.addItem(e.result, listLength_2);\n                                        _this.updateValues();\n                                    }\n                                    else {\n                                        _this.setOldValue(oldProp.value);\n                                    }\n                                });\n                            }\n                            else if (this_1.getModuleName() === 'autocomplete') {\n                                this_1.setInputValue(newProp, oldProp);\n                            }\n                            else {\n                                this_1.setOldValue(oldProp.value);\n                            }\n                        }\n                        this_1.updateInputFields();\n                        this_1.preventChange = this_1.isAngular && this_1.preventChange ? !this_1.preventChange : this_1.preventChange;\n                    }\n                    break;\n                case 'index':\n                    if (this_1.fields.disabled) {\n                        newProp.index = newProp.index != null && !this_1.isDisabledItemByIndex(newProp.index) ? newProp.index : null;\n                    }\n                    if (newProp.index === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initialRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initialRemoteRender && this_1.liCollections) {\n                        var element = this_1.liCollections[newProp.index];\n                        if (!this_1.checkValidLi(element)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.index, oldProp.index, 'index');\n                            }\n                            else {\n                                this_1.index = oldProp.index;\n                            }\n                        }\n                        this_1.updateInputFields();\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this_1.popupObj) {\n                        this_1.setFooterTemplate(this_1.popupObj.element);\n                    }\n                    break;\n                case 'headerTemplate':\n                    if (this_1.popupObj) {\n                        this_1.setHeaderTemplate(this_1.popupObj.element);\n                    }\n                    break;\n                case 'valueTemplate':\n                    if (!isNullOrUndefined(this_1.itemData) && this_1.valueTemplate !== null) {\n                        this_1.setValueTemplate();\n                    }\n                    break;\n                case 'allowFiltering':\n                    if (this_1.allowFiltering) {\n                        this_1.actionCompleteData = {\n                            ulElement: this_1.ulElement,\n                            list: this_1.listData, isUpdated: true\n                        };\n                        this_1.actionData = this_1.actionCompleteData;\n                        this_1.updateSelectElementData(this_1.allowFiltering);\n                    }\n                    break;\n                case 'floatLabelType':\n                    Input.removeFloating(this_1.inputWrapper);\n                    Input.addFloating(this_1.inputElement, newProp.floatLabelType, this_1.placeholder, this_1.createElement);\n                    if (!isNullOrUndefined(this_1.inputWrapper.buttons[0]) &&\n                        this_1.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0] && this_1.floatLabelType !== 'Never') {\n                        this_1.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'showClearButton':\n                    if (!this_1.inputWrapper.clearButton) {\n                        Input.setClearButton(newProp.showClearButton, this_1.inputElement, this_1.inputWrapper, null, this_1.createElement);\n                        this_1.bindClearEvent();\n                    }\n                    break;\n                default:\n                    {\n                        // eslint-disable-next-line max-len\n                        var ddlProps = this_1.getPropObject(prop, newProp, oldProp);\n                        _super.prototype.onPropertyChanged.call(this_1, ddlProps.newProperty, ddlProps.oldProperty);\n                    }\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            var state_1 = _loop_1(prop);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n    };\n    DropDownList.prototype.checkValidLi = function (element) {\n        if (this.isValidLI(element)) {\n            this.setSelection(element, null);\n            return true;\n        }\n        return false;\n    };\n    DropDownList.prototype.setSelectionData = function (newProp, oldProp, prop) {\n        var _this = this;\n        var li;\n        this.updateListValues = function () {\n            if (prop === 'text') {\n                li = _this.getElementByText(newProp);\n                if (!_this.checkValidLi(li)) {\n                    _this.setOldText(oldProp);\n                }\n            }\n            else if (prop === 'value') {\n                var fields = (_this.fields.value) ? _this.fields.value : '';\n                var value = _this.allowObjectBinding && !isNullOrUndefined(newProp) ?\n                    getValue(fields, newProp) : newProp;\n                li = _this.getElementByValue(newProp);\n                if (!_this.checkValidLi(li)) {\n                    _this.setOldValue(oldProp);\n                }\n            }\n            else if (prop === 'index') {\n                li = _this.liCollections[newProp];\n                if (!_this.checkValidLi(li)) {\n                    _this.index = oldProp;\n                }\n            }\n        };\n    };\n    DropDownList.prototype.updatePopupState = function () {\n        if (this.beforePopupOpen) {\n            this.beforePopupOpen = false;\n            this.showPopup();\n        }\n    };\n    DropDownList.prototype.setReadOnly = function () {\n        if (this.readonly) {\n            addClass([this.inputWrapper.container], ['e-readonly']);\n        }\n        else {\n            removeClass([this.inputWrapper.container], ['e-readonly']);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-empty-function\n    DropDownList.prototype.setInputValue = function (newProp, oldProp) {\n    };\n    DropDownList.prototype.setCssClass = function (newClass, oldClass) {\n        if (!isNullOrUndefined(oldClass)) {\n            oldClass = (oldClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newClass)) {\n            newClass = (newClass.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(newClass, [this.inputWrapper.container], oldClass);\n        if (this.popupObj) {\n            Input.setCssClass(newClass, [this.popupObj.element], oldClass);\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    DropDownList.prototype.getModuleName = function () {\n        return 'dropdownlist';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.showPopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (!this.enabled) {\n            return;\n        }\n        this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n        if (this.isReact && this.getModuleName() === 'combobox' && this.itemTemplate && this.isCustomFilter && this.isAddNewItemTemplate) {\n            this.renderList();\n            this.isAddNewItemTemplate = false;\n        }\n        if (this.isFiltering() && this.dataSource instanceof DataManager && (this.actionData.list !== this.actionCompleteData.list) &&\n            this.actionData.list && this.actionData.ulElement) {\n            this.actionCompleteData = this.actionData;\n            this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        if (this.isFiltering() && !this.isActive && this.actionCompleteData.list && this.actionCompleteData.list[0]) {\n            this.isActive = true;\n            this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n        }\n        else if (isNullOrUndefined(this.list) || !isUndefined(this.list) && (this.list.classList.contains(dropDownBaseClasses.noData) ||\n            this.list.querySelectorAll('.' + dropDownBaseClasses.li).length <= 0)) {\n            if (this.isReact && this.isFiltering() && this.itemTemplate != null) {\n                this.isSecondClick = false;\n            }\n            this.renderList(e);\n        }\n        if (this.enableVirtualization && this.listData && this.listData.length) {\n            if (!isNullOrUndefined(this.value) && (this.getModuleName() === 'dropdownlist' || this.getModuleName() === 'combobox')) {\n                this.removeHover();\n            }\n            if (!this.beforePopupOpen) {\n                this.notify('setCurrentViewDataAsync', {\n                    module: 'VirtualScroll'\n                });\n            }\n        }\n        if (this.beforePopupOpen) {\n            this.invokeRenderPopup(e);\n        }\n        if (this.enableVirtualization && !this.allowFiltering && this.selectedValueInfo != null &&\n            this.selectedValueInfo.startIndex > 0 && this.value != null) {\n            this.notify('dataProcessAsync', {\n                module: 'VirtualScroll',\n                isOpen: true\n            });\n        }\n    };\n    DropDownList.prototype.invokeRenderPopup = function (e) {\n        if (Browser.isDevice && this.isFilterLayout()) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_2 = this;\n            window.onpopstate = function () {\n                proxy_2.hidePopup();\n            };\n            history.pushState({}, '');\n        }\n        if (!isNullOrUndefined(this.list) && (!isNullOrUndefined(this.list.children[0]) ||\n            this.list.classList.contains(dropDownBaseClasses.noData))) {\n            this.renderPopup(e);\n        }\n    };\n    DropDownList.prototype.renderHightSearch = function () {\n        // update high light search\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in an open state.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.hidePopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (this.isEscapeKey && this.getModuleName() === 'dropdownlist') {\n            if (!isNullOrUndefined(this.inputElement)) {\n                Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n            this.isEscapeKey = false;\n            if (!isNullOrUndefined(this.index)) {\n                var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                var element = this.findListElement(this.ulElement, 'li', 'data-value', value);\n                this.selectedLI = this.liCollections[this.index] || element;\n                if (this.selectedLI) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                    if (this.valueTemplate && this.itemData !== null) {\n                        this.setValueTemplate();\n                    }\n                }\n            }\n            else {\n                this.resetSelection();\n            }\n        }\n        this.isVirtualTrackHeight = false;\n        this.customFilterQuery = null;\n        this.closePopup(0, e);\n        var dataItem = this.getItemData();\n        var isSelectVal = !isNullOrUndefined(this.selectedLI);\n        if (isSelectVal && this.enableVirtualization && this.selectedLI.classList) {\n            isSelectVal = this.selectedLI.classList.contains('e-active');\n        }\n        if (this.inputElement && this.inputElement.value.trim() === '' && !this.isInteracted && (this.isSelectCustom ||\n            isSelectVal && this.inputElement.value !== dataItem.text)) {\n            this.isSelectCustom = false;\n            this.clearAll(e);\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Sets the focus on the component for interaction.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.focusIn = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.targetElement().classList.contains(dropDownListClasses.disable)) {\n            return;\n        }\n        var isFocused = false;\n        if (this.preventFocus && Browser.isDevice) {\n            this.inputWrapper.container.tabIndex = 1;\n            this.inputWrapper.container.focus();\n            this.preventFocus = false;\n            isFocused = true;\n        }\n        if (!isFocused) {\n            this.targetElement().focus();\n        }\n        addClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n        this.onFocus(e);\n        if (this.floatLabelType !== 'Never') {\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        }\n    };\n    /**\n     * Moves the focus from the component if the component is already focused.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.focusOut = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.enableVirtualization && (this.getModuleName() === 'combobox' || this.getModuleName() === 'autocomplete')) {\n            this.isTyped = true;\n        }\n        this.hidePopup(e);\n        if (this.targetElement()) {\n            this.targetElement().blur();\n        }\n        removeClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n        if (this.floatLabelType !== 'Never') {\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        }\n    };\n    /**\n     * Method to disable specific item in the popup.\n     *\n     * @param {string | number | object | HTMLLIElement} item - Specifies the item to be disabled.\n     * @returns {void}\n     * @deprecated\n     */\n    DropDownList.prototype.disableItem = function (item) {\n        if (this.fields.disabled) {\n            if (!this.list) {\n                this.renderList();\n            }\n            var itemIndex = -1;\n            if (this.liCollections && this.liCollections.length > 0 && this.listData && this.fields.disabled) {\n                if (typeof (item) === 'string') {\n                    itemIndex = this.getIndexByValue(item);\n                }\n                else if (typeof item === 'object') {\n                    if (item instanceof HTMLLIElement) {\n                        for (var index = 0; index < this.liCollections.length; index++) {\n                            if (this.liCollections[index] === item) {\n                                itemIndex = this.getIndexByValue(item.getAttribute('data-value'));\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        var value = JSON.parse(JSON.stringify(item))[this.fields.value];\n                        for (var index = 0; index < this.listData.length; index++) {\n                            if (JSON.parse(JSON.stringify(this.listData[index]))[this.fields.value] === value) {\n                                itemIndex = this.getIndexByValue(value);\n                                break;\n                            }\n                        }\n                    }\n                }\n                else {\n                    itemIndex = item;\n                }\n                var isValidIndex = itemIndex < this.liCollections.length && itemIndex > -1;\n                if (isValidIndex && !(JSON.parse(JSON.stringify(this.listData[itemIndex]))[this.fields.disabled])) {\n                    var li = this.liCollections[itemIndex];\n                    if (li) {\n                        this.disableListItem(li);\n                        var parsedData = JSON.parse(JSON.stringify(this.listData[itemIndex]));\n                        parsedData[this.fields.disabled] = true;\n                        this.listData[itemIndex] = parsedData;\n                        this.dataSource = this.listData;\n                        if (li.classList.contains(dropDownListClasses.focus)) {\n                            this.removeFocus();\n                        }\n                        if (li.classList.contains(dropDownListClasses.selected)) {\n                            this.clear();\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownList.prototype.destroy = function () {\n        this.isActive = false;\n        if (this.showClearButton) {\n            this.clearButton = document.getElementsByClassName('e-clear-icon')[0];\n        }\n        resetIncrementalSearchValues(this.element.id);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        this.hidePopup();\n        if (this.popupObj) {\n            this.popupObj.hide();\n        }\n        this.unWireEvent();\n        if (this.list) {\n            this.unWireListEvents();\n        }\n        if (this.element && !this.element.classList.contains('e-' + this.getModuleName())) {\n            return;\n        }\n        if (this.inputElement) {\n            var attrArray = ['readonly', 'aria-disabled', 'placeholder', 'aria-labelledby',\n                'aria-expanded', 'autocomplete', 'aria-readonly', 'autocapitalize',\n                'spellcheck', 'aria-autocomplete', 'aria-live', 'aria-describedby', 'aria-label'];\n            for (var i = 0; i < attrArray.length; i++) {\n                this.inputElement.removeAttribute(attrArray[i]);\n            }\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n            this.inputElement.classList.remove('e-input');\n            Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        this.element.style.display = 'block';\n        if (this.inputWrapper.container && this.inputWrapper.container.parentElement) {\n            if (this.inputWrapper.container.parentElement.tagName === this.getNgDirective()) {\n                detach(this.inputWrapper.container);\n            }\n            else {\n                this.inputWrapper.container.parentElement.insertBefore(this.element, this.inputWrapper.container);\n                detach(this.inputWrapper.container);\n            }\n        }\n        delete this.hiddenElement;\n        this.filterInput = null;\n        this.keyboardModule = null;\n        this.ulElement = null;\n        this.list = null;\n        this.clearIconElement = null;\n        this.popupObj = null;\n        this.popupContentElement = null;\n        this.rippleFun = null;\n        this.selectedLI = null;\n        this.liCollections = null;\n        this.item = null;\n        this.footer = null;\n        this.header = null;\n        this.previousSelectedLI = null;\n        this.valueTempElement = null;\n        this.actionData.ulElement = null;\n        if (this.inputElement && !isNullOrUndefined(this.inputElement.onchange)) {\n            this.inputElement.onchange = null;\n        }\n        if (this.inputElement && !isNullOrUndefined(this.inputElement.onselect)) {\n            this.inputElement.onselect = null;\n        }\n        Input.destroy({\n            element: this.inputElement,\n            floatLabelType: this.floatLabelType,\n            properties: this.properties,\n            buttons: this.inputWrapper.container.querySelectorAll('.e-input-group-icon')[0]\n        }, this.clearButton);\n        this.clearButton = null;\n        this.inputElement = null;\n        this.inputWrapper = null;\n        _super.prototype.destroy.call(this);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     */\n    DropDownList.prototype.getItems = function () {\n        if (!this.list) {\n            if (this.dataSource instanceof DataManager) {\n                this.initialRemoteRender = true;\n            }\n            this.renderList();\n        }\n        return this.ulElement ? _super.prototype.getItems.call(this) : [];\n    };\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     */\n    DropDownList.prototype.getDataByValue = function (value) {\n        return _super.prototype.getDataByValue.call(this, value);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Allows you to clear the selected values from the component.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.clear = function () {\n        this.value = null;\n    };\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownList.prototype, \"width\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownList.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property('300px')\n    ], DropDownList.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownList.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property({})\n    ], DropDownList.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownList.prototype, \"isDeviceFullScreen\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"allowObjectBinding\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"index\", void 0);\n    __decorate([\n        Property('Never')\n    ], DropDownList.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"focus\", void 0);\n    DropDownList = __decorate([\n        NotifyPropertyChanges\n    ], DropDownList);\n    return DropDownList;\n}(DropDownBase));\nexport { DropDownList };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Input, TextBox } from '@syncfusion/ej2-inputs';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { NotifyPropertyChanges, Property, Event, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Component, EventHandler, attributes, formatUnit, ChildProperty, remove, L10n, extend } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, prepend, Complex, closest, setValue, getValue, compile, append } from '@syncfusion/ej2-base';\nimport { select, selectAll, isNullOrUndefined as isNOU, matches, Browser, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { TreeView } from '@syncfusion/ej2-navigations';\nvar RTL = 'e-rtl';\nvar DROPDOWNTREE = 'e-ddt';\nvar HIDDENELEMENT = 'e-ddt-hidden';\nvar DROPDOWNICON = 'e-input-group-icon e-ddt-icon e-icons';\nvar SHOW_CHIP = 'e-show-chip';\nvar SHOW_CLEAR = 'e-show-clear';\nvar SHOW_DD_ICON = 'e-show-dd-icon';\nvar CHIP_INPUT = 'e-chip-input';\nvar INPUTFOCUS = 'e-input-focus';\nvar INPUTGROUP = 'e-input-group';\nvar ICONANIMATION = 'e-icon-anim';\nvar CLOSEICON_CLASS = 'e-clear-icon e-icons';\nvar CHIP_WRAPPER = 'e-chips-wrapper';\nvar CHIP_COLLECTION = 'e-chips-collection';\nvar CHIP = 'e-chips';\nvar CHIP_CONTENT = 'e-chipcontent';\nvar CHIP_CLOSE = 'e-chips-close';\nvar HIDEICON = 'e-icon-hide';\nvar DDTHIDEICON = 'e-ddt-icon-hide';\nvar POPUP_CLASS = 'e-ddt e-popup';\nvar PARENTITEM = 'e-list-parent';\nvar CONTENT = 'e-popup-content';\nvar DROPDOWN = 'e-dropdown';\nvar DISABLED = 'e-disabled';\nvar ICONS = 'e-icons';\nvar CHECKALLPARENT = 'e-selectall-parent';\nvar CHECKALLHIDE = 'e-hide-selectall';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar ALLTEXT = 'e-all-text';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar FILTERWRAP = 'e-filter-wrap';\nvar DDTICON = 'e-ddt-icon';\nvar FOOTER = 'e-ddt-footer';\nvar HEADER = 'e-ddt-header';\nvar NODATACONTAINER = 'e-ddt-nodata';\nvar NODATA = 'e-no-data';\nvar HEADERTEMPLATE = 'HeaderTemplate';\nvar FOOTERTEMPLATE = 'FooterTemplate';\nvar NORECORDSTEMPLATE = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE = 'ActionFailureTemplate';\nvar CUSTOMTEMPLATE = 'CustomTemplate';\nvar REMAIN_WRAPPER = 'e-remain';\nvar OVERFLOW_VIEW = 'e-overflow';\nvar SHOW_TEXT = 'e-show-text';\nvar TOTAL_COUNT_WRAPPER = 'e-total-count';\nvar REMAIN_COUNT = 'e-wrap-count';\nvar Fields = /** @class */ (function (_super) {\n    __extends(Fields, _super);\n    function Fields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('child')\n    ], Fields.prototype, \"child\", void 0);\n    __decorate([\n        Property([])\n    ], Fields.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('expanded')\n    ], Fields.prototype, \"expanded\", void 0);\n    __decorate([\n        Property('hasChildren')\n    ], Fields.prototype, \"hasChildren\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], Fields.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], Fields.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('imageUrl')\n    ], Fields.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property('parentValue')\n    ], Fields.prototype, \"parentValue\", void 0);\n    __decorate([\n        Property(null)\n    ], Fields.prototype, \"query\", void 0);\n    __decorate([\n        Property('selectable')\n    ], Fields.prototype, \"selectable\", void 0);\n    __decorate([\n        Property('selected')\n    ], Fields.prototype, \"selected\", void 0);\n    __decorate([\n        Property(null)\n    ], Fields.prototype, \"tableName\", void 0);\n    __decorate([\n        Property('text')\n    ], Fields.prototype, \"text\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], Fields.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('value')\n    ], Fields.prototype, \"value\", void 0);\n    return Fields;\n}(ChildProperty));\nexport { Fields };\nvar TreeSettings = /** @class */ (function (_super) {\n    __extends(TreeSettings, _super);\n    function TreeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], TreeSettings.prototype, \"autoCheck\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeSettings.prototype, \"checkDisabledChildren\", void 0);\n    __decorate([\n        Property('Auto')\n    ], TreeSettings.prototype, \"expandOn\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeSettings.prototype, \"loadOnDemand\", void 0);\n    return TreeSettings;\n}(ChildProperty));\nexport { TreeSettings };\n/**\n * The Dropdown Tree control allows you to select single or multiple values from hierarchical data in a tree-like structure.\n * It has several out-of-the-box features, such as data binding, check boxes, templates, filter,\n * UI customization, accessibility, and preselected values.\n * ```html\n *  <input type=\"text\" id=\"tree\"></input>\n * ```\n * ```typescript\n *  let ddtObj: DropDownTree = new DropDownTree();\n *  ddtObj.appendTo(\"#tree\");\n * ```\n */\nvar DropDownTree = /** @class */ (function (_super) {\n    __extends(DropDownTree, _super);\n    function DropDownTree(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.filterTimer = null;\n        _this.isFilteredData = false;\n        _this.isFilterRestore = false;\n        _this.selectedData = [];\n        _this.filterDelayTime = 300;\n        _this.isClicked = false;\n        // Specifies if the checkAll method has been called\n        _this.isCheckAllCalled = false;\n        _this.isFromFilterChange = false;\n        return _this;\n    }\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string}\n     * @hidden\n     */\n    DropDownTree.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    DropDownTree.prototype.getLocaleName = function () {\n        return 'drop-down-tree';\n    };\n    /**\n     * Initialize the event handler.\n     *\n     * @returns {void}\n     * @private\n     */\n    DropDownTree.prototype.preRender = function () {\n        this.inputFocus = false;\n        this.isPopupOpen = false;\n        this.isFirstRender = true;\n        this.isInitialized = false;\n        this.currentText = null;\n        this.currentValue = null;\n        this.oldValue = null;\n        this.removeValue = false;\n        this.selectedText = [];\n        this.treeItems = [];\n        this.dataValue = null;\n        this.isNodeSelected = false;\n        this.isDynamicChange = false;\n        this.clearIconWidth = 0;\n        this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE;\n        this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE;\n        this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE;\n        this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE;\n        this.customTemplateId = \"\" + this.element.id + CUSTOMTEMPLATE;\n        this.keyConfigs = {\n            escape: 'escape',\n            altUp: 'alt+uparrow',\n            altDown: 'alt+downarrow',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            end: 'end',\n            enter: 'enter',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space',\n            ctrlA: 'ctrl+A'\n        };\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownTree.prototype.render = function () {\n        var isTree = select('#' + this.element.id + '_tree', document);\n        if (isTree) {\n            var popupDiv = select('#' + this.element.id + '_options', document);\n            detach(popupDiv ? popupDiv : isTree.parentElement);\n        }\n        if (this.element.tagName === 'INPUT') {\n            this.inputEle = this.element;\n            if (isNOU(this.inputEle.getAttribute('role'))) {\n                this.inputEle.setAttribute('aria-expanded', 'false');\n                this.inputEle.setAttribute('role', 'combobox');\n                this.inputEle.setAttribute('aria-haspopup', 'tree');\n                this.inputEle.setAttribute('aria-controls', this.element.id + '_options');\n            }\n            if (isNOU(this.inputEle.getAttribute('type'))) {\n                this.inputEle.setAttribute('type', 'text');\n            }\n        }\n        else {\n            if (!isNOU(this.element.id)) {\n                this.inputEle = this.createElement('input', { attrs: { role: 'textbox', type: 'text', id: this.element.id } });\n            }\n            else {\n                this.inputEle = this.createElement('input', { attrs: { role: 'textbox', type: 'text' } });\n            }\n            this.element.parentElement.insertBefore(this.inputEle, this.element);\n        }\n        this.inputObj = Input.createInput({\n            element: this.inputEle,\n            floatLabelType: this.floatLabelType,\n            buttons: this.showDropDownIcon ? [DROPDOWNICON] : null,\n            properties: {\n                readonly: true,\n                placeholder: this.placeholder,\n                enabled: this.enabled,\n                cssClass: this.cssClass,\n                enableRtl: this.enableRtl\n            }\n        }, this.createElement);\n        this.inputWrapper = this.inputObj.container;\n        if (!this.inputWrapper.classList.contains(INPUTGROUP)) {\n            this.inputWrapper.classList.add(INPUTGROUP);\n        }\n        if (this.showDropDownIcon) {\n            this.inputWrapper.classList.add(SHOW_DD_ICON);\n        }\n        if (this.element.tagName === this.getDirective()) {\n            this.element.appendChild(this.inputWrapper);\n        }\n        this.createHiddenElement();\n        this.createClearIcon();\n        this.inputWrapper.classList.add(DROPDOWNTREE);\n        this.setElementWidth(this.width);\n        this.updateDataAttribute();\n        this.setHTMLAttributes();\n        this.setAttributes();\n        this.popupDiv = this.createElement('div', { className: CONTENT });\n        this.popupDiv.classList.add(DROPDOWN);\n        this.tree = this.createElement('div', { id: this.element.id + '_tree' });\n        this.popupDiv.appendChild(this.tree);\n        if (!this.destroyPopupOnHide) {\n            document.body.appendChild(this.popupDiv);\n        }\n        this.wireTreeEvents();\n        addClass([this.popupDiv], DDTHIDEICON);\n        this.renderTree();\n        this.isRemoteData = this.fields.dataSource instanceof DataManager;\n        if (this.allowMultiSelection || this.showCheckBox) {\n            if (this.mode !== 'Delimiter') {\n                this.createChip();\n            }\n            if (!this.wrapText && this.mode !== 'Custom') {\n                this.overFlowWrapper = this.createElement('span', { className: OVERFLOW_VIEW + ' ' + HIDEICON });\n                this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n                if (this.mode !== 'Box') {\n                    addClass([this.overFlowWrapper], SHOW_TEXT);\n                }\n            }\n        }\n        if (!this.isRemoteData) {\n            this.setTreeValue();\n            this.setTreeText();\n            this.updateHiddenValue();\n            this.setSelectedValue();\n            if (!this.wrapText) {\n                this.updateView();\n            }\n        }\n        this.wireEvents();\n        var firstUl = select('.' + PARENTITEM, this.treeObj.element);\n        if (firstUl && firstUl.getAttribute('aria-multiselectable')) {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n        this.oldValue = this.value;\n        if (!this.isRemoteData) {\n            this.isInitialized = true;\n        }\n        this.hasTemplate = this.itemTemplate || this.headerTemplate || this.footerTemplate || this.actionFailureTemplate\n            || this.noRecordsTemplate || this.customTemplate || this.valueTemplate;\n        this.renderComplete();\n    };\n    DropDownTree.prototype.hideCheckAll = function (flag) {\n        var checkAllEle = !isNOU(this.popupEle) ? this.popupEle.querySelector('.' + CHECKALLPARENT) : null;\n        if (!isNOU(checkAllEle)) {\n            if (flag && !checkAllEle.classList.contains(CHECKALLHIDE)) {\n                addClass([checkAllEle], CHECKALLHIDE);\n            }\n            else if (!flag && checkAllEle.classList.contains(CHECKALLHIDE)) {\n                removeClass([checkAllEle], CHECKALLHIDE);\n            }\n        }\n    };\n    DropDownTree.prototype.renderFilter = function () {\n        this.filterContainer = this.createElement('div', {\n            id: this.element.id + '_filter_wrap',\n            className: FILTERWRAP\n        });\n        var filterInput = this.createElement('input', {\n            id: this.element.id + '_filter',\n            attrs: { autocomplete: 'off', 'aria-label': this.filterBarPlaceholder }\n        });\n        this.filterContainer.appendChild(filterInput);\n        prepend([this.filterContainer], this.popupEle);\n        this.filterObj = new TextBox({\n            value: '',\n            showClearButton: true,\n            placeholder: this.filterBarPlaceholder,\n            input: this.filterChangeHandler.bind(this)\n        });\n        this.filterObj.appendTo('#' + this.element.id + '_filter');\n        this.keyboardModule = new KeyboardEvents(this.filterObj.element, {\n            keyAction: this.filterKeyAction.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    DropDownTree.prototype.filterKeyAction = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        var focusedElement;\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'altUp':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'shiftTab':\n                        addClass([_this.inputWrapper], [INPUTFOCUS]);\n                        break;\n                    case 'moveDown':\n                        e.preventDefault();\n                        _this.filterObj.element.blur();\n                        focusedElement = _this.treeObj.element.querySelector('li');\n                        if (focusedElement) {\n                            focusedElement.focus();\n                        }\n                        break;\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.filterChangeHandler = function (args) {\n        var _this = this;\n        if (!isNOU(args.value)) {\n            window.clearTimeout(this.filterTimer);\n            this.filterTimer = window.setTimeout(function () { _this.filterHandler(args.value, args.event); }, this.filterDelayTime);\n        }\n    };\n    DropDownTree.prototype.isChildObject = function () {\n        if (typeof this.treeObj.fields.child === 'object') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    DropDownTree.prototype.filterHandler = function (value, event) {\n        var _this = this;\n        this.isFromFilterChange = true;\n        if (!this.isFilteredData) {\n            if (this.isRemoteData) {\n                this.treeObj.expandedNodes = [];\n            }\n            this.treeData = this.treeObj.getTreeData();\n        }\n        var filterFields = this.cloneFields(this.fields);\n        var args = {\n            cancel: false,\n            preventDefaultAction: false,\n            event: event,\n            text: value.trim(),\n            fields: filterFields\n        };\n        this.trigger('filtering', args, function (args) {\n            if (!args.cancel) {\n                var flag = false;\n                var fields = void 0;\n                _this.isFilteredData = true;\n                if (args.text === '') {\n                    _this.isFilteredData = false;\n                    _this.isFilterRestore = true;\n                    fields = _this.cloneFields(_this.fields);\n                    _this.treeObj.element.classList.remove('e-filtering');\n                }\n                else if (args.preventDefaultAction) {\n                    fields = args.fields;\n                }\n                else {\n                    if (_this.treeDataType === 1) {\n                        fields = _this.selfReferencefilter(args.text, args.fields);\n                    }\n                    else {\n                        if (_this.fields.dataSource instanceof DataManager) {\n                            fields = _this.remoteDataFilter(args.text, args.fields);\n                            fields.child = _this.fields.child;\n                            _this.treeObj.fields = _this.getTreeFields(args.fields);\n                            _this.treeObj.dataBind();\n                            flag = true;\n                        }\n                        else {\n                            fields = _this.nestedFilter(args.text, args.fields);\n                        }\n                    }\n                    _this.treeObj.element.classList.add('e-filtering');\n                }\n                _this.hideCheckAll(_this.isFilteredData);\n                if (flag) {\n                    return;\n                }\n                if (_this.isRemoteData) {\n                    if (_this.isChildObject()) {\n                        fields.child = _this.fields.child;\n                    }\n                    else {\n                        fields = args.fields;\n                    }\n                }\n                _this.treeObj.fields = _this.getTreeFields(fields);\n                _this.treeObj.dataBind();\n                if (_this.hasTemplate && _this.portals && _this.treeObj.portals) {\n                    for (var i = 0; i < _this.treeObj.portals.length; i++) {\n                        if (_this.portals.indexOf(_this.treeObj.portals[i]) === -1) {\n                            _this.portals.push(_this.treeObj.portals[i]);\n                        }\n                    }\n                    if (_this.isReact) {\n                        _this.renderReactTemplates();\n                    }\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.remoteDataFilter = function (value, filteredFields) {\n        var _this = this;\n        filteredFields.dataSource = this.treeData.map(function (item) {\n            return _this.remoteChildFilter(value, item);\n        }).filter(function (filteredChild) {\n            return !isNOU(filteredChild);\n        });\n        return filteredFields;\n    };\n    DropDownTree.prototype.remoteChildFilter = function (value, node, isChild, isChildFiltering) {\n        var children = this.isChildObject() ? node['child'] : node[this.fields.child];\n        if (isNOU(children)) {\n            return (this.isMatchedNode(value, node, isChild, isChildFiltering)) ? node : null;\n        }\n        var matchedChildren = [];\n        for (var i = 0; i < children.length; i++) {\n            var filteredChild = this.remoteChildFilter(value, children[i], true, true);\n            if (!isNOU(filteredChild)) {\n                matchedChildren.push(filteredChild);\n            }\n        }\n        var filteredItems = Object.assign({}, node);\n        isChildFiltering = false;\n        if (matchedChildren.length !== 0) {\n            filteredItems.child = matchedChildren;\n        }\n        else {\n            filteredItems.child = null;\n            filteredItems = (this.isMatchedNode(value, filteredItems)) ? filteredItems : null;\n        }\n        return filteredItems;\n    };\n    DropDownTree.prototype.nestedFilter = function (value, filteredFields) {\n        var matchedDataSource = [];\n        for (var i = 0; i < this.treeData.length; i++) {\n            var filteredChild = this.nestedChildFilter(value, this.treeData[parseInt(i.toString(), 10)]);\n            if (!isNOU(filteredChild)) {\n                matchedDataSource.push(filteredChild);\n            }\n        }\n        filteredFields.dataSource = matchedDataSource;\n        return filteredFields;\n    };\n    DropDownTree.prototype.nestedChildFilter = function (value, node) {\n        var children = node[this.fields.child];\n        if (isNOU(children)) {\n            return (this.isMatchedNode(value, node)) ? node : null;\n        }\n        else {\n            var matchedChildren = [];\n            for (var i = 0; i < children.length; i++) {\n                var filteredChild = this.nestedChildFilter(value, children[parseInt(i.toString(), 10)]);\n                if (!isNOU(filteredChild)) {\n                    matchedChildren.push(filteredChild);\n                }\n            }\n            var filteredItems = Object.assign({}, node);\n            if (matchedChildren.length !== 0) {\n                filteredItems[this.fields.child] = matchedChildren;\n                return filteredItems;\n            }\n            else {\n                filteredItems[this.fields.child] = null;\n                return (this.isMatchedNode(value, filteredItems)) ? filteredItems : null;\n            }\n        }\n    };\n    DropDownTree.prototype.selfReferencefilter = function (value, filteredFields) {\n        var matchedData = [];\n        var matchedDataSource = [];\n        for (var i = 0; i < this.treeData.length; i++) {\n            if (this.isMatchedNode(value, this.treeData[i])) {\n                matchedData.push(this.treeData[i]);\n            }\n        }\n        for (var i = 0; i < matchedData.length; i++) {\n            if (matchedDataSource.indexOf(matchedData[i]) === -1) {\n                matchedDataSource.push(matchedData[i]);\n                var parentId = matchedData[parseInt(i.toString(), 10)][this.fields.parentValue];\n                while (!isNOU(parentId)) {\n                    var parent_1 = null;\n                    for (var j = 0; j < this.treeData.length; j++) {\n                        var value_1 = this.treeData[parseInt(j.toString(), 10)][this.fields.value];\n                        if (!isNOU(value_1) && (value_1 === parentId)) {\n                            parent_1 = this.treeData[j];\n                            break;\n                        }\n                    }\n                    if (!isNOU(parent_1) && (matchedDataSource.indexOf(parent_1) === -1)) {\n                        matchedDataSource.push(parent_1);\n                        parentId = parent_1[this.fields.parentValue];\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n        }\n        filteredFields.dataSource = matchedDataSource;\n        return filteredFields;\n    };\n    DropDownTree.prototype.isMatchedNode = function (value, node, isChild, isChildFiltering) {\n        var checkValue;\n        var isObjectValue = isChild && isChildFiltering && this.isChildObject();\n        checkValue = isObjectValue ? node[this.fields.child.text] : node[this.fields.text];\n        if (!checkValue && !isNOU(this.fields.child.text)) {\n            var tempChild = this.fields.child;\n            while (!node[tempChild.text]) {\n                tempChild = tempChild.child;\n            }\n            checkValue = node[tempChild.text];\n        }\n        if (this.ignoreCase) {\n            checkValue = checkValue.toLowerCase();\n            value = value.toLowerCase();\n        }\n        if (this.ignoreAccent) {\n            checkValue = DataUtil.ignoreDiacritics(checkValue);\n            value = DataUtil.ignoreDiacritics(value);\n        }\n        if (this.filterType === 'StartsWith') {\n            return checkValue.slice(0, value.length) === value;\n        }\n        else if (this.filterType === 'EndsWith') {\n            return checkValue.slice(-value.length) === value;\n        }\n        else {\n            return checkValue.indexOf(value) !== -1;\n        }\n    };\n    /* To wire events for the dropdown tree */\n    DropDownTree.prototype.wireEvents = function () {\n        EventHandler.add(this.inputWrapper, 'mouseup', this.dropDownClick, this);\n        EventHandler.add(this.inputWrapper, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputWrapper, 'blur', this.focusOut, this);\n        EventHandler.add(this.inputWrapper, 'mousemove', this.mouseIn, this);\n        EventHandler.add(this.inputWrapper, 'mouseout', this.onMouseLeave, this);\n        EventHandler.add(this.overAllClear, 'mousedown', this.clearAll, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        this.keyboardModule = new KeyboardEvents(this.inputWrapper, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    DropDownTree.prototype.wireTreeEvents = function () {\n        this.keyboardModule = new KeyboardEvents(this.tree, {\n            keyAction: this.treeAction.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    DropDownTree.prototype.wireCheckAllWrapperEvents = function () {\n        this.keyboardModule = new KeyboardEvents(this.checkAllParent, {\n            keyAction: this.checkAllAction.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    /* To unwire events for the dropdown tree */\n    DropDownTree.prototype.unWireEvents = function () {\n        EventHandler.remove(this.inputWrapper, 'mouseup', this.dropDownClick);\n        EventHandler.remove(this.inputWrapper, 'focus', this.focusIn);\n        EventHandler.remove(this.inputWrapper, 'blur', this.focusOut);\n        EventHandler.remove(this.inputWrapper, 'mousemove', this.mouseIn);\n        EventHandler.remove(this.inputWrapper, 'mouseout', this.onMouseLeave);\n        EventHandler.remove(this.overAllClear, 'mousedown', this.clearAll);\n        EventHandler.remove(window, 'resize', this.windowResize);\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n        this.keyboardModule.destroy();\n        if (this.showSelectAll && this.checkAllParent) {\n            EventHandler.remove(this.checkAllParent, 'mouseup', this.clickHandler);\n        }\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n    };\n    /* Trigger when the dropdown is clicked */\n    DropDownTree.prototype.dropDownClick = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (this.isClearButtonClick) {\n            this.isClearButtonClick = false;\n            return;\n        }\n        if (this.isPopupOpen) {\n            this.hidePopup();\n        }\n        else {\n            this.focusIn(e);\n            this.renderPopup();\n        }\n        this.showOverAllClear();\n    };\n    DropDownTree.prototype.mouseIn = function () {\n        if (this.enabled || !this.readonly) {\n            this.showOverAllClear();\n        }\n    };\n    DropDownTree.prototype.onMouseLeave = function () {\n        if (!this.inputFocus) {\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n    };\n    DropDownTree.prototype.getDirective = function () {\n        return 'EJS-DROPDOWNTREE';\n    };\n    DropDownTree.prototype.focusOut = function (e) {\n        if (!this.enabled || this.readonly || !this.inputFocus) {\n            return;\n        }\n        if ((Browser.isIE || Browser.info.name === 'edge') && (e.target === this.inputWrapper)) {\n            return;\n        }\n        var target = e.relatedTarget;\n        if ((target !== this.inputEle) && (isNOU(target)) && (e.target !== this.inputWrapper || !this.isPopupOpen)) {\n            this.onFocusOut(e);\n        }\n    };\n    DropDownTree.prototype.onFocusOut = function (event) {\n        this.inputFocus = false;\n        if (this.isPopupOpen) {\n            this.hidePopup();\n        }\n        if (this.isClearButtonClick) {\n            this.isClearButtonClick = false;\n        }\n        if (this.showClearButton) {\n            this.clearIconWidth = select('.e-clear-icon', this.inputWrapper).offsetWidth;\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n        removeClass([this.inputWrapper], [INPUTFOCUS]);\n        if ((this.allowMultiSelection || this.showCheckBox)) {\n            var isValue = this.value ? (this.value.length ? true : false) : false;\n            if (this.mode !== 'Delimiter' && this.mode !== 'Custom') {\n                if (this.chipWrapper && (this.mode === 'Default')) {\n                    addClass([this.chipWrapper], HIDEICON);\n                    removeClass([this.inputWrapper], SHOW_CHIP);\n                    removeClass([this.inputEle], CHIP_INPUT);\n                }\n            }\n            if (isValue && this.mode !== 'Custom') {\n                this.showOrHideValueTemplate(true);\n            }\n            if (!this.wrapText && isValue) {\n                this.updateView();\n            }\n        }\n        if (this.changeOnBlur) {\n            this.triggerChangeEvent(event);\n        }\n        this.removeValue = false;\n        this.oldValue = this.value;\n        this.trigger('blur');\n    };\n    DropDownTree.prototype.updateView = function () {\n        if ((!this.showCheckBox && !this.allowMultiSelection) || this.mode === 'Custom' || this.inputFocus) {\n            return;\n        }\n        if (this.mode !== 'Box') {\n            addClass([this.inputWrapper, this.overFlowWrapper], SHOW_TEXT);\n        }\n        else {\n            addClass([this.inputWrapper], SHOW_CHIP);\n        }\n        if (this.value && this.value.length !== 0) {\n            if (this.inputWrapper.contains(this.chipWrapper)) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n            addClass([this.inputEle], CHIP_INPUT);\n            this.updateOverFlowView();\n            this.ensurePlaceHolder();\n        }\n    };\n    DropDownTree.prototype.triggerChangeEvent = function (event) {\n        var isEqual = this.ddtCompareValues(this.oldValue, this.value);\n        if ((!isEqual || this.isChipDelete) && !this.removeValue) {\n            var eventArgs = {\n                e: event,\n                oldValue: this.oldValue,\n                value: this.value,\n                isInteracted: event ? true : false,\n                element: this.element\n            };\n            this.trigger('change', eventArgs);\n            this.oldValue = this.value;\n        }\n    };\n    DropDownTree.prototype.ddtCompareValues = function (oldValue, newValue) {\n        if (oldValue === null || newValue === null) {\n            var isValid = oldValue === null ? ((newValue === oldValue) ? true : false) :\n                (oldValue.length === 0 ? (newValue === oldValue) : false);\n            return isValid;\n        }\n        else if (oldValue.length !== newValue.length) {\n            return false;\n        }\n        for (var i = 0; i < oldValue.length; i++) {\n            if (oldValue[i] !== newValue[i]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    DropDownTree.prototype.focusIn = function (e) {\n        if (!this.enabled || this.readonly || this.inputFocus) {\n            return;\n        }\n        this.showOverAllClear();\n        this.inputFocus = true;\n        addClass([this.inputWrapper], [INPUTFOCUS]);\n        if (this.allowMultiSelection || this.showCheckBox) {\n            if (this.mode !== 'Delimiter' && this.inputFocus) {\n                if (this.chipWrapper && (this.value && this.value.length !== 0)) {\n                    removeClass([this.chipWrapper], HIDEICON);\n                    addClass([this.inputEle], CHIP_INPUT);\n                    this.showOrHideValueTemplate(false, true);\n                }\n                addClass([this.inputWrapper], SHOW_CHIP);\n                if (this.popupObj) {\n                    this.popupObj.refreshPosition();\n                }\n            }\n            if (!this.wrapText && this.mode !== 'Custom') {\n                if (this.inputWrapper.contains(this.overFlowWrapper)) {\n                    addClass([this.overFlowWrapper], HIDEICON);\n                }\n                if (this.mode === 'Delimiter') {\n                    removeClass([this.inputWrapper], SHOW_CHIP);\n                    removeClass([this.inputEle], CHIP_INPUT);\n                    this.showOrHideValueTemplate(true);\n                }\n                else {\n                    addClass([this.inputWrapper], SHOW_CHIP);\n                }\n                removeClass([this.inputWrapper], SHOW_TEXT);\n                this.ensurePlaceHolder();\n            }\n        }\n        var args = { isInteracted: e ? true : false, event: e };\n        this.trigger('focus', args);\n    };\n    DropDownTree.prototype.treeAction = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'escape':\n                    case 'altUp':\n                        _this.inputWrapper.focus();\n                        e.preventDefault();\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'tab':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'enter':\n                    case 'ctrlEnter':\n                    case 'shiftEnter':\n                    case 'csEnter':\n                        if (!_this.showCheckBox) {\n                            _this.isValueChange = true;\n                            _this.keyEventArgs = e;\n                        }\n                        break;\n                    case 'space':\n                        _this.isValueChange = true;\n                        _this.keyEventArgs = e;\n                        break;\n                    case 'ctrlA':\n                        if (_this.allowMultiSelection) {\n                            _this.selectAll(true);\n                        }\n                        break;\n                    case 'moveRight':\n                    case 'moveLeft':\n                    case 'shiftDown':\n                    case 'moveDown':\n                    case 'ctrlDown':\n                    case 'csDown':\n                    case 'shiftUp':\n                    case 'moveUp':\n                    case 'ctrlUp':\n                    case 'csUp':\n                    case 'home':\n                    case 'shiftHome':\n                    case 'ctrlHome':\n                    case 'csHome':\n                    case 'end':\n                    case 'shiftEnd':\n                    case 'ctrlEnd':\n                    case 'csEnd':\n                }\n            }\n            else {\n                e.stopImmediatePropagation();\n            }\n        });\n    };\n    DropDownTree.prototype.keyActionHandler = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'escape':\n                    case 'altUp':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'shiftTab':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        if (_this.inputFocus) {\n                            _this.onFocusOut();\n                        }\n                        break;\n                    case 'altDown':\n                        if (!_this.isPopupOpen) {\n                            _this.showPopup();\n                            e.preventDefault();\n                        }\n                        break;\n                    case 'moveDown':\n                        if (_this.showSelectAll && _this.showCheckBox) {\n                            _this.checkAllParent.focus();\n                        }\n                        break;\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.checkAllAction = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        var focusedElement;\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'space':\n                        _this.clickHandler(e);\n                        break;\n                    case 'moveDown':\n                        e.preventDefault();\n                        focusedElement = _this.treeObj.element.querySelector('li[tabindex=\"0\"]') || _this.treeObj.element.querySelector('li');\n                        focusedElement.focus();\n                        addClass([focusedElement], ['e-node-focus']);\n                        break;\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.windowResize = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ width: this.setWidth() });\n            this.popupObj.refreshPosition();\n        }\n    };\n    DropDownTree.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement && e.target === formElement) {\n            this.isDynamicChange = true;\n            this.setProperties({ value: null }, true);\n            this.resetValue(true);\n            this.isDynamicChange = false;\n        }\n    };\n    DropDownTree.prototype.getAriaAttributes = function () {\n        return {};\n    };\n    DropDownTree.prototype.updateOverFlowView = function () {\n        this.overFlowWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n        removeClass([this.overFlowWrapper], HIDEICON);\n        if (this.value && this.value.length) {\n            var data = '';\n            var overAllContainer = void 0;\n            var temp = void 0;\n            var tempData = void 0;\n            var tempIndex = 1;\n            var wrapperleng = void 0;\n            var remaining = void 0;\n            var downIconWidth = 0;\n            this.overFlowWrapper.innerHTML = '';\n            var l10nLocale = { overflowCountTemplate: '+${count} more..', totalCountTemplate: '${count} selected' };\n            this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            var remainContent = this.l10n.getConstant('overflowCountTemplate');\n            var totalContent = this.l10n.getConstant('totalCountTemplate');\n            var remainElement = this.createElement('span', { className: REMAIN_WRAPPER });\n            this.overFlowWrapper.appendChild(remainElement);\n            remainElement.innerText = remainContent.replace('${count}', this.value.length.toString());\n            var remainSize = remainElement.offsetWidth;\n            remove(remainElement);\n            if (this.showDropDownIcon) {\n                downIconWidth = select('.' + DDTICON, this.inputWrapper).offsetWidth;\n            }\n            if (!isNOU(this.value)) {\n                if (this.mode !== 'Box') {\n                    if (this.valueTemplate) {\n                        remaining = this.updateChipAndValueTemplate(false, downIconWidth, remainSize);\n                        this.checkRemainingTemplate(remaining, remainElement, remainContent, totalContent);\n                        this.updateDelimMode();\n                        return;\n                    }\n                    for (var index = 0; !isNOU(this.value[index]); index++) {\n                        data += (index === 0) ? '' : this.delimiterChar + ' ';\n                        temp = this.getOverflowVal(index);\n                        data += temp;\n                        temp = this.overFlowWrapper.innerHTML;\n                        if (this.enableHtmlSanitizer) {\n                            this.overFlowWrapper.innerText = SanitizeHtmlHelper.sanitize(data);\n                        }\n                        else {\n                            this.overFlowWrapper.innerHTML = data;\n                        }\n                        wrapperleng = this.overFlowWrapper.offsetWidth;\n                        overAllContainer = this.inputWrapper.offsetWidth;\n                        if ((wrapperleng + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                            if (tempData !== undefined && tempData !== '') {\n                                temp = tempData;\n                                index = tempIndex + 1;\n                            }\n                            this.overFlowWrapper.innerHTML = temp;\n                            remaining = this.value.length - index;\n                            wrapperleng = this.overFlowWrapper.offsetWidth;\n                            while (((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) >= overAllContainer)\n                                && wrapperleng !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                                var textArr = this.overFlowWrapper.innerHTML.split(this.delimiterChar);\n                                textArr.pop();\n                                this.overFlowWrapper.innerHTML = textArr.join(this.delimiterChar);\n                                remaining++;\n                                wrapperleng = this.overFlowWrapper.offsetWidth;\n                            }\n                            break;\n                        }\n                        else if ((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                            tempData = data;\n                            tempIndex = index;\n                        }\n                        else if (index === 0) {\n                            tempData = '';\n                            tempIndex = -1;\n                        }\n                    }\n                }\n                else {\n                    remaining = this.updateChipAndValueTemplate(true, downIconWidth, remainSize);\n                }\n            }\n            this.checkRemainingTemplate(remaining, remainElement, remainContent, totalContent);\n        }\n        else {\n            this.overFlowWrapper.innerHTML = '';\n            addClass([this.overFlowWrapper], HIDEICON);\n        }\n        this.updateDelimMode();\n    };\n    DropDownTree.prototype.checkRemainingTemplate = function (remaining, remainElement, remainContent, totalContent) {\n        if (remaining > 0) {\n            this.overFlowWrapper.appendChild(this.updateRemainTemplate(remainElement, remaining, remainContent, totalContent));\n        }\n        if (this.mode === 'Box' && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n            addClass([remainElement], REMAIN_COUNT);\n        }\n    };\n    DropDownTree.prototype.updateChipAndValueTemplate = function (isChip, downIconWidth, remainSize) {\n        if (downIconWidth === void 0) { downIconWidth = 0; }\n        var currentHtmlContent = '';\n        var overAllContainer;\n        var previousHtmlContent;\n        var previousData;\n        var index = 1;\n        var wrapperLength;\n        var remainingItemsCount;\n        addClass([isChip ? this.chipWrapper : this.valueTemplateContainer], HIDEICON);\n        var clonedElement = (isChip ? this.chipWrapper :\n            this.valueTemplateContainer).cloneNode(true);\n        var valueElements = isChip ? selectAll('.' + CHIP, clonedElement) : Array.prototype.slice.call(clonedElement.children);\n        for (var i = 0; i < valueElements.length; i++) {\n            previousHtmlContent = this.overFlowWrapper.innerHTML;\n            this.overFlowWrapper.appendChild(valueElements[i]);\n            currentHtmlContent = this.overFlowWrapper.innerHTML;\n            wrapperLength = this.overFlowWrapper.offsetWidth;\n            overAllContainer = this.inputWrapper.offsetWidth;\n            if ((wrapperLength + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                if (previousData !== undefined && previousData !== '') {\n                    previousHtmlContent = previousData;\n                    i = index + 1;\n                }\n                this.overFlowWrapper.innerHTML = previousHtmlContent;\n                remainingItemsCount = this.value.length - i;\n                wrapperLength = this.overFlowWrapper.offsetWidth;\n                while (((wrapperLength + remainSize + downIconWidth + this.clearIconWidth) >= overAllContainer)\n                    && wrapperLength !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                    this.overFlowWrapper.removeChild(this.overFlowWrapper.lastChild);\n                    remainingItemsCount++;\n                    wrapperLength = this.overFlowWrapper.offsetWidth;\n                }\n                break;\n            }\n            else if ((wrapperLength + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                previousData = currentHtmlContent;\n                index = i;\n            }\n            else if (i === 0) {\n                previousData = '';\n                index = -1;\n            }\n        }\n        return remainingItemsCount;\n    };\n    DropDownTree.prototype.updateRemainTemplate = function (remainElement, remaining, remainContent, totalContent) {\n        if (this.overFlowWrapper.firstChild && this.overFlowWrapper.firstChild.nodeType === 3 &&\n            this.overFlowWrapper.firstChild.nodeValue === '') {\n            this.overFlowWrapper.removeChild(this.overFlowWrapper.firstChild);\n        }\n        remainElement.innerHTML = '';\n        remainElement.innerText = (this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box' || this.valueTemplateContainer)) ?\n            remainContent.replace('${count}', remaining.toString()) : totalContent.replace('${count}', remaining.toString());\n        if (this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box')) {\n            removeClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n        }\n        else {\n            addClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n            removeClass([this.overFlowWrapper], REMAIN_COUNT);\n        }\n        return remainElement;\n    };\n    DropDownTree.prototype.getOverflowVal = function (index) {\n        var selectedData = this.getSelectedData(this.value[parseInt(index.toString(), 10)]);\n        return getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n    };\n    DropDownTree.prototype.updateDelimMode = function () {\n        if (this.mode !== 'Box') {\n            if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper) && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n                addClass([this.overFlowWrapper], REMAIN_COUNT);\n                addClass([this.overFlowWrapper], SHOW_TEXT);\n            }\n            else {\n                this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n                removeClass([this.overFlowWrapper], REMAIN_COUNT);\n            }\n        }\n        else if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper)) {\n            this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n        }\n    };\n    DropDownTree.prototype.createHiddenElement = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            this.hiddenElement = this.createElement('select', {\n                attrs: { 'aria-hidden': 'true', 'class': HIDDENELEMENT, 'tabindex': '-1', 'multiple': '', 'aria-label': this.getModuleName() }\n            });\n        }\n        else {\n            this.hiddenElement = this.createElement('select', {\n                attrs: { 'aria-hidden': 'true', 'tabindex': '-1', 'class': HIDDENELEMENT, 'aria-label': this.getModuleName() }\n            });\n        }\n        prepend([this.hiddenElement], this.inputWrapper);\n        this.validationAttribute();\n    };\n    DropDownTree.prototype.createClearIcon = function () {\n        this.overAllClear = this.createElement('span', {\n            className: CLOSEICON_CLASS\n        });\n        addClass([this.overAllClear], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CLEAR);\n        if (this.showClearButton) {\n            this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n        }\n    };\n    DropDownTree.prototype.validationAttribute = function () {\n        var name = this.inputEle.getAttribute('name') ? this.inputEle.getAttribute('name') : this.inputEle.getAttribute('id');\n        this.hiddenElement.setAttribute('name', name);\n        this.inputEle.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            var attr = this.inputEle.getAttribute(attributes[i]);\n            if (attr) {\n                this.hiddenElement.setAttribute(attributes[i], attr);\n                this.inputEle.removeAttribute(attributes[i]);\n            }\n        }\n    };\n    DropDownTree.prototype.createChip = function () {\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.chipWrapper = this.createElement('span', {\n                className: CHIP_WRAPPER\n            });\n            this.chipCollection = this.createElement('span', {\n                className: CHIP_COLLECTION\n            });\n            this.chipWrapper.appendChild(this.chipCollection);\n            this.inputWrapper.insertBefore(this.chipWrapper, this.hiddenElement);\n            addClass([this.inputWrapper], SHOW_CHIP);\n            var isValid = this.getValidMode();\n            if (isValid && this.value !== null && (this.value && this.value.length !== 0)) {\n                addClass([this.inputEle], CHIP_INPUT);\n            }\n            else if (this.value === null || (this.value && this.value.length === 0) || this.checkWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n        }\n    };\n    DropDownTree.prototype.getValidMode = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            return this.mode === 'Box' ? true : (this.mode === 'Default' && this.inputFocus) ? true : false;\n        }\n        else {\n            return false;\n        }\n    };\n    DropDownTree.prototype.createSelectAllWrapper = function () {\n        this.checkAllParent = this.createElement('div', {\n            className: CHECKALLPARENT, attrs: { 'tabindex': '0' }\n        });\n        this.selectAllSpan = this.createElement('span', {\n            className: ALLTEXT\n        });\n        this.selectAllSpan.textContent = '';\n        var ele = closest(this.element, '.' + BIGGER);\n        var touchClass = isNOU(ele) ? '' : SMALL;\n        this.checkBoxElement = createCheckBox(this.createElement, true, { cssClass: touchClass });\n        this.checkBoxElement.setAttribute('role', 'checkbox');\n        this.checkAllParent.appendChild(this.checkBoxElement);\n        this.checkAllParent.appendChild(this.selectAllSpan);\n        this.setLocale();\n        EventHandler.add(this.checkAllParent, 'mouseup', this.clickHandler, this);\n        this.wireCheckAllWrapperEvents();\n    };\n    DropDownTree.prototype.clickHandler = function (e) {\n        var target;\n        if ((e.currentTarget && e.currentTarget.classList.contains(CHECKALLPARENT))) {\n            target = e.currentTarget.firstElementChild.lastElementChild;\n        }\n        else {\n            target = e.target;\n        }\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        if (!isNOU(this.checkWrapper)) {\n            this.isClicked = true;\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            this.changeState(this.checkWrapper, checkElement.classList.contains(CHECK) ? 'uncheck' : 'check', e);\n            this.isClicked = false;\n        }\n        e.preventDefault();\n    };\n    DropDownTree.prototype.changeState = function (wrapper, state, e) {\n        var ariaState;\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.add(CHECK);\n            ariaState = 'true';\n            if (!this.isReverseUpdate) {\n                this.isCheckAllCalled = true;\n                this.treeObj.checkAll();\n                if (!this.changeOnBlur) {\n                    this.triggerChangeEvent(e);\n                }\n            }\n            this.setLocale(true);\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK))) {\n            frameSpan.classList.remove(CHECK);\n            ariaState = 'false';\n            if (!this.isReverseUpdate) {\n                this.treeObj.uncheckAll();\n                if (!this.changeOnBlur) {\n                    this.triggerChangeEvent(e);\n                }\n            }\n            this.setLocale(false);\n        }\n        this.setMultiSelect();\n        this.ensurePlaceHolder();\n        ariaState = state === 'check' ? 'true' : 'false';\n        if (!isNOU(ariaState)) {\n            wrapper.parentElement.setAttribute('aria-checked', ariaState);\n        }\n    };\n    DropDownTree.prototype.setLocale = function (unSelect) {\n        if (!this.selectAllSpan) {\n            return;\n        }\n        if (this.selectAllText !== 'Select All' || this.unSelectAllText !== 'Unselect All') {\n            var template = unSelect ? this.unSelectAllText : this.selectAllText;\n            this.selectAllSpan.textContent = '';\n            var compiledString = compile(template);\n            var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n            for (var _i = 0, _a = compiledString({}, this, templateName, null, !this.isStringTemplate); _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.selectAllSpan.textContent = item.textContent;\n            }\n        }\n        else {\n            this.selectAllSpan.textContent = unSelect ? this.unSelectAllText : this.selectAllText;\n        }\n    };\n    DropDownTree.prototype.setAttributes = function () {\n        this.inputEle.setAttribute('tabindex', '-1');\n        this.inputEle.setAttribute('aria-label', this.getModuleName());\n        var id = this.element.getAttribute('id');\n        this.hiddenElement.id = id + '_hidden';\n        this.inputWrapper.setAttribute('tabindex', '0');\n        this.inputWrapper.setAttribute('aria-label', this.getModuleName());\n        attributes(this.inputWrapper, this.getAriaAttributes());\n    };\n    DropDownTree.prototype.setHTMLAttributes = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                if (htmlAttr === 'class') {\n                    this.inputWrapper.classList.add(this.htmlAttributes[\"\" + htmlAttr]);\n                }\n                else if (htmlAttr === 'disabled') {\n                    this.setProperties({ enabled: false }, true);\n                    this.setEnable();\n                }\n                else if (htmlAttr === 'readonly') {\n                    this.setProperties({ readonly: true }, true);\n                    this.dataBind();\n                }\n                else if (htmlAttr === 'style') {\n                    this.inputWrapper.setAttribute('style', this.htmlAttributes[\"\" + htmlAttr]);\n                }\n                else {\n                    var defaultAttr = ['title', 'id', 'placeholder', 'aria-placeholder',\n                        'role', 'autocorrect', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n                    var validateAttr = ['name', 'required'];\n                    if (htmlAttr.indexOf('data') === 0 || validateAttr.indexOf(htmlAttr) > -1) {\n                        this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                    else if (defaultAttr.indexOf(htmlAttr) > -1) {\n                        if (htmlAttr === 'placeholder') {\n                            Input.setPlaceholder(this.htmlAttributes[\"\" + htmlAttr], this.inputEle);\n                        }\n                        else {\n                            this.inputEle.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                    }\n                    else {\n                        this.inputEle.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.updateDataAttribute = function () {\n        var value = this.htmlAttributes;\n        var invalidAttr = ['class', 'style', 'id', 'type'];\n        var attr = {};\n        for (var a = 0; a < this.element.attributes.length; a++) {\n            if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 &&\n                !(this.element.attributes[a].name === 'readonly')) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        extend(attr, value, attr);\n        this.setProperties({ htmlAttributes: attr }, true);\n    };\n    DropDownTree.prototype.showOverAllClear = function () {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (this.overAllClear) {\n            var isValue = this.value ? (this.value.length ? true : false) : false;\n            if (isValue && this.showClearButton) {\n                removeClass([this.overAllClear], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CLEAR);\n            }\n            else {\n                addClass([this.overAllClear], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CLEAR);\n            }\n        }\n    };\n    DropDownTree.prototype.setTreeValue = function () {\n        if (this.value !== null && this.value.length !== 0) {\n            var data = void 0;\n            if (this.showCheckBox || this.allowMultiSelection) {\n                for (var i = 0; i < this.value.length; i++) {\n                    data = this.treeObj.getTreeData(this.value[i])[0];\n                    if (isNOU(data)) {\n                        this.value.splice(this.value.indexOf(this.value[i]), 1);\n                    }\n                }\n                if (this.value.length !== 0) {\n                    this.setValidValue();\n                }\n            }\n            else {\n                data = this.treeObj.getTreeData(this.value[0])[0];\n                if (!isNOU(data)) {\n                    this.setProperties({ text: data[this.fields.text] }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ value: this.currentValue }, true);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.setTreeText = function () {\n        if (this.value !== null && !this.isInitialized) {\n            return;\n        }\n        if (this.text !== null) {\n            var data = void 0;\n            var valArr = [];\n            if (this.showCheckBox || this.allowMultiSelection) {\n                var textArr = this.text.split(this.delimiterChar);\n                for (var i = 0; i < textArr.length; i++) {\n                    data = this.getItems(textArr[i]);\n                    if (!isNOU(data)) {\n                        valArr.push(data[this.fields.value].toString());\n                    }\n                }\n                if (valArr.length !== 0) {\n                    this.oldValue = this.value;\n                    this.setProperties({ value: valArr }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ text: this.currentText }, true);\n                }\n            }\n            else {\n                data = this.getItems(this.text);\n                if (!isNOU(data)) {\n                    this.oldValue = this.value;\n                    this.setProperties({ value: [data[this.fields.value].toString()] }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ text: this.currentText }, true);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.setSelectedValue = function () {\n        if (this.value != null) {\n            return;\n        }\n        if (!this.isInitialized) {\n            this.oldValue = this.value;\n            if (this.treeObj.selectedNodes.length > 0 && !this.showCheckBox) {\n                this.setProperties({ value: this.treeObj.selectedNodes }, true);\n                if (this.allowMultiSelection) {\n                    this.updateMode();\n                }\n            }\n            else if (this.showCheckBox && this.treeObj.checkedNodes) {\n                if (this.treeObj.checkedNodes.length > 0) {\n                    this.setProperties({ value: this.treeObj.checkedNodes }, true);\n                    setValue('selectedNodes', [], this.treeObj);\n                    this.treeObj.dataBind();\n                    this.updateMode();\n                }\n            }\n            this.updateSelectedValues();\n            this.currentText = this.text;\n            this.currentValue = this.value;\n        }\n    };\n    DropDownTree.prototype.setValueTemplate = function () {\n        var _this = this;\n        if (this.valueTemplate) {\n            var compiledString = this.initializeValueTemplate();\n            this.getValueTemplateElement(this.value[0], compiledString);\n            if (this.hasTemplate && this.portals) {\n                if (this.treeObj.portals) {\n                    this.portals = this.portals.concat(this.treeObj.portals.filter(function (item) {\n                        return !_this.portals.includes(item);\n                    }));\n                }\n                if (this.isReact) {\n                    this.renderReactTemplates(this.reactCallBack);\n                }\n            }\n            this.showOrHideValueTemplate(true);\n        }\n    };\n    DropDownTree.prototype.getValueTemplateElement = function (value, compiledString) {\n        var selectedData = this.getNodeData(value, this.isFilteredData ? this.treeData : this.treeItems);\n        var templateElements = compiledString(selectedData, this, 'valueTemplate', this.element.id + \"valueTemplate\", this.isStringTemplate, undefined, this.valueTemplateContainer);\n        if (templateElements) {\n            templateElements = Array.prototype.slice.call(templateElements);\n            append(templateElements, this.valueTemplateContainer);\n        }\n    };\n    DropDownTree.prototype.setValidValue = function () {\n        var _this = this;\n        if (!this.showCheckBox && !this.allowMultiSelection) {\n            Input.setValue(this.text, this.inputEle, this.floatLabelType);\n            this.setValueTemplate();\n            var id = this.value[0].toString();\n            if (this.treeObj.selectedNodes[0] !== id) {\n                setValue('selectedNodes', [id], this.treeObj);\n            }\n        }\n        else {\n            if (this.showCheckBox) {\n                var difference = this.value.length !== this.treeObj.checkedNodes.length || this.value.filter(function (e) {\n                    return _this.treeObj.checkedNodes.indexOf(e) === -1;\n                }).length > 0;\n                if (difference || this.treeSettings.autoCheck) {\n                    this.treeObj.checkedNodes = this.value.slice();\n                    this.treeObj.dataBind();\n                    this.setMultiSelect();\n                }\n            }\n            else {\n                this.treeObj.selectedNodes = this.value.slice();\n                this.selectedText = [];\n                this.updateSelectedValues();\n            }\n            this.treeObj.dataBind();\n        }\n        this.currentText = this.text;\n        this.currentValue = this.value;\n        if (!isNOU(this.value) && this.value.length > 0 && !isNOU(this.currentText)) {\n            this.inputWrapper.setAttribute('aria-label', this.currentText.replace(/,/g, ', '));\n        }\n        if (this.isInitialized) {\n            this.triggerChangeEvent();\n        }\n    };\n    DropDownTree.prototype.getItems = function (givenText) {\n        var data;\n        if (this.treeDataType === 1) {\n            for (var i = 0; i < this.treeItems.length; i++) {\n                var text = getValue(this.fields.text, this.treeItems[parseInt(i.toString(), 10)]);\n                if (!isNOU(this.treeItems[i]) && !isNOU(text) && text === givenText) {\n                    data = this.treeItems[i];\n                    break;\n                }\n            }\n        }\n        else {\n            data = this.getNestedItems(this.treeItems, this.fields, givenText);\n        }\n        return data;\n    };\n    DropDownTree.prototype.getNestedItems = function (data, field, givenText) {\n        var newData;\n        for (var i = 0, objlen = data.length; i < objlen; i++) {\n            var dataId = getValue(this.fields.text, data[parseInt(i.toString(), 10)]);\n            if (data[i] && dataId && dataId.toString() === givenText) {\n                return data[i];\n            }\n            else if (typeof field.child === 'string' && !isNOU(getValue(field.child, data[i]))) {\n                var childData = getValue(field.child, data[parseInt(i.toString(), 10)]);\n                newData = this.getNestedItems(childData, this.getChildType(field), givenText);\n                if (newData !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', data[i]))) {\n                var child = 'child';\n                newData = this.getNestedItems(getValue(child, data[parseInt(i.toString(), 10)]), this.getChildType(field), givenText);\n                if (newData !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newData;\n    };\n    DropDownTree.prototype.getChildType = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    /* To render the treeview */\n    DropDownTree.prototype.renderTree = function () {\n        this.treeObj = new TreeView({\n            fields: this.getTreeFields(this.fields),\n            enableRtl: this.enableRtl,\n            nodeSelected: this.onNodeSelected.bind(this),\n            nodeChecked: this.onNodeChecked.bind(this),\n            nodeChecking: this.beforeCheck.bind(this),\n            nodeExpanded: this.onNodeExpanded.bind(this),\n            actionFailure: this.onActionFailure.bind(this),\n            nodeClicked: this.onNodeClicked.bind(this),\n            dataBound: this.OnDataBound.bind(this),\n            allowMultiSelection: this.allowMultiSelection,\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            showCheckBox: this.showCheckBox,\n            autoCheck: this.treeSettings.autoCheck,\n            sortOrder: this.sortOrder,\n            expandOn: this.treeSettings.expandOn,\n            loadOnDemand: this.treeSettings.loadOnDemand,\n            nodeSelecting: this.onBeforeSelect.bind(this),\n            nodeTemplate: this.itemTemplate,\n            checkDisabledChildren: this.treeSettings.checkDisabledChildren\n        });\n        this.treeObj.root = this.root ? this.root : this;\n        this.treeObj.appendTo(this.tree);\n    };\n    /* To render the popup element */\n    DropDownTree.prototype.renderPopup = function () {\n        var _this = this;\n        if (this.isFilteredData) {\n            this.treeObj.element.classList.remove('e-filtering');\n            this.filterObj.value = '';\n            this.treeObj.fields = this.getTreeFields(this.fields);\n            this.isFilterRestore = true;\n            this.isFilteredData = false;\n            this.hideCheckAll(false);\n        }\n        var isCancelled = false;\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                addClass([_this.inputWrapper], [ICONANIMATION]);\n                if (_this.isFirstRender) {\n                    _this.popupEle = _this.createElement('div', {\n                        id: _this.element.id + '_options', className: POPUP_CLASS + ' ' + (_this.cssClass != null ? _this.cssClass : '')\n                    });\n                    _this.popupEle.setAttribute('role', 'region');\n                    _this.popupEle.setAttribute('aria-label', _this.element.id);\n                    document.body.appendChild(_this.popupEle);\n                    _this.createPopup(_this.popupEle);\n                }\n                else {\n                    _this.popupEle = _this.popupObj.element;\n                    if (_this.isReact && _this.isFilterRestore) {\n                        _this.treeObj.refresh();\n                        _this.isFilteredData = true;\n                        _this.popupEle.removeChild(_this.filterContainer);\n                    }\n                }\n            }\n            else {\n                isCancelled = true;\n            }\n            if (_this.isFirstRender && !isCancelled || _this.isFilteredData) {\n                _this.isFilteredData = false;\n                prepend([_this.popupDiv], _this.popupEle);\n                removeClass([_this.popupDiv], DDTHIDEICON);\n                if (_this.allowFiltering) {\n                    _this.renderFilter();\n                }\n                if (_this.showCheckBox && _this.showSelectAll && (!_this.popupDiv.classList.contains(NODATA))) {\n                    _this.createSelectAllWrapper();\n                    _this.popupEle.insertBefore(_this.checkAllParent, _this.popupDiv);\n                }\n                if (_this.headerTemplate) {\n                    _this.setHeaderTemplate();\n                }\n                if (_this.footerTemplate) {\n                    _this.setFooterTemplate();\n                }\n                _this.isFirstRender = false;\n                if (_this.hasTemplate && _this.portals) {\n                    if (_this.treeObj.portals) {\n                        _this.portals = _this.portals.concat(_this.treeObj.portals.filter(function (item) {\n                            return !_this.portals.includes(item);\n                        }));\n                    }\n                    if (_this.isReact) {\n                        _this.renderReactTemplates(_this.reactCallBack);\n                    }\n                }\n            }\n            if (!isCancelled) {\n                attributes(_this.inputEle, { 'aria-expanded': 'true' });\n                _this.popupObj.show(null, (_this.zIndex === 1000) ? _this.inputEle : null);\n                removeClass([_this.popupEle], DDTHIDEICON);\n                _this.updatePopupHeight();\n                _this.popupObj.refreshPosition();\n                if (!(_this.showCheckBox && _this.showSelectAll) && (!_this.popupDiv.classList.contains(NODATA)\n                    && _this.treeItems.length > 0)) {\n                    var focusedElement = _this.value != null && _this.text != null ? _this.treeObj.element.querySelector('[data-uid=\"' + _this.value[0] + '\"]') : null;\n                    if (focusedElement) {\n                        _this.treeObj.element.querySelector('li').setAttribute('tabindex', '-1');\n                        focusedElement.setAttribute('tabindex', '0');\n                    }\n                    else {\n                        var oldFocussedNode = _this.treeObj.element.querySelector('.e-node-focus');\n                        focusedElement = _this.treeObj.element.querySelector('li[tabindex=\"0\"]:not(.e-disable)') ||\n                            _this.treeObj.element.querySelector('li:not(.e-disable)');\n                        if (oldFocussedNode && oldFocussedNode !== focusedElement) {\n                            oldFocussedNode.setAttribute('tabindex', '-1');\n                            removeClass([oldFocussedNode], 'e-node-focus');\n                        }\n                    }\n                    if (!isNOU(focusedElement)) {\n                        if (!_this.allowFiltering) {\n                            focusedElement.focus();\n                        }\n                        addClass([focusedElement], ['e-node-focus']);\n                    }\n                }\n                if (_this.treeObj.checkedNodes.length > 0 && !_this.isFilterRestore) {\n                    var nodes = _this.treeObj.element.querySelectorAll('li');\n                    var checkedNodes = _this.treeObj.element.querySelectorAll('li[aria-checked=true]');\n                    if ((checkedNodes.length === nodes.length || _this.checkSelectAll) && _this.checkBoxElement) {\n                        var wrap = closest(_this.checkBoxElement, '.' + CHECKBOXWRAP);\n                        _this.changeState(wrap, 'check');\n                        _this.checkSelectAll = false;\n                    }\n                }\n                if (_this.allowFiltering) {\n                    removeClass([_this.inputWrapper], [INPUTFOCUS]);\n                    _this.filterObj.element.focus();\n                }\n                var eventArgs = { popup: _this.popupObj };\n                _this.trigger('open', eventArgs);\n            }\n        });\n    };\n    DropDownTree.prototype.reactCallBack = function () {\n        if (!isNOU(this.popupObj)) {\n            this.updatePopupHeight();\n            this.popupObj.refreshPosition();\n        }\n    };\n    DropDownTree.prototype.updatePopupHeight = function () {\n        if (this.isFirstRender) {\n            return;\n        }\n        var popupHeight = this.getHeight();\n        this.popupEle.style.maxHeight = popupHeight;\n        if (this.allowFiltering) {\n            var height = Math.round(this.filterContainer.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.headerTemplate) {\n            var height = Math.round(this.header.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.showCheckBox && this.showSelectAll && (!this.popupDiv.classList.contains(NODATA))) {\n            var height = Math.round(this.checkAllParent.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.footerTemplate) {\n            var height = Math.round(this.footer.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        var border = parseInt(window.getComputedStyle(this.popupEle).borderTopWidth, 10);\n        border = border + parseInt(window.getComputedStyle(this.popupEle).borderBottomWidth, 10);\n        popupHeight = formatUnit(parseInt(popupHeight, 10) - border + 'px');\n        this.popupDiv.style.maxHeight = popupHeight;\n    };\n    DropDownTree.prototype.createPopup = function (element) {\n        var _this = this;\n        if (this.isFirstRender) {\n            this.popupObj = new Popup(element, {\n                width: this.setWidth(),\n                targetType: 'relative',\n                collision: { X: 'flip', Y: 'flip' },\n                relateTo: this.inputWrapper,\n                zIndex: this.zIndex,\n                enableRtl: this.enableRtl,\n                position: { X: 'left', Y: 'bottom' },\n                close: function () {\n                    _this.isPopupOpen = false;\n                },\n                open: function () {\n                    EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                    _this.isPopupOpen = true;\n                },\n                targetExitViewport: function () {\n                    if (!Browser.isDevice) {\n                        _this.hidePopup();\n                    }\n                }\n            });\n        }\n    };\n    /* To calculate the width when change via set model */\n    DropDownTree.prototype.setElementWidth = function (inputWidth) {\n        var ddElement = this.inputWrapper;\n        if (!isNOU(inputWidth)) {\n            if (typeof inputWidth === 'number') {\n                ddElement.style.width = formatUnit(inputWidth);\n            }\n            else if (typeof inputWidth === 'string') {\n                ddElement.style.width = (inputWidth.match(/px|%|em/)) ? (inputWidth) :\n                    (formatUnit(inputWidth));\n            }\n        }\n    };\n    /* To calculate the width of the popup */\n    DropDownTree.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            width = (this.inputWrapper.offsetWidth * parseFloat(width) / 100).toString() + 'px';\n        }\n        else if (typeof this.popupWidth === 'string') {\n            width = (this.popupWidth.match(/px|em/)) ? (this.popupWidth) : width;\n        }\n        return width;\n    };\n    /* To calculate the height of the popup */\n    DropDownTree.prototype.getHeight = function () {\n        var height = formatUnit(this.popupHeight);\n        if (height.indexOf('%') > -1) {\n            // Will set the height of the popup according to the view port height\n            height = (document.documentElement.clientHeight * parseFloat(height) / 100).toString() + 'px';\n        }\n        else if (typeof this.popupHeight === 'string') {\n            height = (this.popupHeight.match(/px|em/)) ? (this.popupHeight) : height;\n        }\n        return height;\n    };\n    DropDownTree.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        var isTree = closest(target, '.' + PARENTITEM);\n        var isFilter = closest(target, '.' + FILTERWRAP);\n        var isHeader = closest(target, '.' + HEADER);\n        var isFooter = closest(target, '.' + FOOTER);\n        var isScroller = target.classList.contains(DROPDOWN) ? true :\n            (matches(target, '.e-ddt .e-popup') || matches(target, '.e-ddt .e-treeview'));\n        if ((this.isPopupOpen && ((!isNOU(this.inputWrapper) &&\n            this.inputWrapper.contains(target)) || isTree || isScroller || isHeader || isFooter)) ||\n            ((this.allowMultiSelection || this.showCheckBox) && (this.isPopupOpen && target.classList.contains(CHIP_CLOSE) ||\n                (this.isPopupOpen && (target.classList.contains(CHECKALLPARENT) || target.classList.contains(ALLTEXT)\n                    || target.classList.contains(CHECKBOXFRAME)))))) {\n            this.isDocumentClick = false;\n            e.preventDefault();\n        }\n        else if (!isNOU(this.inputWrapper) && !this.inputWrapper.contains(target) && this.inputFocus && !isFilter) {\n            this.focusOut(e);\n        }\n    };\n    DropDownTree.prototype.onActionFailure = function (e) {\n        this.trigger('actionFailure', e);\n        this.l10nUpdate(true);\n        addClass([this.popupDiv], NODATA);\n    };\n    DropDownTree.prototype.OnDataBound = function (args) {\n        this.treeItems = args.data;\n        if (this.treeItems.length <= 0) {\n            this.l10nUpdate();\n            addClass([this.popupDiv], NODATA);\n            this.hideCheckAll(true);\n        }\n        else if (this.popupDiv.classList.contains(NODATA) && this.treeItems.length >= 1) {\n            removeClass([this.popupDiv], NODATA);\n            this.hideCheckAll(false);\n        }\n        if (!this.isFilteredData) {\n            this.treeDataType = this.getTreeDataType(this.treeItems, this.fields);\n        }\n        if (this.isFirstRender && this.isRemoteData) {\n            this.setTreeValue();\n            this.setTreeText();\n            this.updateHiddenValue();\n            this.setSelectedValue();\n            if (!this.wrapText) {\n                this.updateView();\n            }\n            this.treeObj.element.focus();\n            this.isInitialized = true;\n        }\n        var eventArgs = { data: args.data };\n        this.trigger('dataBound', eventArgs);\n        if (this.filterObj === null) {\n            this.isFilteredData = false;\n        }\n        if (this.isFilteredData) {\n            this.treeObj.expandAll();\n        }\n        if (this.isFilterRestore) {\n            this.restoreFilterSelection();\n            this.isFilterRestore = false;\n        }\n    };\n    DropDownTree.prototype.restoreFilterSelection = function () {\n        if (this.showCheckBox) {\n            this.treeObj.checkedNodes = this.value ? this.value : [];\n        }\n        else {\n            this.treeObj.selectedNodes = this.value ? this.value : [];\n        }\n    };\n    /* To set cssclass for the dropdowntree */\n    DropDownTree.prototype.setCssClass = function (newClass, oldClass) {\n        var elements = this.popupObj ? [this.inputWrapper, this.popupObj.element] : [this.inputWrapper];\n        if (!isNOU(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNOU(newClass) && newClass !== '') {\n            addClass(elements, newClass.split(' '));\n        }\n    };\n    DropDownTree.prototype.setEnableRTL = function (state) {\n        if (state) {\n            this.inputWrapper.classList.add(RTL);\n        }\n        else {\n            this.inputWrapper.classList.remove(RTL);\n        }\n        if (this.popupObj) {\n            this.popupObj.enableRtl = state;\n            this.popupObj.dataBind();\n        }\n        if (this.treeObj) {\n            this.treeObj.enableRtl = state;\n            this.treeObj.dataBind();\n        }\n    };\n    /* To set enable property */\n    DropDownTree.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputEle);\n        if (this.enabled) {\n            removeClass([this.inputWrapper], DISABLED);\n            this.inputEle.setAttribute('aria-disabled', 'false');\n            this.inputWrapper.setAttribute('aria-disabled', 'false');\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            addClass([this.inputWrapper], DISABLED);\n            if (this.inputWrapper && this.inputWrapper.classList.contains(INPUTFOCUS)) {\n                removeClass([this.inputWrapper], [INPUTFOCUS]);\n            }\n            this.inputEle.setAttribute('aria-disabled', 'true');\n            this.inputWrapper.setAttribute('aria-disabled', 'true');\n        }\n    };\n    DropDownTree.prototype.cloneFields = function (fields) {\n        var clonedField = {\n            dataSource: fields.dataSource, value: fields.value, text: fields.text, parentValue: fields.parentValue,\n            child: this.cloneChildField(fields.child), hasChildren: fields.hasChildren, expanded: fields.expanded,\n            iconCss: fields.iconCss, imageUrl: fields.imageUrl, htmlAttributes: fields.htmlAttributes, query: fields.query,\n            selected: fields.selected, selectable: fields.selectable, tableName: fields.tableName, tooltip: fields.tooltip\n        };\n        return clonedField;\n    };\n    DropDownTree.prototype.cloneChildField = function (fields) {\n        if (typeof fields === 'string') {\n            return fields;\n        }\n        else {\n            var clonedField = {\n                dataSource: fields.dataSource, value: fields.value, text: fields.text, parentValue: fields.parentValue,\n                child: (fields.child ? this.cloneChildField(fields.child) : null), hasChildren: fields.hasChildren,\n                expanded: fields.expanded, iconCss: fields.iconCss, imageUrl: fields.imageUrl, htmlAttributes: fields.htmlAttributes,\n                query: fields.query, selected: fields.selected, selectable: fields.selectable,\n                tableName: fields.tableName, tooltip: fields.tooltip\n            };\n            return clonedField;\n        }\n    };\n    DropDownTree.prototype.getTreeFields = function (fields) {\n        var treeFields = {\n            dataSource: fields.dataSource, id: fields.value, text: fields.text, parentID: fields.parentValue,\n            child: this.getTreeChildren(fields.child), hasChildren: fields.hasChildren, expanded: fields.expanded,\n            iconCss: fields.iconCss, imageUrl: fields.imageUrl, isChecked: fields.selected,\n            htmlAttributes: fields.htmlAttributes, query: fields.query, selectable: fields.selectable, selected: fields.selected,\n            tableName: fields.tableName, tooltip: fields.tooltip\n        };\n        return treeFields;\n    };\n    DropDownTree.prototype.getTreeChildren = function (mapper) {\n        if (typeof mapper === 'string') {\n            return mapper;\n        }\n        else if (!isNOU(mapper)) {\n            mapper = this.getActualProperties(mapper);\n            var childFields = mapper;\n            if (mapper.value) {\n                childFields.id = mapper.value;\n            }\n            if (mapper.parentValue) {\n                childFields.parentID = mapper.parentValue;\n            }\n            if (mapper.child) {\n                childFields.child = this.getTreeChildren(mapper.child);\n            }\n            if (mapper.selected && this.showCheckBox) {\n                childFields.isChecked = mapper.selected;\n            }\n            return childFields;\n        }\n        return null;\n    };\n    DropDownTree.prototype.getTreeDataType = function (ds, field) {\n        if (this.fields.dataSource instanceof DataManager) {\n            for (var i = 0; i < ds.length; i++) {\n                if ((typeof field.child === 'string') && isNOU(getValue(field.child, ds[i]))) {\n                    return 1;\n                }\n            }\n            return 2;\n        }\n        if (isNOU(this.fields.dataSource)) {\n            this.fields.dataSource = [];\n        }\n        for (var i = 0, len = this.fields.dataSource.length; i < len; i++) {\n            if ((typeof field.child === 'string') && !isNOU(getValue(field.child, this.fields.dataSource[i]))) {\n                return 2;\n            }\n            if (!isNOU(getValue(field.parentValue, this.fields.dataSource[i])) ||\n                !isNOU(getValue(field.hasChildren, this.fields.dataSource[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    };\n    /* Triggers when the tree fields is changed dynamically */\n    DropDownTree.prototype.setFields = function () {\n        this.resetValue();\n        if (this.hasTemplate) {\n            this.updateTemplate();\n        }\n        this.treeObj.fields = this.getTreeFields(this.fields);\n        this.treeObj.dataBind();\n    };\n    DropDownTree.prototype.getEventArgs = function (args) {\n        var checkData = args.data;\n        var selectData = args.nodeData;\n        var state;\n        if (this.showCheckBox) {\n            if (args.action === 'check') {\n                state = 'select';\n            }\n            else if (args.action === 'uncheck') {\n                state = 'un-select';\n            }\n        }\n        var eventArgs = {\n            action: this.showCheckBox ? state : args.action,\n            isInteracted: this.isClicked ? true : args.isInteracted,\n            item: args.node,\n            itemData: this.showCheckBox ? checkData[0] : selectData\n        };\n        return eventArgs;\n    };\n    DropDownTree.prototype.onBeforeSelect = function (args) {\n        if (args.isInteracted) {\n            this.oldValue = this.value ? this.value.slice() : this.value;\n            if (this.value === null) {\n                this.setProperties({ value: [] }, true);\n            }\n        }\n    };\n    DropDownTree.prototype.updateHiddenValue = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            return;\n        }\n        if (this.value && this.value.length) {\n            this.hiddenElement.innerHTML = '<option selected value =\"' + this.value[0] + '\">' + this.text + '</option>';\n        }\n        else {\n            this.hiddenElement.innerHTML = '';\n        }\n    };\n    /* Triggers when the tree node is selected */\n    DropDownTree.prototype.onNodeSelected = function (args) {\n        if (this.showCheckBox) {\n            return;\n        }\n        var eventArgs = this.getEventArgs(args);\n        this.trigger('select', eventArgs);\n        var selectedText;\n        if (args.isInteracted) {\n            var id = getValue('id', args.nodeData).toString();\n            if (!this.allowMultiSelection) {\n                this.hiddenElement.innerHTML = '';\n                this.setProperties({ value: [id] }, true);\n                if (this.itemTemplate) {\n                    selectedText = getValue('text', this.treeObj.getNode(id));\n                }\n                else {\n                    selectedText = getValue('text', args.nodeData).toString();\n                }\n                Input.setValue(selectedText, this.inputEle, this.floatLabelType);\n                this.setProperties({ text: selectedText }, true);\n                this.currentText = this.text;\n                this.currentValue = this.value;\n                this.setValueTemplate();\n                if (!isNOU(this.value) && this.value.length > 0) {\n                    this.inputWrapper.setAttribute('aria-label', args.nodeData.text.toString());\n                }\n                attributes(this.inputWrapper, { 'aria-describedby': this.element.id });\n                attributes(this.inputWrapper, { 'aria-activedescendant': id.toString() });\n                this.updateHiddenValue();\n                this.showOverAllClear();\n                this.hidePopup();\n                this.isNodeSelected = true;\n            }\n            else if (this.allowMultiSelection) {\n                this.setMultiSelect();\n            }\n        }\n        if (this.isValueChange && !this.changeOnBlur) {\n            this.triggerChangeEvent(this.keyEventArgs);\n            this.isValueChange = false;\n        }\n    };\n    DropDownTree.prototype.onNodeClicked = function (args) {\n        if (!this.changeOnBlur && this.isNodeSelected) {\n            this.triggerChangeEvent(args.event);\n            this.isNodeSelected = false;\n        }\n        var target = args.event.target;\n        if ((target.classList.contains('e-fullrow') || target.classList.contains('e-list-text')) && this.showCheckBox) {\n            this.isClicked = true;\n            var getNodeDetails = this.treeObj.getNode(args.node);\n            if (getNodeDetails.isChecked === 'true') {\n                this.treeObj.uncheckAll([args.node]);\n            }\n            else {\n                this.treeObj.checkAll([args.node]);\n            }\n            this.isClicked = false;\n            this.setMultiSelect();\n            this.ensurePlaceHolder();\n        }\n        if (!this.changeOnBlur && (this.allowMultiSelection || this.showCheckBox)) {\n            this.triggerChangeEvent(args.event);\n        }\n    };\n    DropDownTree.prototype.onNodeChecked = function (args) {\n        var eventArgs = this.getEventArgs(args);\n        this.trigger('select', eventArgs);\n        if (this.isFilteredData && args.action === 'uncheck') {\n            var id = getValue('id', args.data[0]).toString();\n            this.removeSelectedData(id, true);\n        }\n        if (!this.isChipDelete && args.isInteracted || (!this.isFilteredData && args.action === 'check' && this.isFromFilterChange)) {\n            this.setMultiSelect();\n            this.ensurePlaceHolder();\n        }\n        if (this.showSelectAll && this.checkBoxElement) {\n            var checkedNodes = this.treeObj.element.querySelectorAll('li[aria-checked=true]');\n            var wrap = closest(this.checkBoxElement, '.' + CHECKBOXWRAP);\n            if (wrap && args.action === 'uncheck' && (args.isInteracted || checkedNodes.length === 0 || (!isNOU(args.data[0]) && args.data[0].isChecked === 'false'))) {\n                this.isReverseUpdate = true;\n                this.changeState(wrap, 'uncheck');\n                this.isReverseUpdate = false;\n            }\n            else if (wrap && args.action === 'check'\n                && checkedNodes.length === this.fields.dataSource.length\n                && (args.isInteracted || this.isCheckAllCalled || (!isNOU(args.data[0]) && args.data[0].isChecked === 'true'))) {\n                this.isReverseUpdate = true;\n                this.isCheckAllCalled = false;\n                this.changeState(wrap, 'check');\n                this.isReverseUpdate = false;\n            }\n        }\n        if (this.isValueChange && !this.changeOnBlur) {\n            this.triggerChangeEvent(this.keyEventArgs);\n            this.isValueChange = false;\n        }\n    };\n    DropDownTree.prototype.beforeCheck = function (args) {\n        if (args.isInteracted) {\n            this.oldValue = this.value ? this.value.slice() : this.value;\n        }\n    };\n    DropDownTree.prototype.onNodeExpanded = function () {\n        if (this.hasTemplate && this.portals && this.treeObj.portals) {\n            for (var i = 0; i < this.treeObj.portals.length; i++) {\n                if (this.portals.indexOf(this.treeObj.portals[i]) === -1) {\n                    this.portals.push(this.treeObj.portals[i]);\n                }\n            }\n            this.renderReactTemplates();\n        }\n    };\n    DropDownTree.prototype.updateClearButton = function (state) {\n        if (state) {\n            if (!this.inputWrapper.contains(this.overAllClear)) {\n                this.inputEle.parentElement.insertBefore(this.overAllClear, this.inputEle.nextSibling);\n            }\n            else {\n                removeClass([this.overAllClear], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CLEAR);\n            }\n        }\n        else {\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n            var chipClose = selectAll('.' + CHIP_CLOSE, this.chipWrapper);\n            for (var i = 0; i < chipClose.length; i++) {\n                if (!state) {\n                    addClass([chipClose[i]], HIDEICON);\n                }\n                else {\n                    removeClass([chipClose[i]], HIDEICON);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.updateDropDownIconState = function (state) {\n        var spinIcon = select('.' + DDTICON, this.inputWrapper);\n        if (state) {\n            if (!spinIcon) {\n                Input.appendSpan(DROPDOWNICON, this.inputWrapper, this.createElement);\n            }\n            else {\n                removeClass([spinIcon], HIDEICON);\n            }\n            addClass([this.inputWrapper], SHOW_DD_ICON);\n        }\n        else {\n            addClass([spinIcon], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_DD_ICON);\n        }\n    };\n    DropDownTree.prototype.updateMode = function () {\n        if (this.mode === 'Custom') {\n            return;\n        }\n        if (this.mode !== 'Delimiter') {\n            if (!this.inputWrapper.contains(this.chipWrapper)) {\n                this.createChip();\n            }\n            var isValid = this.getValidMode();\n            if (this.chipWrapper.classList.contains(HIDEICON) && isValid) {\n                removeClass([this.chipWrapper], HIDEICON);\n                this.showOrHideValueTemplate(false, true);\n                addClass([this.inputWrapper], SHOW_CHIP);\n            }\n            else if (!isValid) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n                this.showOrHideValueTemplate(true);\n            }\n            var isValue = this.value !== null ? (this.value.length !== 0 ? true : false) : false;\n            if (isValid && isValue) {\n                addClass([this.inputEle], CHIP_INPUT);\n            }\n            else {\n                removeClass([this.inputEle], CHIP_INPUT);\n            }\n        }\n        else if (this.inputEle.classList.contains(CHIP_INPUT)) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n                this.showOrHideValueTemplate(true);\n            }\n        }\n    };\n    DropDownTree.prototype.ensurePlaceHolder = function () {\n        if (isNOU(this.value) || (this.value && this.value.length === 0)) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n                this.showOrHideValueTemplate(true);\n            }\n        }\n    };\n    DropDownTree.prototype.ensureClearIconPosition = function (floatLabelType) {\n        if (floatLabelType !== 'Never') {\n            this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n        }\n    };\n    DropDownTree.prototype.setMultiSelectValue = function (newValues) {\n        var _this = this;\n        if (!this.isFilteredData) {\n            this.setProperties({ value: this.isFromFilterChange && newValues && newValues.length === 0 ? this.value : newValues }, true);\n            this.isFromFilterChange = false;\n            if (newValues && newValues.length !== 0 && !this.showCheckBox &&\n                !this.ddtCompareValues(this.treeObj.selectedNodes, this.value.slice())) {\n                this.treeObj.selectedNodes = this.value.slice();\n                this.treeObj.dataBind();\n            }\n        }\n        else {\n            var selectedValues = isNOU(this.value) ? [] : this.value;\n            selectedValues = selectedValues.filter(function (selectedValue) {\n                var nodeData = _this.treeObj.getTreeData(selectedValue);\n                if (Array.isArray(nodeData)) {\n                    return nodeData.every(function (nodeSelectedData) { return nodeSelectedData.selected; });\n                }\n                return true;\n            });\n            for (var i = 0; i < newValues.length; i++) {\n                if (isNOU(this.value) || this.value.indexOf(newValues[i]) === -1) {\n                    selectedValues.push(newValues[i]);\n                }\n            }\n            this.setProperties({ value: selectedValues }, true);\n        }\n    };\n    DropDownTree.prototype.setMultiSelect = function () {\n        if (this.showCheckBox && !this.isDynamicChange) {\n            this.setMultiSelectValue(this.treeObj.checkedNodes.slice());\n        }\n        else {\n            var ddtValue = this.allowMultiSelection ? (this.showCheckBox ? this.treeObj.checkedNodes\n                : this.treeObj.selectedNodes) : (this.value ? (this.showCheckBox ? this.value : [this.value[0]]) : null);\n            this.setMultiSelectValue(ddtValue);\n            if (this.showCheckBox && this.value !== null) {\n                this.treeObj.checkedNodes = this.value;\n                this.treeObj.dataBind();\n            }\n        }\n        this.selectedText = [];\n        var checkSelection = this.allowMultiSelection ? true : (this.showCheckBox ? true : false);\n        if (this.inputWrapper.contains(this.chipWrapper) && !checkSelection) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            detach(this.chipWrapper);\n        }\n        var isValid = this.getValidMode();\n        if (isValid && this.value !== null) {\n            addClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                removeClass([this.chipWrapper], HIDEICON);\n                this.showOrHideValueTemplate(false, true);\n            }\n        }\n        var isValue = this.value ? (this.value.length ? true : false) : false;\n        if (this.chipWrapper && (this.mode === 'Box' && !isValue)) {\n            addClass([this.chipWrapper], HIDEICON);\n            removeClass([this.inputEle], CHIP_INPUT);\n            this.showOrHideValueTemplate(true);\n        }\n        this.updateSelectedValues();\n    };\n    DropDownTree.prototype.getSelectedData = function (value) {\n        var data = null;\n        if (this.isFilteredData) {\n            for (var i = 0; i < this.selectedData.length; i++) {\n                if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n                    data = this.selectedData[i];\n                    break;\n                }\n            }\n        }\n        if (isNOU(data)) {\n            if (this.treeSettings.loadOnDemand) {\n                data = this.getNodeData(value, this.treeItems);\n            }\n            else {\n                data = this.treeObj.getNode(value);\n            }\n            if (!isNOU(data)) {\n                this.selectedData.push(data);\n            }\n        }\n        return data;\n    };\n    DropDownTree.prototype.getNodeData = function (id, dataSource) {\n        var childItems;\n        if (isNOU(id)) {\n            return childItems;\n        }\n        else if (this.treeDataType === 1) {\n            for (var i = 0, objlen = dataSource.length; i < objlen; i++) {\n                var dataId = getValue(this.fields.value, dataSource[i]);\n                if (!isNOU(dataSource[i]) && !isNOU(dataId) && dataId.toString() === id) {\n                    return dataSource[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeData(dataSource, this.fields, id);\n        }\n        return childItems;\n    };\n    DropDownTree.prototype.getChildNodeData = function (obj, mapper, id) {\n        var newChildItems;\n        if (isNOU(obj)) {\n            return newChildItems;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataValue = getValue(mapper.value, obj[i]);\n            if (obj[i] && dataValue && dataValue.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childNodeData = getValue(mapper.child, obj[i]);\n                newChildItems = this.getChildNodeData(childNodeData, this.getChildMapperFields(mapper), id);\n                if (newChildItems !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var child = 'child';\n                newChildItems = this.getChildNodeData(getValue(child, obj[i]), this.getChildMapperFields(mapper), id);\n                if (newChildItems !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newChildItems;\n    };\n    DropDownTree.prototype.getChildMapperFields = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    DropDownTree.prototype.removeSelectedData = function (value, muteOnChange) {\n        var selectedValues = isNOU(this.value) ? [] : this.value.slice();\n        selectedValues.splice(selectedValues.indexOf(value), 1);\n        this.setProperties({ value: selectedValues }, muteOnChange);\n        for (var i = 0; i < this.selectedData.length; i++) {\n            if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n                this.selectedData.splice(i, 1);\n                break;\n            }\n        }\n    };\n    DropDownTree.prototype.initializeValueTemplate = function () {\n        if (!this.valueTemplate) {\n            return null;\n        }\n        if (this.valueTemplateContainer) {\n            while (this.valueTemplateContainer.firstChild) {\n                this.valueTemplateContainer.removeChild(this.valueTemplateContainer.firstChild);\n            }\n        }\n        else {\n            this.valueTemplateContainer = this.createElement('span', { className: OVERFLOW_VIEW + ' ' + SHOW_TEXT + ' ' + 'e-input-value' + ' ' + HIDEICON });\n        }\n        this.inputWrapper.insertBefore(this.valueTemplateContainer, this.inputEle);\n        return this.templateComplier(this.valueTemplate);\n    };\n    DropDownTree.prototype.showOrHideValueTemplate = function (show, showChip) {\n        if (showChip === void 0) { showChip = false; }\n        if (!this.valueTemplateContainer || this.mode === 'Box') {\n            return;\n        }\n        if (show) {\n            removeClass([this.valueTemplateContainer], HIDEICON);\n            addClass([this.inputWrapper], SHOW_CHIP);\n            addClass([this.inputEle], CHIP_INPUT);\n        }\n        else {\n            addClass([this.valueTemplateContainer], HIDEICON);\n            if (!showChip) {\n                removeClass([this.inputWrapper], SHOW_CHIP);\n                removeClass([this.inputEle], CHIP_INPUT);\n            }\n        }\n    };\n    DropDownTree.prototype.updateSelectedValues = function () {\n        var _this = this;\n        this.dataValue = '';\n        var temp;\n        var text;\n        var textValue = '';\n        var selectedData;\n        this.hiddenElement.innerHTML = '';\n        var hiddenInputValue = '';\n        if ((!this.isChipDelete || this.treeSettings.autoCheck) && (this.inputWrapper.contains(this.chipWrapper))) {\n            this.chipCollection.innerHTML = '';\n        }\n        if (!this.isFilteredData) {\n            this.selectedData = [];\n        }\n        if (!isNOU(this.value)) {\n            var compiledString = this.initializeValueTemplate();\n            for (var i = 0, len = this.value.length; i < len; i++) {\n                selectedData = this.getSelectedData(this.value[i]);\n                text = getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n                this.selectedText.push(text);\n                temp = this.selectedText[this.selectedText.length - 1];\n                if (this.selectedText.length > 1) {\n                    this.dataValue += (this.delimiterChar + ' ' + temp);\n                    textValue += (',' + temp);\n                }\n                else {\n                    this.dataValue += temp;\n                    textValue += temp;\n                }\n                if (this.mode !== 'Custom' && this.mode !== 'Delimiter' && (!this.isChipDelete || this.treeSettings.autoCheck) &&\n                    (this.allowMultiSelection || this.showCheckBox)) {\n                    this.setChipValues(temp, this.value[i]);\n                }\n                hiddenInputValue += '<option selected value =\"' + this.value[i] + '\">' +\n                    this.selectedText[this.selectedText.length - 1] + '</option>';\n                if (this.valueTemplate) {\n                    this.getValueTemplateElement(this.value[i], compiledString);\n                }\n            }\n            if (this.hasTemplate && this.portals) {\n                if (this.treeObj.portals) {\n                    this.portals = this.portals.concat(this.treeObj.portals.filter(function (item) {\n                        return !_this.portals.includes(item);\n                    }));\n                }\n                if (this.isReact) {\n                    this.renderReactTemplates(this.reactCallBack);\n                }\n            }\n            if (this.selectedText.length >= 1) {\n                this.setProperties({ text: textValue }, true);\n            }\n            this.hiddenElement.innerHTML = hiddenInputValue;\n            if (this.mode === 'Custom' && (this.allowMultiSelection || this.showCheckBox)) {\n                this.setTagValues();\n            }\n        }\n        var isValid = this.getValidMode();\n        if (this.mode !== 'Custom' && this.mode !== 'Box' && (this.allowMultiSelection || this.showCheckBox) && !isValid) {\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n            }\n            this.showOrHideValueTemplate(true);\n        }\n        Input.setValue(this.dataValue, this.inputEle, this.floatLabelType);\n        if (textValue === '') {\n            this.setProperties({ text: null }, true);\n        }\n        else {\n            this.setProperties({ text: textValue }, true);\n        }\n        if (this.showClearButton && this.inputFocus) {\n            this.showOverAllClear();\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.popupObj) {\n            this.popupObj.refreshPosition();\n        }\n        this.currentText = this.text;\n        this.currentValue = this.value;\n        if (!isNOU(this.value) && this.value.length > 0 && !isNOU(this.currentText)) {\n            this.inputWrapper.setAttribute('aria-label', this.currentText.replace(/,/g, ', '));\n        }\n        else {\n            this.inputWrapper.setAttribute('aria-label', this.getModuleName());\n        }\n    };\n    DropDownTree.prototype.setChipValues = function (text, value) {\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.createChip();\n        }\n        var chip = this.createElement('span', {\n            className: CHIP,\n            attrs: { 'data-value': value }\n        });\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var chipClose = this.createElement('span', { className: CHIP_CLOSE + ' ' + ICONS });\n        if (this.enableHtmlSanitizer) {\n            chipContent.innerText = SanitizeHtmlHelper.sanitize(text);\n        }\n        else {\n            chipContent.innerHTML = text;\n        }\n        chip.appendChild(chipContent);\n        this.chipCollection.appendChild(chip);\n        if (this.showClearButton) {\n            chip.appendChild(chipClose);\n            EventHandler.add(chipClose, 'mousedown', this.removeChip, this);\n        }\n    };\n    DropDownTree.prototype.setTagValues = function () {\n        if (this.value === null || this.text == null) {\n            return;\n        }\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.createChip();\n        }\n        if (!this.inputWrapper.classList.contains(SHOW_CHIP)) {\n            addClass([this.inputWrapper], SHOW_CHIP);\n        }\n        var chip = this.createElement('span', {\n            className: CHIP\n        });\n        if (!this.inputEle.classList.contains(CHIP_INPUT)) {\n            addClass([this.inputEle], CHIP_INPUT);\n        }\n        if (this.chipWrapper.classList.contains(HIDEICON)) {\n            removeClass([this.chipWrapper], HIDEICON);\n            this.showOrHideValueTemplate(false, true);\n        }\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var template = this.customTemplate;\n        var templateId = this.customTemplateId;\n        var templatestring = 'customTemplate';\n        var compiledString = this.templateComplier(template);\n        var tempArr = compiledString({ 'value': this.value, 'text': this.text }, this, templatestring, templateId, this.isStringTemplate, undefined, chipContent);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, chipContent);\n        }\n        chip.appendChild(chipContent);\n        this.chipCollection.appendChild(chip);\n    };\n    DropDownTree.prototype.setSelectAllWrapper = function (state) {\n        if (this.isFirstRender) {\n            return;\n        }\n        if (state && !this.popupEle.contains(this.checkAllParent) && this.showCheckBox) {\n            this.createSelectAllWrapper();\n            this.popupEle.insertBefore(this.checkAllParent, this.popupDiv);\n        }\n        else if (this.popupEle.contains(this.checkAllParent)) {\n            detach(this.checkAllParent);\n            this.checkAllParent = null;\n        }\n    };\n    DropDownTree.prototype.setHeaderTemplate = function () {\n        if (this.header) {\n            this.header.innerHTML = '';\n        }\n        else {\n            this.header = this.createElement('div');\n            addClass([this.header], HEADER);\n        }\n        var compiledString = this.templateComplier(this.headerTemplate);\n        var tempArr = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, undefined, this.header);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, this.header);\n        }\n        this.popupEle.insertBefore(this.header, this.checkAllParent ? this.checkAllParent : this.popupDiv);\n    };\n    DropDownTree.prototype.templateComplier = function (template) {\n        if (template) {\n            try {\n                if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n                else {\n                    return compile(template);\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        return compile(template);\n    };\n    DropDownTree.prototype.setFooterTemplate = function () {\n        if (this.footer) {\n            if (this.isReact && typeof this.footerTemplate === 'function') {\n                this.clearTemplate(['footerTemplate']);\n            }\n            else {\n                this.footer.innerHTML = '';\n            }\n        }\n        else {\n            this.footer = this.createElement('div');\n            addClass([this.footer], FOOTER);\n        }\n        var compiledString = this.templateComplier(this.footerTemplate);\n        var tempArr = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, undefined, this.footer);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, this.footer);\n        }\n        append([this.footer], this.popupEle);\n    };\n    DropDownTree.prototype.clearAll = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        this.resetValue();\n        this.showOverAllClear();\n        if ((this.allowMultiSelection || this.showCheckBox)) {\n            if (this.popupObj) {\n                this.popupObj.refreshPosition();\n            }\n            if (!this.wrapText) {\n                this.updateOverflowWrapper(true);\n            }\n        }\n        if (e) {\n            this.isClearButtonClick = true;\n        }\n        if (!this.changeOnBlur) {\n            this.triggerChangeEvent(e);\n        }\n    };\n    DropDownTree.prototype.removeChip = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        var element = e.target.parentElement;\n        var value = element.getAttribute('data-value');\n        if (this.chipCollection) {\n            if (element) {\n                remove(element);\n            }\n        }\n        this.isChipDelete = true;\n        this.isClearButtonClick = true;\n        this.removeSelectedData(value, true);\n        this.selectedText = [];\n        if (this.allowMultiSelection) {\n            this.treeObj.selectedNodes = this.value.slice();\n            this.updateSelectedValues();\n        }\n        if (this.showCheckBox) {\n            this.treeObj.uncheckAll([value]);\n            this.clearCheckAll();\n            this.setMultiSelect();\n        }\n        this.triggerChangeEvent(e);\n        this.isChipDelete = false;\n        this.ensurePlaceHolder();\n    };\n    DropDownTree.prototype.resetValue = function (isDynamicChange) {\n        if (Array.isArray(this.value) && this.value.length === 0 && this.text == null) {\n            return;\n        }\n        Input.setValue(null, this.inputEle, this.floatLabelType);\n        if (!isDynamicChange) {\n            this.oldValue = this.value;\n            this.setProperties({ value: [] }, true);\n            this.showOrHideValueTemplate(false);\n        }\n        if (isNOU(this.value) || this.value.length === 0) {\n            this.inputWrapper.setAttribute('aria-label', this.getModuleName());\n        }\n        this.dataValue = null;\n        this.setProperties({ text: null }, true);\n        this.selectedData = [];\n        setValue('selectedNodes', [], this.treeObj);\n        this.hiddenElement.innerHTML = '';\n        if (this.showCheckBox) {\n            this.treeObj.uncheckAll();\n            this.setMultiSelect();\n            this.clearCheckAll();\n        }\n        if (this.oldValue === null && !isDynamicChange) {\n            this.removeValue = true;\n        }\n        else if (isDynamicChange) {\n            this.triggerChangeEvent();\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n            this.chipCollection.innerHTML = '';\n            if (!this.wrapText) {\n                this.updateOverflowWrapper(true);\n            }\n            this.ensurePlaceHolder();\n        }\n    };\n    DropDownTree.prototype.clearCheckAll = function () {\n        if (this.showSelectAll && this.value && this.value.length === 0) {\n            this.setLocale(false);\n        }\n    };\n    DropDownTree.prototype.selectAllItems = function (state) {\n        if (this.showCheckBox) {\n            if (state) {\n                this.isCheckAllCalled = true;\n                this.treeObj.checkAll();\n            }\n            else {\n                this.treeObj.uncheckAll();\n            }\n            this.checkSelectAll = state;\n        }\n        else if (this.allowMultiSelection) {\n            if (!state) {\n                this.treeObj.selectedNodes = [];\n            }\n            else {\n                var li = selectAll('li', this.treeObj.element);\n                var id = void 0;\n                var arr = [];\n                for (var i = 0; i < li.length; i++) {\n                    id = li[i].getAttribute('data-uid').toString();\n                    arr.push(id);\n                }\n                this.treeObj.selectedNodes = arr;\n            }\n        }\n        this.updateMode();\n        this.setMultiSelect();\n        if (!this.wrapText) {\n            if (state) {\n                this.updateView();\n            }\n            else {\n                this.updateOverflowWrapper(true);\n            }\n        }\n    };\n    DropDownTree.prototype.updateTreeSettings = function (prop) {\n        if (prop === 'autoCheck') {\n            this.treeObj.autoCheck = this.treeSettings.autoCheck;\n        }\n        else if (prop === 'loadOnDemand') {\n            this.treeObj.loadOnDemand = this.treeSettings.loadOnDemand;\n        }\n        else if (prop === 'expandOn') {\n            this.treeObj.expandOn = this.treeSettings.expandOn;\n            this.treeObj.dataBind();\n            return;\n        }\n        else if (prop === 'checkDisabledChildren') {\n            this.treeObj.checkDisabledChildren = this.treeSettings.checkDisabledChildren;\n        }\n        this.treeObj.dataBind();\n        this.setMultiSelect();\n        this.updateValue(this.value);\n    };\n    DropDownTree.prototype.updateCheckBoxState = function (checkBox) {\n        if (this.hasTemplate) {\n            this.updateTemplate();\n        }\n        if (!this.wrapText) {\n            this.updateOverflowWrapper(false);\n        }\n        this.treeObj.showCheckBox = checkBox;\n        this.treeObj.dataBind();\n        this.isDynamicChange = true;\n        this.setSelectAllWrapper(this.showSelectAll);\n        if (this.showSelectAll) {\n            this.setLocale();\n        }\n        if (this.showCheckBox) {\n            this.updateMode();\n        }\n        this.setMultiSelect();\n        this.isDynamicChange = false;\n    };\n    DropDownTree.prototype.updateTemplate = function () {\n        if (this.popupObj) {\n            this.clearTemplate();\n            this.portals = [];\n            this.popupObj.destroy();\n            if (this.isPopupOpen) {\n                this.hidePopup();\n                this.isFirstRender = true;\n                this.renderPopup();\n            }\n            else {\n                this.isFirstRender = true;\n            }\n        }\n    };\n    DropDownTree.prototype.l10nUpdate = function (actionFailure) {\n        if (this.noRecord) {\n            this.noRecord.innerHTML = '';\n        }\n        else {\n            this.noRecord = this.createElement('div');\n        }\n        if (this.noRecordsTemplate !== 'No Records Found' || this.actionFailureTemplate !== 'The Request Failed') {\n            var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n            var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n            var templatestring = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n            var compiledString = this.templateComplier(template);\n            var tempArr = compiledString({}, this, templatestring, templateId, this.isStringTemplate, undefined, this.noRecord);\n            if (tempArr) {\n                tempArr = Array.prototype.slice.call(tempArr);\n                append(tempArr, this.noRecord);\n            }\n        }\n        else {\n            var l10nLocale = { noRecordsTemplate: 'No Records Found', actionFailureTemplate: 'The Request Failed' };\n            this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            this.noRecord.innerHTML = actionFailure ?\n                this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n        }\n        addClass([this.noRecord], NODATACONTAINER);\n        prepend([this.noRecord], this.popupDiv);\n        if (this.treeObj) {\n            this.treeObj.element.removeAttribute('aria-activedescendant');\n        }\n    };\n    DropDownTree.prototype.updateRecordTemplate = function (action) {\n        if (this.treeItems && this.treeItems.length <= 0) {\n            this.l10nUpdate(action);\n            if (this.hasTemplate) {\n                this.updateTemplate();\n            }\n        }\n    };\n    DropDownTree.prototype.updateOverflowWrapper = function (state) {\n        if (!state) {\n            if (!this.inputWrapper.contains(this.overFlowWrapper)) {\n                this.overFlowWrapper = this.createElement('span', { className: OVERFLOW_VIEW + ' ' + HIDEICON });\n                this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n            }\n        }\n        else if (this.inputWrapper.contains(this.overFlowWrapper) && state) {\n            this.overFlowWrapper.innerHTML = '';\n        }\n    };\n    DropDownTree.prototype.updateMultiSelection = function (state) {\n        if (!this.wrapText) {\n            this.updateOverflowWrapper(false);\n        }\n        this.treeObj.allowMultiSelection = state;\n        this.treeObj.dataBind();\n        this.updateOption();\n        if (this.allowMultiSelection) {\n            this.updateMode();\n        }\n        this.setMultiSelect();\n    };\n    DropDownTree.prototype.updateAllowFiltering = function (state) {\n        if (!this.isFirstRender) {\n            if (state) {\n                this.renderFilter();\n            }\n            else {\n                this.destroyFilter();\n            }\n        }\n    };\n    DropDownTree.prototype.updateFilterPlaceHolder = function () {\n        if (this.filterObj) {\n            this.filterObj.placeholder = this.filterBarPlaceholder;\n            this.filterObj.element.setAttribute('aria-label', this.filterBarPlaceholder);\n        }\n    };\n    DropDownTree.prototype.updateValue = function (value) {\n        this.isDynamicChange = true;\n        if (isNOU(value) || value.length === 0) {\n            this.resetValue(true);\n        }\n        else {\n            this.setTreeValue();\n            if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                this.updateOverflowWrapper(false);\n                this.updateView();\n            }\n        }\n        this.updateHiddenValue();\n        this.isDynamicChange = false;\n    };\n    DropDownTree.prototype.updateText = function (text) {\n        if (isNOU(text)) {\n            this.resetValue();\n        }\n        else {\n            this.setTreeText();\n            if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                this.updateOverflowWrapper(false);\n                this.updateView();\n            }\n        }\n        this.updateHiddenValue();\n    };\n    DropDownTree.prototype.updateModelMode = function () {\n        var validMode = this.allowMultiSelection ? true : (this.showCheckBox ? true : false);\n        if (!validMode) {\n            return;\n        }\n        if (!this.wrapText) {\n            var overFlow = select('.e-overflow:not(.e-input-value)', this.inputWrapper);\n            if (overFlow) {\n                overFlow.innerHTML = '';\n            }\n        }\n        this.updateMode();\n        this.setMultiSelect();\n        if (!this.wrapText && (this.value && this.value.length !== 0)) {\n            this.updateOverFlowView();\n            addClass([this.inputEle], CHIP_INPUT);\n            if (this.mode === 'Box') {\n                removeClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n            }\n            else {\n                addClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n            }\n        }\n    };\n    DropDownTree.prototype.updateOption = function () {\n        if (!this.hiddenElement.hasAttribute('multiple') && (this.allowMultiSelection || this.showCheckBox)) {\n            this.hiddenElement.setAttribute('multiple', '');\n        }\n        else if (this.hiddenElement.hasAttribute('multiple') && (!this.allowMultiSelection && !this.showCheckBox)) {\n            this.hiddenElement.removeAttribute('multiple');\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {DropDownTreeModel} newProp - specifies the newProp value.\n     * @param {DropDownTreeModel} oldProp - specifies the newProp value.\n     * @returns {void}\n     * @private\n     */\n    DropDownTree.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    this.setElementWidth(newProp.width);\n                    if (this.popupObj) {\n                        this.popupObj.element.style.width = this.setWidth();\n                    }\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputEle);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL(this.enableRtl);\n                    break;\n                case 'fields':\n                    this.setFields();\n                    break;\n                case 'readonly':\n                    Input.setReadonly(newProp.readonly, this.inputEle);\n                    break;\n                case 'enabled':\n                    this.setEnable();\n                    break;\n                case 'floatLabelType':\n                    Input.removeFloating(this.inputObj);\n                    Input.addFloating(this.inputEle, newProp.floatLabelType, this.placeholder, this.createElement);\n                    this.ensureClearIconPosition(newProp.floatLabelType);\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp.showClearButton);\n                    break;\n                case 'allowFiltering':\n                    this.updateAllowFiltering(newProp.allowFiltering);\n                    break;\n                case 'filterBarPlaceholder':\n                    this.updateFilterPlaceHolder();\n                    break;\n                case 'value':\n                    this.oldValue = oldProp.value;\n                    this.updateValue(newProp.value);\n                    break;\n                case 'text':\n                    this.updateText(newProp.text);\n                    break;\n                case 'allowMultiSelection':\n                    this.updateMultiSelection(newProp.allowMultiSelection);\n                    break;\n                case 'mode':\n                    if (!this.showCheckBox && !this.allowMultiSelection) {\n                        return;\n                    }\n                    if (this.mode === 'Custom') {\n                        if (this.overFlowWrapper) {\n                            detach(this.overFlowWrapper);\n                        }\n                        if (this.chipWrapper) {\n                            detach(this.chipWrapper);\n                        }\n                        this.setTagValues();\n                    }\n                    else {\n                        if (oldProp.mode === 'Custom') {\n                            this.updateOverflowWrapper(this.wrapText);\n                        }\n                        this.updateModelMode();\n                    }\n                    break;\n                case 'delimiterChar':\n                    if (this.mode === 'Box') {\n                        return;\n                    }\n                    if (this.showCheckBox || this.allowMultiSelection) {\n                        this.setMultiSelect();\n                    }\n                    break;\n                case 'selectAllText':\n                    if (this.showCheckBox && this.showSelectAll) {\n                        this.setLocale();\n                    }\n                    break;\n                case 'unSelectAllText':\n                    if (this.showCheckBox && this.showSelectAll) {\n                        this.setLocale(false);\n                    }\n                    break;\n                case 'showSelectAll':\n                    if (this.showCheckBox) {\n                        this.setSelectAllWrapper(newProp.showSelectAll);\n                        this.updatePopupHeight();\n                    }\n                    break;\n                case 'showCheckBox':\n                    this.updateCheckBoxState(newProp.showCheckBox);\n                    if (!this.wrapText) {\n                        this.updateOverflowWrapper(true);\n                    }\n                    this.updatePopupHeight();\n                    this.updateOption();\n                    break;\n                case 'treeSettings':\n                    for (var _b = 0, _c = Object.keys(newProp.treeSettings); _b < _c.length; _b++) {\n                        var prop_1 = _c[_b];\n                        this.updateTreeSettings(prop_1);\n                    }\n                    break;\n                case 'customTemplate':\n                    if (this.mode !== 'Custom') {\n                        return;\n                    }\n                    this.chipCollection.innerHTML = '';\n                    this.setTagValues();\n                    break;\n                case 'sortOrder':\n                    if (this.hasTemplate) {\n                        this.updateTemplate();\n                    }\n                    this.treeObj.sortOrder = newProp.sortOrder;\n                    this.treeObj.dataBind();\n                    this.updateValue(this.value);\n                    break;\n                case 'showDropDownIcon':\n                    this.updateDropDownIconState(newProp.showDropDownIcon);\n                    break;\n                case 'popupWidth':\n                    if (this.popupObj) {\n                        this.popupObj.element.style.width = this.setWidth();\n                    }\n                    break;\n                case 'popupHeight':\n                    if (this.popupObj) {\n                        this.updatePopupHeight();\n                    }\n                    break;\n                case 'zIndex':\n                    if (this.popupObj) {\n                        this.popupObj.zIndex = newProp.zIndex;\n                        this.popupObj.dataBind();\n                    }\n                    break;\n                case 'headerTemplate':\n                    this.updateTemplate();\n                    break;\n                case 'footerTemplate':\n                    this.updateTemplate();\n                    break;\n                case 'itemTemplate':\n                    this.updateTemplate();\n                    this.treeObj.nodeTemplate = newProp.itemTemplate;\n                    this.treeObj.dataBind();\n                    break;\n                case 'noRecordsTemplate':\n                    this.updateRecordTemplate();\n                    break;\n                case 'actionFailureTemplate':\n                    this.updateRecordTemplate(true);\n                    break;\n                case 'htmlAttributes':\n                    this.setHTMLAttributes();\n                    break;\n                case 'wrapText':\n                    this.updateOverflowWrapper(this.wrapText);\n                    if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                        this.updateView();\n                    }\n                    else {\n                        addClass([this.overFlowWrapper], HIDEICON);\n                        if (this.chipWrapper && this.mode === 'Box') {\n                            removeClass([this.chipWrapper], HIDEICON);\n                        }\n                        else {\n                            removeClass([this.inputWrapper], SHOW_CHIP);\n                            removeClass([this.inputEle], CHIP_INPUT);\n                        }\n                        this.ensurePlaceHolder();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Allows you to clear the selected values from the Dropdown Tree component.\n     *\n     * @method clear\n     * @returns {void}\n     */\n    DropDownTree.prototype.clear = function () {\n        this.clearAll();\n        if (this.inputFocus) {\n            this.onFocusOut();\n        }\n        else {\n            if (this.changeOnBlur) {\n                this.triggerChangeEvent();\n            }\n            this.removeValue = false;\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also, it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownTree.prototype.destroy = function () {\n        this.clearTemplate();\n        this.unWireEvents();\n        this.setCssClass(null, this.cssClass);\n        this.setProperties({ text: null }, true);\n        this.treeObj.destroy();\n        this.destroyFilter();\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n        if (this.element.tagName !== this.getDirective()) {\n            this.inputWrapper.parentElement.insertBefore(this.element, this.inputWrapper);\n        }\n        Input.setValue(null, this.inputEle, this.floatLabelType);\n        detach(this.inputWrapper);\n        detach(this.popupDiv);\n        detach(this.hiddenElement);\n        Input.setRipple(false, [this.inputObj]);\n        this.element.classList.remove('e-input');\n        if (this.showCheckBox || this.allowMultiSelection || (this.value && this.valueTemplateContainer)) {\n            this.element.classList.remove(CHIP_INPUT);\n        }\n        detach(this.inputObj.container);\n        if (this.inputObj.buttons.length) {\n            detach(this.inputObj.buttons[0]);\n        }\n        this.inputObj = null;\n        while (this.hiddenElement.options.length > 0) {\n            this.hiddenElement.remove(0);\n        }\n        this.hiddenElement.innerHTML = '';\n        this.hiddenElement = null;\n        this.inputWrapper.innerHTML = '';\n        this.inputWrapper = null;\n        this.popupDiv = null;\n        this.tree = null;\n        this.popupObj = null;\n        this.treeObj = null;\n        this.overAllClear = null;\n        if (this.chipCollection) {\n            var chipsIcons = selectAll('.e-chips-close', this.chipCollection);\n            for (var _i = 0, chipsIcons_1 = chipsIcons; _i < chipsIcons_1.length; _i++) {\n                var element = chipsIcons_1[_i];\n                EventHandler.remove(element, 'mousedown', this.removeChip);\n            }\n        }\n        this.chipWrapper = null;\n        this.chipCollection = null;\n        this.checkAllParent = null;\n        this.selectAllSpan = null;\n        this.checkBoxElement = null;\n        this.checkWrapper = null;\n        this.popupEle = null;\n        this.header = null;\n        this.footer = null;\n        this.overFlowWrapper = null;\n        this.keyboardModule = null;\n        _super.prototype.destroy.call(this);\n        this.setProperties({ value: [] }, true);\n    };\n    DropDownTree.prototype.destroyFilter = function () {\n        if (this.filterObj) {\n            this.filterObj.destroy();\n            detach(this.filterObj.element);\n            detach(this.filterContainer);\n            this.filterObj = null;\n        }\n    };\n    DropDownTree.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        if (this.isReact) {\n            this.clearTemplate(['headerTemplate', 'footerTemplate', 'itemTemplate', 'actionFailureTemplate',\n                'noRecordsTemplate']);\n        }\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n    };\n    /**\n     * Ensures visibility of the Dropdown Tree item by using item value or item element.\n     * If many Dropdown Tree items are present, and we are in need to find a particular item, then the `ensureVisible` property\n     * helps you to bring the item to visibility by expanding the Dropdown Tree and scrolling to the specific item.\n     *\n     * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element.\n     * @returns {void}\n     */\n    DropDownTree.prototype.ensureVisible = function (item) {\n        this.treeObj.ensureVisible(item);\n    };\n    /**\n     * To get the updated data source of the Dropdown Tree.\n     *\n     * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element\n     * @returns {'{[key: string]: Object }[]'} - returns the updated data source of the Dropdown Tree.\n     */\n    DropDownTree.prototype.getData = function (item) {\n        return this.treeObj.getTreeData(item);\n    };\n    /**\n     * Close the Dropdown tree pop-up.\n     *\n     * @returns {void}\n     */\n    DropDownTree.prototype.hidePopup = function () {\n        var eventArgs = { popup: this.popupObj, cancel: false };\n        this.trigger('close', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.inputWrapper.classList.remove(ICONANIMATION);\n        if (this.popupEle) {\n            addClass([this.popupEle], DDTHIDEICON);\n        }\n        attributes(this.inputEle, { 'aria-expanded': 'false' });\n        if (this.popupObj && this.isPopupOpen) {\n            this.popupObj.hide();\n            if (this.inputFocus) {\n                this.inputWrapper.focus();\n                if (this.allowFiltering) {\n                    addClass([this.inputWrapper], [INPUTFOCUS]);\n                }\n            }\n            if (this.destroyPopupOnHide) {\n                this.isFirstRender = true;\n                this.destroyPopup();\n            }\n        }\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected or deselected.\n     *\n     * @param {boolean} state - Unselects/Selects entire Dropdown Tree items.\n     * @returns {void}\n     *\n     */\n    DropDownTree.prototype.selectAll = function (state) {\n        this.selectAllItems(state);\n    };\n    /**\n     * Opens the popup that displays the Dropdown Tree items.\n     *\n     * @returns {void}\n     */\n    DropDownTree.prototype.showPopup = function () {\n        if (!this.enabled || this.readonly || this.isPopupOpen) {\n            return;\n        }\n        this.renderPopup();\n        this.focusIn();\n    };\n    /**\n     * Return the module name.\n     *\n     * @private\n     * @returns {string} - returns the module name.\n     */\n    DropDownTree.prototype.getModuleName = function () {\n        return 'dropdowntree';\n    };\n    __decorate([\n        Property('The Request Failed')\n    ], DropDownTree.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"allowMultiSelection\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"changeOnBlur\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownTree.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('${value.length} item(s) selected')\n    ], DropDownTree.prototype, \"customTemplate\", void 0);\n    __decorate([\n        Property(',')\n    ], DropDownTree.prototype, \"delimiterChar\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"enabled\", void 0);\n    __decorate([\n        Complex({}, Fields)\n    ], DropDownTree.prototype, \"fields\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], DropDownTree.prototype, \"filterType\", void 0);\n    __decorate([\n        Property('Never')\n    ], DropDownTree.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property({})\n    ], DropDownTree.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('Default')\n    ], DropDownTree.prototype, \"mode\", void 0);\n    __decorate([\n        Property('No Records Found')\n    ], DropDownTree.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('300px')\n    ], DropDownTree.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownTree.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"showSelectAll\", void 0);\n    __decorate([\n        Property('Select All')\n    ], DropDownTree.prototype, \"selectAllText\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"destroyPopupOnHide\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"showDropDownIcon\", void 0);\n    __decorate([\n        Property('None')\n    ], DropDownTree.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"text\", void 0);\n    __decorate([\n        Complex({}, TreeSettings)\n    ], DropDownTree.prototype, \"treeSettings\", void 0);\n    __decorate([\n        Property('Unselect All')\n    ], DropDownTree.prototype, \"unSelectAllText\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownTree.prototype, \"width\", void 0);\n    __decorate([\n        Property(1000)\n    ], DropDownTree.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"wrapText\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"keyPress\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"select\", void 0);\n    DropDownTree = __decorate([\n        NotifyPropertyChanges\n    ], DropDownTree);\n    return DropDownTree;\n}(Component));\nexport { DropDownTree };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-list/drop-down-list-model.d.ts'/>\nimport { EventHandler, Property, Event, addClass, Browser, removeClass, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, NotifyPropertyChanges, getValue, setValue } from '@syncfusion/ej2-base';\nimport { DropDownList, dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { Search } from '../common/incremental-search';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DataManager, Predicate, Query } from '@syncfusion/ej2-data';\nvar SPINNER_CLASS = 'e-atc-spinner-icon';\ndropDownListClasses.root = 'e-combobox';\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The ComboBox component allows the user to type a value or choose an option from the list of predefined options.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n *   let games:ComboBox = new ComboBox();\n *   games.appendTo(\"#list\");\n * ```\n */\nvar ComboBox = /** @class */ (function (_super) {\n    __extends(ComboBox, _super);\n    /**\n     * *Constructor for creating the component\n     *\n     * @param {ComboBoxModel} options - Specifies the ComboBox model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function ComboBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    ComboBox.prototype.getLocaleName = function () {\n        return 'combo-box';\n    };\n    ComboBox.prototype.wireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur, this);\n            EventHandler.add(this.inputWrapper.container, 'blur', this.onBlurHandler, this);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick, this);\n        }\n        EventHandler.add(this.inputElement, 'focus', this.targetFocus, this);\n        if (!this.readonly) {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n            EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n            EventHandler.add(this.inputElement, 'paste', this.pasteHandler, this);\n            EventHandler.add(window, 'resize', this.windowResize, this);\n        }\n        this.bindCommonEvent();\n    };\n    ComboBox.prototype.preventBlur = function (e) {\n        if ((!this.allowFiltering && document.activeElement !== this.inputElement &&\n            !document.activeElement.classList.contains(dropDownListClasses.input) && Browser.isDevice || !Browser.isDevice)) {\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.onBlurHandler = function (e) {\n        var inputValue = this.inputElement && this.inputElement.value === '' ?\n            null : this.inputElement && this.inputElement.value;\n        if (!isNullOrUndefined(this.listData) && !isNullOrUndefined(inputValue) && inputValue !== this.text) {\n            this.customValue(e);\n        }\n        _super.prototype.onBlurHandler.call(this, e);\n    };\n    ComboBox.prototype.targetElement = function () {\n        return this.inputElement;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.setOldText = function (text) {\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.customValue();\n        this.removeSelection();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.setOldValue = function (value) {\n        if (this.allowCustom) {\n            this.selectedLI = this.getElementByValue(this.value);\n            this.valueMuteChange(this.value);\n        }\n        else {\n            this.valueMuteChange(null);\n        }\n        this.removeSelection();\n        this.setHiddenValue();\n    };\n    ComboBox.prototype.valueMuteChange = function (value) {\n        value = this.allowObjectBinding && !isNullOrUndefined(value) ? getValue((this.fields.value) ? this.fields.value : '', value) : value;\n        var inputValue = isNullOrUndefined(value) ? null : value.toString();\n        Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n        var changeData = {};\n        if (this.allowObjectBinding) {\n            value = this.getDataByValue(value);\n            if (isNullOrUndefined(value)) {\n                var fields_1 = this.fields;\n                var isvalidTextField_1 = false;\n                var isValidValue_1 = false;\n                if (this.allowObjectBinding) {\n                    var keys = Object.keys(this.value);\n                    keys.forEach(function (key) {\n                        if (key === fields_1.value) {\n                            isValidValue_1 = true;\n                            return;\n                        }\n                    });\n                    keys.forEach(function (key) {\n                        if (key === fields_1.text) {\n                            isvalidTextField_1 = true;\n                            return;\n                        }\n                    });\n                }\n                changeData = {\n                    text: isValidValue_1 ? isvalidTextField_1 ? getValue(fields_1.text, this.value) : getValue(fields_1.value, this.value) : null,\n                    value: isValidValue_1 ? this.value : null,\n                    index: null\n                };\n            }\n        }\n        if (this.allowObjectBinding) {\n            this.setProperties(changeData, true);\n        }\n        else {\n            this.setProperties({ value: value, text: value ? value.toString() : value, index: null }, true);\n        }\n        this.activeIndex = this.index;\n        var fields = this.fields;\n        var dataItem = {};\n        dataItem[fields.text] = isNullOrUndefined(value) ? null : value.toString();\n        dataItem[fields.value] = isNullOrUndefined(value) ? null : value.toString();\n        this.itemData = dataItem;\n        this.item = null;\n        if ((!this.allowObjectBinding && (this.previousValue !== this.value)) ||\n            (this.allowObjectBinding && this.previousValue && this.value &&\n                !this.isObjectInArray(this.previousValue, [this.value]))) {\n            this.detachChangeEvent(null);\n        }\n    };\n    ComboBox.prototype.updateValues = function () {\n        if (this.fields.disabled) {\n            if (this.value != null) {\n                this.value = !this.isDisableItemValue(this.value) ? this.value : null;\n            }\n            if (this.text != null) {\n                this.text = !this.isDisabledItemByIndex(this.getIndexByValue(this.getValueByText(this.text))) ? this.text : null;\n            }\n            if (this.index != null) {\n                this.index = !this.isDisabledItemByIndex(this.index) ? this.index : null;\n                this.activeIndex = this.index;\n            }\n        }\n        if (!isNullOrUndefined(this.value)) {\n            var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n            var li = this.getElementByValue(currentValue);\n            var doesItemExist = !isNullOrUndefined(li) ? true : false;\n            if (this.enableVirtualization && this.value) {\n                var fields = (this.fields.value) ? this.fields.value : '';\n                var currentValue_1 = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                if (this.dataSource instanceof DataManager) {\n                    var getItem = new DataManager(this.virtualGroupDataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue_1)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        doesItemExist = true;\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding\n                            ? this.getDataByValue(dataItem.value)\n                            : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text)\n                            || (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text ? dataItem.text.toString() : dataItem.text, 'value': value });\n                        }\n                    }\n                }\n                else {\n                    var getItem = new DataManager(this.dataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue_1)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        doesItemExist = true;\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding\n                            ? this.getDataByValue(dataItem.value)\n                            : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text)\n                            || (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text ? dataItem.text.toString() : dataItem.text, 'value': value });\n                        }\n                    }\n                }\n            }\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else if ((!this.enableVirtualization && this.allowCustom) ||\n                (this.allowCustom && this.enableVirtualization && !doesItemExist)) {\n                this.valueMuteChange(this.value);\n            }\n            else if (!this.enableVirtualization || (this.enableVirtualization && !doesItemExist)) {\n                this.valueMuteChange(null);\n            }\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var li = this.getElementByText(this.text);\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else {\n                Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.customValue();\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    ComboBox.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement && this.inputElement.value !== '' && !this.readonly) {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    ComboBox.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'role': 'combobox',\n            'aria-autocomplete': 'both',\n            'aria-labelledby': this.hiddenElement.id,\n            'aria-expanded': 'false',\n            'aria-readonly': this.readonly ? this.readonly.toString() : 'false',\n            'autocomplete': 'off',\n            'autocapitalize': 'off',\n            'spellcheck': 'false'\n        };\n        return ariaAttributes;\n    };\n    ComboBox.prototype.searchLists = function (e) {\n        this.isTyped = true;\n        if (this.isFiltering()) {\n            _super.prototype.searchLists.call(this, e);\n            if (this.ulElement && this.filterInput.value.trim() === '') {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n        }\n        else {\n            if (this.ulElement && this.inputElement.value === '' && this.preventAutoFill) {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n            this.incrementalSearch(e);\n        }\n    };\n    ComboBox.prototype.getNgDirective = function () {\n        return 'EJS-COMBOBOX';\n    };\n    ComboBox.prototype.setSearchBox = function () {\n        this.filterInput = this.inputElement;\n        var searchBoxContainer = (this.isFiltering() || (this.isReact && this.getModuleName() === 'combobox')) ? this.inputWrapper : inputObject;\n        return searchBoxContainer;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        var _this = this;\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.isSelectCustom) {\n            this.removeSelection();\n        }\n        if (!this.preventAutoFill && this.getModuleName() === 'combobox' && this.isTyped && !this.enableVirtualization) {\n            setTimeout(function () {\n                _this.inlineSearch();\n            });\n        }\n    };\n    ComboBox.prototype.getFocusElement = function () {\n        var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n        var selected = !isNullOrUndefined(this.list) ? this.list.querySelector('.' + dropDownListClasses.selected) : this.list;\n        var isSelected = dataItem.text && dataItem.text.toString() === this.inputElement.value && !isNullOrUndefined(selected);\n        if (isSelected) {\n            return selected;\n        }\n        if ((Browser.isDevice && !this.isDropDownClick || !Browser.isDevice) &&\n            !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0) {\n            var inputValue = this.inputElement.value;\n            var dataSource = this.sortedData;\n            var type = this.typeOfData(dataSource).typeof;\n            var activeItem = Search(inputValue, this.liCollections, this.filterType, true, dataSource, this.fields, type);\n            if (this.enableVirtualization && inputValue !== '' && this.getModuleName() !== 'autocomplete' && this.isTyped && !this.allowFiltering) {\n                var updatingincrementalindex = false;\n                var isEndIndexValid = this.viewPortInfo.endIndex >= this.incrementalEndIndex &&\n                    this.incrementalEndIndex <= this.totalItemCount;\n                var isIncrementalEndIndexZero = this.incrementalEndIndex === 0;\n                if (isEndIndexValid || isIncrementalEndIndexZero) {\n                    updatingincrementalindex = true;\n                    this.incrementalStartIndex = this.incrementalEndIndex;\n                    if (isIncrementalEndIndexZero) {\n                        this.incrementalEndIndex = Math.min(100, this.totalItemCount);\n                    }\n                    else {\n                        this.incrementalEndIndex = Math.min(this.incrementalEndIndex + 100, this.totalItemCount);\n                    }\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                }\n                if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                    this.updateIncrementalView(0, this.itemCount);\n                }\n                activeItem = Search(inputValue, this.incrementalLiCollections, this.filterType, true, dataSource, this.fields, type);\n                while (isNullOrUndefined(activeItem.item) && this.incrementalEndIndex < this.totalItemCount) {\n                    this.incrementalStartIndex = this.incrementalEndIndex;\n                    this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount\n                        ? this.totalItemCount\n                        : this.incrementalEndIndex + 100;\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    activeItem = Search(inputValue, this.incrementalLiCollections, this.filterType, true, dataSource, this.fields, type);\n                    if (!isNullOrUndefined(activeItem)) {\n                        activeItem.index = activeItem.index + this.incrementalStartIndex;\n                        break;\n                    }\n                    if (isNullOrUndefined(activeItem) && this.incrementalEndIndex >= this.totalItemCount) {\n                        this.incrementalStartIndex = 0;\n                        this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                        break;\n                    }\n                }\n                var startIndex = activeItem.index - ((this.itemCount / 2) - 2) > 0\n                    ? activeItem.index - ((this.itemCount / 2) - 2)\n                    : 0;\n                var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount\n                    ? this.totalItemCount\n                    : this.viewPortInfo.startIndex + this.itemCount;\n                if (startIndex !== this.viewPortInfo.startIndex) {\n                    this.updateIncrementalView(startIndex, endIndex);\n                }\n                if (!isNullOrUndefined(activeItem.item)) {\n                    var startIndex_1 = this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) < this.totalItemCount\n                        ? this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2)\n                        : this.totalItemCount;\n                    var endIndex_1 = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount\n                        ? this.totalItemCount\n                        : this.viewPortInfo.startIndex + this.itemCount;\n                    this.updateIncrementalView(startIndex_1, endIndex_1);\n                    activeItem.item = this.getElementByValue(activeItem.item.getAttribute('data-value'));\n                }\n                else {\n                    this.updateIncrementalView(0, this.itemCount);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    this.list.scrollTop = 0;\n                }\n                if (activeItem && activeItem.item) {\n                    activeItem.item = this.getElementByValue(activeItem.item.getAttribute('data-value'));\n                }\n            }\n            var activeElement = activeItem.item;\n            if (!isNullOrUndefined(activeElement)) {\n                var count = this.getIndexByValue(activeElement.getAttribute('data-value')) - 1;\n                var height = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue('height'), 10);\n                if (!isNaN(height) && this.getModuleName() !== 'autocomplete') {\n                    this.removeFocus();\n                    var fixedHead = this.fields.groupBy ? this.liCollections[0].offsetHeight : 0;\n                    if (!this.enableVirtualization) {\n                        this.list.scrollTop = count * height + fixedHead;\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var virtualContent = this.list.getElementsByClassName('e-virtual-ddl-content')[0];\n                        virtualContent.style = this.getTransformValues();\n                        if (this.enableVirtualization && !this.fields.groupBy) {\n                            var selectedLiOffsetTop = activeElement.offsetTop;\n                            var virtualListInfoStartIndex = this.virtualListInfo && this.virtualListInfo.startIndex\n                                ? this.virtualListInfo.startIndex\n                                : 0;\n                            var virtualListHeight = activeElement.offsetHeight;\n                            var selectedLiOffsetTopWithStartIndex = selectedLiOffsetTop +\n                                (virtualListInfoStartIndex * virtualListHeight);\n                            var virtualListLength = this.list.querySelectorAll('.e-virtual-list').length;\n                            var scrollTopOffset = virtualListLength * virtualListHeight;\n                            this.list.scrollTop = selectedLiOffsetTopWithStartIndex - scrollTopOffset;\n                        }\n                    }\n                    addClass([activeElement], dropDownListClasses.focus);\n                }\n            }\n            else {\n                if (this.isSelectCustom && this.inputElement.value.trim() !== '') {\n                    this.removeFocus();\n                    if (!this.enableVirtualization) {\n                        this.list.scrollTop = 0;\n                    }\n                }\n            }\n            return activeElement;\n        }\n        else {\n            return null;\n        }\n    };\n    ComboBox.prototype.setValue = function (e) {\n        if ((e && e.type === 'keydown' && e.action === 'enter') || (e && e.type === 'click')) {\n            this.removeFillSelection();\n        }\n        if (this.autofill && this.getModuleName() === 'combobox' && e && e.type === 'keydown' && e.action !== 'enter') {\n            this.preventAutoFill = false;\n            this.inlineSearch(e);\n            return false;\n        }\n        else {\n            return _super.prototype.setValue.call(this, e);\n        }\n    };\n    ComboBox.prototype.checkCustomValue = function () {\n        var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        this.itemData = this.getDataByValue(value);\n        var dataItem = this.getItemData();\n        var setValue = this.allowObjectBinding ? this.itemData : dataItem.value;\n        if (!(this.allowCustom && isNullOrUndefined(dataItem.value) && isNullOrUndefined(dataItem.text))) {\n            this.setProperties({ 'value': setValue }, !this.allowCustom);\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = (this.getModuleName() === 'autocomplete') ? (this.inputWrapper.buttons[0] ||\n                this.inputWrapper.clearButton ||\n                Input.appendSpan('e-input-group-icon ' + SPINNER_CLASS, this.inputWrapper.container, this.createElement)) :\n                (this.inputWrapper.buttons[0] || this.inputWrapper.clearButton);\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    ComboBox.prototype.setAutoFill = function (activeElement, isHover) {\n        if (!isHover) {\n            this.setHoverList(activeElement);\n        }\n        if (this.autofill && !this.preventAutoFill) {\n            var currentValue = this.getTextByValue(activeElement.getAttribute('data-value')).toString();\n            var currentFillValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n            if (this.getModuleName() === 'combobox') {\n                if (!this.isSelected && ((!this.allowObjectBinding && this.previousValue !== currentFillValue)) ||\n                    (this.allowObjectBinding && this.previousValue && currentFillValue &&\n                        !this.isObjectInArray(this.previousValue, [this.getDataByValue(currentFillValue)]))) {\n                    this.updateSelectedItem(activeElement, null);\n                    this.isSelected = true;\n                    this.previousValue = this.allowObjectBinding ?\n                        this.getDataByValue(this.getFormattedValue(activeElement.getAttribute('data-value'))) :\n                        this.getFormattedValue(activeElement.getAttribute('data-value'));\n                }\n                else {\n                    this.updateSelectedItem(activeElement, null, true);\n                }\n            }\n            if (!this.isAndroidAutoFill(currentValue)) {\n                this.setAutoFillSelection(currentValue, isHover);\n            }\n        }\n    };\n    ComboBox.prototype.isAndroidAutoFill = function (value) {\n        if (Browser.isAndroid) {\n            var currentPoints = this.getSelectionPoints();\n            var prevEnd = this.prevSelectPoints.end;\n            var curEnd = currentPoints.end;\n            var prevStart = this.prevSelectPoints.start;\n            var curStart = currentPoints.start;\n            if (prevEnd !== 0 && ((prevEnd === value.length && prevStart === value.length) ||\n                (prevStart > curStart && prevEnd > curEnd) || (prevEnd === curEnd && prevStart === curStart))) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    ComboBox.prototype.clearAll = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clearAll.call(this, e);\n        }\n        if (this.isFiltering() && !isNullOrUndefined(e) && e.target === this.inputWrapper.clearButton) {\n            this.searchLists(e);\n        }\n    };\n    ComboBox.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    ComboBox.prototype.inlineSearch = function (e) {\n        var isKeyNavigate = (e && (e.action === 'down' || e.action === 'up' ||\n            e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown'));\n        var activeElement = isKeyNavigate ? this.liCollections[this.activeIndex] : this.getFocusElement();\n        if (!isNullOrUndefined(activeElement)) {\n            if (!isKeyNavigate) {\n                var value = this.getFormattedValue(activeElement.getAttribute('data-value'));\n                this.activeIndex = this.getIndexByValue(value);\n                this.activeIndex = !isNullOrUndefined(this.activeIndex) ? this.activeIndex : null;\n            }\n            this.preventAutoFill = this.inputElement.value === '' ? false : this.preventAutoFill;\n            this.setAutoFill(activeElement, isKeyNavigate);\n        }\n        else if (!isNullOrUndefined(this.inputElement) && this.inputElement.value === '') {\n            this.activeIndex = null;\n            if (!isNullOrUndefined(this.list)) {\n                if (!this.enableVirtualization) {\n                    this.list.scrollTop = 0;\n                }\n                var focusItem = this.list.querySelector('.' + dropDownListClasses.li);\n                this.setHoverList(focusItem);\n            }\n        }\n        else {\n            this.activeIndex = null;\n            this.removeSelection();\n            if (this.liCollections && this.liCollections.length > 0 && !this.isCustomFilter) {\n                this.removeFocus();\n            }\n        }\n    };\n    ComboBox.prototype.incrementalSearch = function (e) {\n        this.showPopup(e);\n        if (!isNullOrUndefined(this.listData)) {\n            this.inlineSearch(e);\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.setAutoFillSelection = function (currentValue, isKeyNavigate) {\n        if (isKeyNavigate === void 0) { isKeyNavigate = false; }\n        var selection = this.getSelectionPoints();\n        var value = this.inputElement.value.substr(0, selection.start);\n        if (value && (value.toLowerCase() === currentValue.substr(0, selection.start).toLowerCase())) {\n            var inputValue = value + currentValue.substr(value.length, currentValue.length);\n            Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(selection.start, this.inputElement.value.length);\n        }\n        else if (isKeyNavigate) {\n            Input.setValue(currentValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n        }\n    };\n    ComboBox.prototype.getValueByText = function (text) {\n        return _super.prototype.getValueByText.call(this, text, true, this.ignoreAccent);\n    };\n    ComboBox.prototype.unWireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur);\n            EventHandler.remove(this.inputWrapper.container, 'blur', this.onBlurHandler);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick);\n        }\n        if (this.inputElement) {\n            EventHandler.remove(this.inputElement, 'focus', this.targetFocus);\n            if (!this.readonly) {\n                EventHandler.remove(this.inputElement, 'input', this.onInput);\n                EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                EventHandler.remove(this.inputElement, 'paste', this.pasteHandler);\n                EventHandler.remove(window, 'resize', this.windowResize);\n            }\n        }\n        this.unBindCommonEvent();\n    };\n    ComboBox.prototype.setSelection = function (li, e) {\n        _super.prototype.setSelection.call(this, li, e);\n        if (!isNullOrUndefined(li) && !this.autofill && !this.isDropDownClick) {\n            this.removeFocus();\n        }\n    };\n    ComboBox.prototype.selectCurrentItem = function (e) {\n        var li;\n        if (this.isPopupOpen) {\n            if (this.isSelected) {\n                li = this.list.querySelector('.' + dropDownListClasses.selected);\n            }\n            else {\n                li = this.list.querySelector('.' + dropDownListClasses.focus);\n            }\n            if (this.isDisabledElement(li)) {\n                return;\n            }\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n        }\n        if (e.action === 'enter' && this.inputElement.value.trim() === '') {\n            this.clearAll(e);\n        }\n        else if (this.isTyped && !this.isSelected && isNullOrUndefined(li)) {\n            this.customValue(e);\n        }\n        this.hidePopup(e);\n    };\n    ComboBox.prototype.setHoverList = function (li) {\n        this.removeSelection();\n        if (this.isValidLI(li) && !li.classList.contains(dropDownListClasses.selected)) {\n            this.removeFocus();\n            li.classList.add(dropDownListClasses.focus);\n        }\n    };\n    ComboBox.prototype.targetFocus = function (e) {\n        if (Browser.isDevice && !this.allowFiltering) {\n            this.preventFocus = false;\n        }\n        this.onFocus(e);\n        Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n    };\n    ComboBox.prototype.dropDownClick = function (e) {\n        e.preventDefault();\n        if (Browser.isDevice && !this.isFiltering()) {\n            this.preventFocus = true;\n        }\n        _super.prototype.dropDownClick.call(this, e);\n    };\n    ComboBox.prototype.customValue = function (e) {\n        var _this = this;\n        var value = this.getValueByText(this.inputElement.value);\n        if (!this.allowCustom && this.inputElement.value !== '') {\n            var previousValue = this.previousValue;\n            var currentValue = this.value;\n            value = this.allowObjectBinding ? this.getDataByValue(value) : value;\n            this.setProperties({ value: value });\n            if (isNullOrUndefined(this.value)) {\n                Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n            if (this.autofill && ((!this.allowObjectBinding && previousValue === this.value) ||\n                (this.allowObjectBinding && previousValue && this.isObjectInArray(previousValue, [this.value]))) && ((!this.allowObjectBinding && currentValue !== this.value) ||\n                (this.allowObjectBinding && currentValue && !this.isObjectInArray(currentValue, [this.value])))) {\n                this.onChangeEvent(null);\n            }\n        }\n        else if (this.inputElement.value.trim() !== '') {\n            var previousValue_1 = this.value;\n            if (isNullOrUndefined(value)) {\n                var value_1 = this.inputElement.value === '' ? null : this.inputElement.value;\n                // eslint-disable-next-line max-len\n                var eventArgs = { text: value_1, item: {} };\n                this.isObjectCustomValue = true;\n                if (!this.initial) {\n                    this.trigger('customValueSpecifier', eventArgs, function (eventArgs) {\n                        _this.updateCustomValueCallback(value_1, eventArgs, previousValue_1, e);\n                    });\n                }\n                else {\n                    this.updateCustomValueCallback(value_1, eventArgs, previousValue_1);\n                }\n            }\n            else {\n                this.isSelectCustom = false;\n                value = this.allowObjectBinding ? this.getDataByValue(value) : value;\n                this.setProperties({ value: value });\n                if ((!this.allowObjectBinding && previousValue_1 !== this.value) ||\n                    (this.allowObjectBinding && previousValue_1 && this.value && !this.isObjectInArray(previousValue_1, [this.value]))) {\n                    this.onChangeEvent(e);\n                }\n            }\n        }\n        else if (this.allowCustom && this.isFocused) {\n            this.isSelectCustom = true;\n        }\n    };\n    ComboBox.prototype.updateCustomValueCallback = function (value, eventArgs, previousValue, e) {\n        var _this = this;\n        var fields = this.fields;\n        var item = eventArgs.item;\n        var dataItem = {};\n        if (item && getValue(fields.text, item) && getValue(fields.value, item)) {\n            dataItem = item;\n        }\n        else {\n            setValue(fields.text, value, dataItem);\n            setValue(fields.value, value, dataItem);\n        }\n        this.itemData = dataItem;\n        var emptyObject = {};\n        if (this.allowObjectBinding) {\n            var keys = this.listData && this.listData.length > 0 ? Object.keys(this.listData[0]) : Object.keys(this.itemData);\n            if ((!(this.listData && this.listData.length > 0)) && (this.getModuleName() === 'autocomplete' || (this.getModuleName() === 'combobox' && this.allowFiltering))) {\n                keys = this.firstItem ? Object.keys(this.firstItem) : Object.keys(this.itemData);\n            }\n            // Create an empty object with predefined keys\n            keys.forEach(function (key) {\n                emptyObject[key] = ((key === fields.value) || (key === fields.text)) ? getValue(fields.value, _this.itemData) : null;\n            });\n        }\n        var changeData = {\n            text: getValue(fields.text, this.itemData),\n            value: this.allowObjectBinding ? emptyObject : getValue(fields.value, this.itemData),\n            index: null\n        };\n        this.setProperties(changeData, true);\n        this.setSelection(null, null);\n        this.isSelectCustom = true;\n        this.isObjectCustomValue = false;\n        if ((!this.allowObjectBinding && (previousValue !== this.value)) ||\n            (this.allowObjectBinding && ((previousValue == null && this.value !== null) ||\n                (previousValue && !this.isObjectInArray(previousValue, [this.value]))))) {\n            this.onChangeEvent(e, true);\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {ComboBoxModel} newProp - Returns the dynamic property value of the component.\n     * @param {ComboBoxModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'combobox') {\n            this.checkData(newProp);\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp, oldProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    if (this.readonly) {\n                        EventHandler.remove(this.inputElement, 'input', this.onInput);\n                        EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                        EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                    }\n                    else {\n                        EventHandler.add(this.inputElement, 'input', this.onInput, this);\n                        EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n                        EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n                    }\n                    this.setReadOnly();\n                    break;\n                case 'allowFiltering':\n                    this.setSearchBox();\n                    if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                case 'allowCustom':\n                    break;\n                default: {\n                    // eslint-disable-next-line max-len\n                    var comboProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, comboProps.newProperty, comboProps.oldProperty);\n                    if (this.isFiltering() && prop === 'dataSource' && isNullOrUndefined(this.list) && this.itemTemplate &&\n                        this.getModuleName() === 'combobox') {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                }\n            }\n        }\n    };\n    /**\n     * To initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.render = function () {\n        _super.prototype.render.call(this);\n        this.setSearchBox();\n        this.renderComplete();\n        this.autoFill = this.autofill;\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    ComboBox.prototype.getModuleName = function () {\n        return 'combobox';\n    };\n    /**\n     * Adds a new item to the combobox popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.filter = function (dataSource, query, fields) {\n        _super.prototype.filter.call(this, dataSource, query, fields);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.showPopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        _super.prototype.showPopup.call(this, e);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in open state.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.hidePopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        var inputValue = this.inputElement && this.inputElement.value === '' ? null\n            : this.inputElement && this.inputElement.value;\n        if (!isNullOrUndefined(this.listData)) {\n            var isEscape = this.isEscapeKey;\n            if (this.isEscapeKey) {\n                Input.setValue(this.typedString, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.isEscapeKey = false;\n            }\n            if (this.autofill) {\n                this.removeFillSelection();\n            }\n            var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n            var selected = !isNullOrUndefined(this.list) ? this.list.querySelector('.' + dropDownListClasses.selected) : null;\n            if (this.inputElement && dataItem.text === this.inputElement.value && !isNullOrUndefined(selected)) {\n                if (this.isSelected) {\n                    this.onChangeEvent(e);\n                    this.isSelectCustom = false;\n                }\n                _super.prototype.hidePopup.call(this, e);\n                return;\n            }\n            if (this.getModuleName() === 'combobox' && this.inputElement.value.trim() !== '') {\n                var dataSource = this.sortedData;\n                var type = this.typeOfData(dataSource).typeof;\n                var searchItem = Search(this.inputElement.value, this.liCollections, 'Equal', true, dataSource, this.fields, type);\n                this.selectedLI = searchItem.item;\n                if (isNullOrUndefined(searchItem.index)) {\n                    searchItem.index = Search(this.inputElement.value, this.liCollections, 'StartsWith', true, dataSource, this.fields, type).index;\n                }\n                this.activeIndex = searchItem.index;\n                if (!isNullOrUndefined(this.selectedLI)) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                }\n                else if (isEscape) {\n                    this.isSelectCustom = true;\n                    this.removeSelection();\n                }\n            }\n            if (!this.isEscapeKey && this.isTyped && !this.isInteracted) {\n                this.customValue(e);\n            }\n        }\n        var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        if (isNullOrUndefined(this.listData) && this.allowCustom && !isNullOrUndefined(inputValue) && inputValue !== value) {\n            this.customValue();\n        }\n        _super.prototype.hidePopup.call(this, e);\n    };\n    /**\n     * Sets the focus to the component for interaction.\n     *\n     * @returns {void}\n     */\n    ComboBox.prototype.focusIn = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (Browser.isDevice && !this.isFiltering()) {\n            this.preventFocus = true;\n        }\n        _super.prototype.focusIn.call(this);\n    };\n    /**\n     * Allows you to clear the selected values from the component.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.clear = function () {\n        this.value = null;\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Moves the focus from the component if the component is already focused.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.focusOut = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        _super.prototype.focusOut.call(this, e);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     * @deprecated\n     */\n    ComboBox.prototype.getItems = function () {\n        return _super.prototype.getItems.call(this);\n    };\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     * @deprecated\n     */\n    ComboBox.prototype.getDataByValue = function (value) {\n        return _super.prototype.getDataByValue.call(this, value);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    ComboBox.prototype.renderHightSearch = function () {\n        // update high light search\n    };\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"autofill\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"allowCustom\", void 0);\n    __decorate([\n        Property({})\n    ], ComboBox.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"isDeviceFullScreen\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"index\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"customValueSpecifier\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property('Never')\n    ], ComboBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('100%')\n    ], ComboBox.prototype, \"width\", void 0);\n    __decorate([\n        Property('300px')\n    ], ComboBox.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], ComboBox.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"allowObjectBinding\", void 0);\n    ComboBox = __decorate([\n        NotifyPropertyChanges\n    ], ComboBox);\n    return ComboBox;\n}(DropDownList));\nexport { ComboBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../combo-box/combo-box-model.d.ts'/>\nimport { Property, EventHandler, isNullOrUndefined, detach, getValue } from '@syncfusion/ej2-base';\nimport { Event, Complex } from '@syncfusion/ej2-base';\nimport { removeClass, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { ComboBox } from '../combo-box/combo-box';\nimport { highlightSearch, revertHighlightSearch } from '../common/highlight-search';\nimport { Search } from '../common/incremental-search';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DataManager, Predicate, Query } from '@syncfusion/ej2-data';\ndropDownListClasses.root = 'e-autocomplete';\ndropDownListClasses.icon = 'e-input-group-icon e-ddl-icon e-search-icon';\n/**\n * The AutoComplete component provides the matched suggestion list when type into the input,\n * from which the user can select one.\n * ```html\n * <input id=\"list\" type=\"text\"/>\n * ```\n * ```typescript\n *   let atcObj:AutoComplete = new AutoComplete();\n *   atcObj.appendTo(\"#list\");\n * ```\n */\nvar AutoComplete = /** @class */ (function (_super) {\n    __extends(AutoComplete, _super);\n    /**\n     * * Constructor for creating the widget\n     *\n     * @param {AutoCompleteModel} options - Specifies the AutoComplete model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function AutoComplete(options, element) {\n        var _this_1 = _super.call(this, options, element) || this;\n        _this_1.isFiltered = false;\n        _this_1.searchList = false;\n        return _this_1;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    AutoComplete.prototype.getLocaleName = function () {\n        return 'auto-complete';\n    };\n    AutoComplete.prototype.getNgDirective = function () {\n        return 'EJS-AUTOCOMPLETE';\n    };\n    AutoComplete.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        var filterType = (this.queryString === '' && !isNullOrUndefined(value)) ? 'equal' : this.filterType;\n        var queryString = (this.queryString === '' && !isNullOrUndefined(value)) ? value : this.queryString;\n        if (this.isFiltered) {\n            if ((this.enableVirtualization && !isNullOrUndefined(this.customFilterQuery))) {\n                filterQuery = this.customFilterQuery.clone();\n            }\n            else if (!this.enableVirtualization) {\n                return filterQuery;\n            }\n        }\n        if (this.queryString !== null && this.queryString !== '') {\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var mapping = !isNullOrUndefined(this.fields.value) ? this.fields.value : '';\n                filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        if (!isNullOrUndefined(this.suggestionCount) && !this.enableVirtualization) {\n            // Since default value of suggestioncount is 20, checked the condition\n            if (this.suggestionCount !== 20) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        filterQuery.queries.splice(queryElements, 1);\n                    }\n                }\n            }\n            filterQuery.take(this.suggestionCount);\n        }\n        if (this.enableVirtualization) {\n            var queryTakeValue = 0;\n            var querySkipValue = 0;\n            var takeValue = this.getTakeValue();\n            if (filterQuery && filterQuery.queries.length > 0) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                        querySkipValue = filterQuery.queries[queryElements].e.nos;\n                    }\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        queryTakeValue = takeValue <= filterQuery.queries[queryElements].e.nos\n                            ? filterQuery.queries[queryElements].e.nos\n                            : takeValue;\n                    }\n                }\n            }\n            if (queryTakeValue <= 0 && this.query && this.query.queries.length > 0) {\n                for (var queryElements = 0; queryElements < this.query.queries.length; queryElements++) {\n                    if (this.query.queries[queryElements].fn === 'onTake') {\n                        var currentTakeValue = this.query.queries[queryElements].e.nos;\n                        queryTakeValue = takeValue <= currentTakeValue ? currentTakeValue : takeValue;\n                    }\n                }\n            }\n            if (filterQuery && filterQuery.queries.length > 0) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                        querySkipValue = filterQuery.queries[queryElements].e.nos;\n                        filterQuery.queries.splice(queryElements, 1);\n                        --queryElements;\n                        continue;\n                    }\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        var currentQueryTakeValue = filterQuery.queries[queryElements].e.nos;\n                        queryTakeValue = currentQueryTakeValue <= queryTakeValue ? queryTakeValue : currentQueryTakeValue;\n                        filterQuery.queries.splice(queryElements, 1);\n                        --queryElements;\n                    }\n                }\n            }\n            if (querySkipValue > 0 && this.virtualItemStartIndex <= querySkipValue) {\n                filterQuery.skip(querySkipValue);\n            }\n            else {\n                filterQuery.skip(this.virtualItemStartIndex);\n            }\n            if (queryTakeValue > 0 && takeValue <= queryTakeValue) {\n                filterQuery.take(queryTakeValue);\n            }\n            else {\n                filterQuery.take(takeValue);\n            }\n            filterQuery.requiresCount();\n        }\n        return filterQuery;\n    };\n    AutoComplete.prototype.searchLists = function (e) {\n        var _this_1 = this;\n        this.isTyped = true;\n        this.isDataFetched = this.isSelectCustom = false;\n        this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n        this.checkAndResetCache();\n        if (isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this, e, true);\n        }\n        this.queryString = this.filterInput.value;\n        if (e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38)) {\n            this.queryString = this.queryString === '' ? null : this.queryString;\n            this.beforePopupOpen = true;\n            this.resetList(this.dataSource, this.fields, null, e);\n            return;\n        }\n        this.isSelected = false;\n        this.activeIndex = null;\n        this.isRequesting = false;\n        var eventArgs = {\n            preventDefaultAction: false,\n            text: this.filterInput.value,\n            updateData: function (dataSource, query, fields) {\n                if (eventArgs.cancel) {\n                    return;\n                }\n                _this_1.isFiltered = true;\n                _this_1.customFilterQuery = query;\n                _this_1.filterAction(dataSource, query, fields);\n            },\n            cancel: false\n        };\n        this.trigger('filtering', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && !_this_1.isFiltered && !eventArgs.preventDefaultAction) {\n                _this_1.searchList = true;\n                _this_1.filterAction(_this_1.dataSource, null, _this_1.fields, e);\n            }\n        });\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     * @deprecated\n     */\n    AutoComplete.prototype.filter = function (dataSource, query, fields) {\n        this.isFiltered = true;\n        this.filterAction(dataSource, query, fields);\n    };\n    AutoComplete.prototype.filterAction = function (dataSource, query, fields, e) {\n        this.beforePopupOpen = true;\n        var isNoDataElement = this.list.classList.contains('e-nodata');\n        if (this.queryString !== '' && (this.queryString.length >= this.minLength)) {\n            if (this.enableVirtualization && this.isFiltering() && this.isTyped) {\n                this.isPreventScrollAction = true;\n                this.list.scrollTop = 0;\n                this.previousStartIndex = 0;\n                this.virtualListInfo = null;\n            }\n            this.resetList(dataSource, fields, query, e);\n            isNoDataElement = this.list.classList.contains('e-nodata');\n            if (this.enableVirtualization && !isNoDataElement) {\n                if (!this.list.querySelector('.e-virtual-ddl-content') && this.list.querySelector('.e-list-parent')) {\n                    var virtualElement = this.createElement('div', {\n                        className: 'e-virtual-ddl-content',\n                        styles: this.getTransformValues()\n                    });\n                    this.list.appendChild(virtualElement).appendChild(this.list.querySelector('.e-list-parent'));\n                }\n                if (!this.list.querySelector('.e-virtual-ddl') && document.getElementsByClassName('e-popup') && document.getElementsByClassName('e-popup')[0]) {\n                    var virtualElement = this.createElement('div', {\n                        id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                    });\n                    document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virtualElement);\n                }\n            }\n            if ((this.getModuleName() === 'autocomplete' && !(this.dataSource instanceof DataManager)) || (this.getModuleName() === 'autocomplete' && (this.dataSource instanceof DataManager) && this.totalItemCount !== 0)) {\n                this.getFilteringSkeletonCount();\n            }\n        }\n        else {\n            this.hidePopup(e);\n            this.beforePopupOpen = false;\n        }\n        this.renderReactTemplates();\n    };\n    AutoComplete.prototype.clearAll = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clearAll.call(this, e);\n            this.checkAndResetCache();\n        }\n        if (this.beforePopupOpen) {\n            this.hidePopup();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    AutoComplete.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        if (!this.enableVirtualization) {\n            this.fixedHeaderElement = null;\n        }\n        if ((this.getModuleName() === 'autocomplete' && !(this.dataSource instanceof DataManager)) || (this.getModuleName() === 'autocomplete' && (this.dataSource instanceof DataManager) && this.totalItemCount !== 0)) {\n            this.getFilteringSkeletonCount();\n        }\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        var item = this.list.querySelector('.' + dropDownListClasses.li);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], dropDownListClasses.focus);\n        }\n        this.postBackAction();\n    };\n    AutoComplete.prototype.postBackAction = function () {\n        if (this.autofill && !isNullOrUndefined(this.liCollections[0]) && this.searchList) {\n            var items = [this.liCollections[0]];\n            var dataSource = this.listData;\n            var type = this.typeOfData(dataSource).typeof;\n            var searchItem = Search(this.inputElement.value, items, 'StartsWith', this.ignoreCase, dataSource, this.fields, type);\n            this.searchList = false;\n            if (!isNullOrUndefined(searchItem.item)) {\n                _super.prototype.setAutoFill.call(this, this.liCollections[0], true);\n            }\n        }\n    };\n    AutoComplete.prototype.setSelection = function (li, e) {\n        if (!this.isValidLI(li)) {\n            this.selectedLI = li;\n            return;\n        }\n        if (!isNullOrUndefined(e) && e.type === 'keydown' && e.action !== 'enter'\n            && e.action !== 'tab' && this.isValidLI(li)) {\n            var value = this.getFormattedValue(li.getAttribute('data-value'));\n            this.activeIndex = this.getIndexByValue(value);\n            this.setHoverList(li);\n            this.selectedLI = li;\n            this.setScrollPosition(e);\n            if (this.autofill && this.isPopupOpen) {\n                this.preventAutoFill = false;\n                var isKeyNavigate = (e && e.action === 'down' || e.action === 'up' ||\n                    e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown');\n                _super.prototype.setAutoFill.call(this, li, isKeyNavigate);\n            }\n        }\n        else {\n            _super.prototype.setSelection.call(this, li, e);\n            this.isFiltered = false;\n        }\n    };\n    AutoComplete.prototype.listOption = function (dataSource, fieldsSettings) {\n        var _this_1 = this;\n        var fields = _super.prototype.listOption.call(this, dataSource, fieldsSettings);\n        if (isNullOrUndefined(fields.itemCreated)) {\n            fields.itemCreated = function (e) {\n                if (_this_1.highlight) {\n                    if (_this_1.element.tagName === _this_1.getNgDirective() && _this_1.itemTemplate) {\n                        setTimeout(function () {\n                            highlightSearch(e.item, _this_1.queryString, _this_1.ignoreCase, _this_1.filterType);\n                        }, 0);\n                    }\n                    else {\n                        highlightSearch(e.item, _this_1.queryString, _this_1.ignoreCase, _this_1.filterType);\n                    }\n                }\n            };\n        }\n        else {\n            var itemCreated_1 = fields.itemCreated;\n            fields.itemCreated = function (e) {\n                if (_this_1.highlight) {\n                    highlightSearch(e.item, _this_1.queryString, _this_1.ignoreCase, _this_1.filterType);\n                }\n                itemCreated_1.apply(_this_1, [e]);\n            };\n        }\n        return fields;\n    };\n    AutoComplete.prototype.isFiltering = function () {\n        return true;\n    };\n    AutoComplete.prototype.renderPopup = function (e) {\n        if (!this.enableVirtualization) {\n            this.list.scrollTop = 0;\n        }\n        _super.prototype.renderPopup.call(this, e);\n    };\n    AutoComplete.prototype.isEditTextBox = function () {\n        return false;\n    };\n    AutoComplete.prototype.isPopupButton = function () {\n        return this.showPopupButton;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    AutoComplete.prototype.isSelectFocusItem = function (element) {\n        return false;\n    };\n    AutoComplete.prototype.setInputValue = function (newProp, oldProp) {\n        var oldValue = oldProp && oldProp.text ? oldProp.text : oldProp ? oldProp.value : oldProp;\n        var value = newProp && newProp.text\n            ? newProp.text\n            : newProp && newProp.value\n                ? newProp.value\n                : this.value;\n        if (this.allowObjectBinding) {\n            oldValue = !isNullOrUndefined(oldValue)\n                ? getValue((this.fields.value) ? this.fields.value : '', oldValue)\n                : oldValue;\n            value = !isNullOrUndefined(value)\n                ? getValue((this.fields.value) ? this.fields.value : '', value)\n                : value;\n        }\n        if (value && this.typedString === '' && !this.allowCustom && !(this.dataSource instanceof DataManager)) {\n            var checkFields1_1 = this.typeOfData(this.dataSource).typeof === 'string' ? '' : this.fields.value;\n            var listLength_1 = this.getItems().length;\n            var query = new Query();\n            // eslint-disable-next-line @typescript-eslint/tslint/config\n            var _this_2 = null || this;\n            new DataManager(this.dataSource).executeQuery(query.where(new Predicate(checkFields1_1, 'equal', value)))\n                .then(function (e) {\n                if (e.result.length > 0) {\n                    _this_2.value = checkFields1_1 !== '' ? _this_2.allowObjectBinding ? e.result[0] : e.result[0][_this_2.fields.value].toString() : e.result[0].toString();\n                    _this_2.addItem(e.result, listLength_1);\n                    _this_2.updateValues();\n                }\n                else {\n                    if (newProp && newProp.text) {\n                        _this_2.setOldText(oldValue);\n                    }\n                    else if (newProp && newProp.value) {\n                        _this_2.setOldValue(oldValue);\n                    }\n                    else {\n                        _this_2.updateValues();\n                    }\n                }\n            });\n        }\n        else if (newProp) {\n            if (newProp.text) {\n                this.setOldText(oldValue);\n            }\n            else {\n                this.setOldValue(oldValue);\n            }\n        }\n    };\n    /**\n     * Search the entered text and show it in the suggestion list if available.\n     *\n     * @param {MouseEvent | KeyboardEventArgs | TouchEvent} e - The event object.\n     * @returns {void}\n     * @deprecated\n     */\n    AutoComplete.prototype.showPopup = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        this.preventAutoFill = true;\n        if (isNullOrUndefined(this.list)) {\n            this.renderList(e);\n        }\n        else {\n            this.resetList(this.dataSource, this.fields, null, e);\n        }\n    };\n    /**\n     * Hides the popup if it is in open state.\n     *\n     * @param {MouseEvent | KeyboardEventArgs | TouchEvent} e - The event object.\n     * @returns {void}\n     */\n    AutoComplete.prototype.hidePopup = function (e) {\n        _super.prototype.hidePopup.call(this, e);\n        this.activeIndex = null;\n        this.virtualListInfo = this.viewPortInfo;\n        this.previousStartIndex = this.viewPortInfo.startIndex;\n        this.startIndex = this.viewPortInfo.startIndex;\n        this.previousEndIndex = this.viewPortInfo.endIndex;\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {AutoCompleteModel} newProp - Returns the dynamic property value of the component.\n     * @param {AutoCompleteModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'autocomplete') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'showPopupButton':\n                    if (this.showPopupButton) {\n                        var button = Input.appendSpan(dropDownListClasses.icon, this.inputWrapper.container, this.createElement);\n                        this.inputWrapper.buttons[0] = button;\n                        Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n                        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                        }\n                        if (this.inputWrapper && this.inputWrapper.buttons && this.inputWrapper.buttons[0]) {\n                            EventHandler.add(this.inputWrapper.buttons[0], 'click', this.dropDownClick, this);\n                        }\n                    }\n                    else {\n                        detach(this.inputWrapper.buttons[0]);\n                        this.inputWrapper.buttons[0] = null;\n                    }\n                    break;\n                default: {\n                    // eslint-disable-next-line max-len\n                    var atcProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, atcProps.newProperty, atcProps.oldProperty);\n                    break;\n                }\n            }\n        }\n    };\n    AutoComplete.prototype.renderHightSearch = function () {\n        if (this.highlight) {\n            for (var i = 0; i < this.liCollections.length; i++) {\n                var isHighlight = this.ulElement.querySelector('.e-active');\n                if (!isHighlight) {\n                    revertHighlightSearch(this.liCollections[i]);\n                    highlightSearch(this.liCollections[i], this.queryString, this.ignoreCase, this.filterType);\n                }\n                isHighlight = null;\n            }\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    AutoComplete.prototype.getModuleName = function () {\n        return 'autocomplete';\n    };\n    /**\n     * To initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.render = function () {\n        _super.prototype.render.call(this);\n    };\n    __decorate([\n        Complex({ value: null, iconCss: null, groupBy: null, disabled: null }, FieldSettings)\n    ], AutoComplete.prototype, \"fields\", void 0);\n    __decorate([\n        Property(true)\n    ], AutoComplete.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"showPopupButton\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"highlight\", void 0);\n    __decorate([\n        Property(20)\n    ], AutoComplete.prototype, \"suggestionCount\", void 0);\n    __decorate([\n        Property({})\n    ], AutoComplete.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"query\", void 0);\n    __decorate([\n        Property(1)\n    ], AutoComplete.prototype, \"minLength\", void 0);\n    __decorate([\n        Property('Contains')\n    ], AutoComplete.prototype, \"filterType\", void 0);\n    __decorate([\n        Event()\n    ], AutoComplete.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"index\", void 0);\n    __decorate([\n        Property('Never')\n    ], AutoComplete.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"text\", void 0);\n    AutoComplete = __decorate([\n        NotifyPropertyChanges\n    ], AutoComplete);\n    return AutoComplete;\n}(ComboBox));\nexport { AutoComplete };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\nimport { isCollide, Popup, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { attributes, setValue, getValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, extend } from '@syncfusion/ej2-base';\nimport { EventHandler, Property, Event, compile, L10n } from '@syncfusion/ej2-base';\nimport { Animation, Browser, prepend, Complex } from '@syncfusion/ej2-base';\nimport { Search } from '../common/incremental-search';\nimport { append, addClass, removeClass, closest, detach, remove, select, selectAll } from '@syncfusion/ej2-base';\nimport { getUniqueID, formatUnit, isNullOrUndefined, isUndefined } from '@syncfusion/ej2-base';\nimport { DataManager, Query, Predicate, JsonAdaptor } from '@syncfusion/ej2-data';\nimport { createFloatLabel, removeFloating, floatLabelFocus, floatLabelBlur, encodePlaceholder } from './float-label';\nvar FOCUS = 'e-input-focus';\nvar DISABLED = 'e-disabled';\nvar OVER_ALL_WRAPPER = 'e-multiselect e-input-group e-control-wrapper';\nvar ELEMENT_WRAPPER = 'e-multi-select-wrapper';\nvar ELEMENT_MOBILE_WRAPPER = 'e-mob-wrapper';\nvar HIDE_LIST = 'e-hide-listitem';\nvar DELIMITER_VIEW = 'e-delim-view';\nvar CHIP_WRAPPER = 'e-chips-collection';\nvar CHIP = 'e-chips';\nvar CHIP_CONTENT = 'e-chipcontent';\nvar CHIP_CLOSE = 'e-chips-close';\nvar CHIP_SELECTED = 'e-chip-selected';\nvar SEARCHBOX_WRAPPER = 'e-searcher';\nvar DELIMITER_VIEW_WRAPPER = 'e-delimiter';\nvar ZERO_SIZE = 'e-zero-size';\nvar REMAIN_WRAPPER = 'e-remain';\nvar CLOSEICON_CLASS = 'e-chips-close e-close-hooker';\nvar DELIMITER_WRAPPER = 'e-delim-values';\nvar POPUP_WRAPPER = 'e-ddl e-popup e-multi-select-list-wrapper';\nvar INPUT_ELEMENT = 'e-dropdownbase';\nvar RTL_CLASS = 'e-rtl';\nvar CLOSE_ICON_HIDE = 'e-close-icon-hide';\nvar MOBILE_CHIP = 'e-mob-chip';\nvar FOOTER = 'e-ddl-footer';\nvar HEADER = 'e-ddl-header';\nvar DISABLE_ICON = 'e-ddl-disable-icon';\nvar SPINNER_CLASS = 'e-ms-spinner-icon';\nvar HIDDEN_ELEMENT = 'e-multi-hidden';\nvar destroy = 'destroy';\nvar dropdownIcon = 'e-input-group-icon e-ddl-icon';\nvar iconAnimation = 'e-icon-anim';\nvar TOTAL_COUNT_WRAPPER = 'e-delim-total';\nvar BOX_ELEMENT = 'e-multiselect-box';\nvar FILTERPARENT = 'e-filter-parent';\nvar CUSTOM_WIDTH = 'e-search-custom-width';\nvar FILTERINPUT = 'e-input-filter';\n/**\n * The Multiselect allows the user to pick a more than one value from list of predefined values.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n * <script>\n *   var multiselectObj = new Multiselect();\n *   multiselectObj.appendTo(\"#list\");\n * </script>\n * ```\n */\nvar MultiSelect = /** @class */ (function (_super) {\n    __extends(MultiSelect, _super);\n    /**\n     * Constructor for creating the DropDownList widget.\n     *\n     * @param {MultiSelectModel} option - Specifies the MultiSelect model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function MultiSelect(option, element) {\n        var _this = _super.call(this, option, element) || this;\n        _this.clearIconWidth = 0;\n        _this.previousFilterText = '';\n        _this.isValidKey = false;\n        _this.selectAllEventData = [];\n        _this.selectAllEventEle = [];\n        _this.resetMainList = null;\n        _this.resetFilteredData = false;\n        _this.preventSetCurrentData = false;\n        _this.isSelectAllLoop = false;\n        _this.scrollFocusStatus = false;\n        _this.keyDownStatus = false;\n        return _this;\n    }\n    MultiSelect.prototype.enableRTL = function (state) {\n        if (state) {\n            this.overAllWrapper.classList.add(RTL_CLASS);\n        }\n        else {\n            this.overAllWrapper.classList.remove(RTL_CLASS);\n        }\n        if (this.popupObj) {\n            this.popupObj.enableRtl = state;\n            this.popupObj.dataBind();\n        }\n    };\n    MultiSelect.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableVirtualization) {\n            modules.push({ args: [this], member: 'VirtualScroll' });\n        }\n        if (this.mode === 'CheckBox') {\n            this.isGroupChecking = this.enableGroupCheckBox;\n            if (this.enableGroupCheckBox) {\n                var prevOnChange = this.isProtectedOnChange;\n                this.isProtectedOnChange = true;\n                this.enableSelectionOrder = false;\n                this.isProtectedOnChange = prevOnChange;\n            }\n            this.allowCustomValue = false;\n            this.hideSelectedItem = false;\n            this.closePopupOnSelect = false;\n            modules.push({\n                member: 'CheckBoxSelection',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    MultiSelect.prototype.updateHTMLAttribute = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                switch (htmlAttr) {\n                    case 'class': {\n                        var updatedClassValue = (this.htmlAttributes[\"\" + htmlAttr].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassValue !== '') {\n                            addClass([this.overAllWrapper], updatedClassValue.split(' '));\n                            addClass([this.popupWrapper], updatedClassValue.split(' '));\n                        }\n                        break;\n                    }\n                    case 'disabled':\n                        this.enable(false);\n                        break;\n                    case 'placeholder':\n                        if (!this.placeholder) {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                            this.setProperties({ placeholder: this.inputElement.placeholder }, true);\n                            this.refreshPlaceHolder();\n                        }\n                        break;\n                    default: {\n                        var defaultAttr = ['id'];\n                        var validateAttr = ['name', 'required', 'aria-required', 'form'];\n                        var containerAttr = ['title', 'role', 'style', 'class'];\n                        if (defaultAttr.indexOf(htmlAttr) > -1) {\n                            this.element.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        else if (htmlAttr.indexOf('data') === 0 || validateAttr.indexOf(htmlAttr) > -1) {\n                            this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        else if (containerAttr.indexOf(htmlAttr) > -1) {\n                            this.overAllWrapper.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        else if (htmlAttr !== 'size' && !isNullOrUndefined(this.inputElement)) {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.updateReadonly = function (state) {\n        if (!isNullOrUndefined(this.inputElement)) {\n            if (state || this.mode === 'CheckBox') {\n                this.inputElement.setAttribute('readonly', 'true');\n            }\n            else {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n    };\n    MultiSelect.prototype.updateClearButton = function (state) {\n        if (state) {\n            if (this.overAllClear.parentNode) {\n                this.overAllClear.style.display = '';\n            }\n            else {\n                this.componentWrapper.appendChild(this.overAllClear);\n            }\n            this.componentWrapper.classList.remove(CLOSE_ICON_HIDE);\n        }\n        else {\n            this.overAllClear.style.display = 'none';\n            this.componentWrapper.classList.add(CLOSE_ICON_HIDE);\n        }\n    };\n    MultiSelect.prototype.updateCssClass = function () {\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            var updatedCssClassValues = this.cssClass;\n            updatedCssClassValues = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n            if (updatedCssClassValues !== '') {\n                addClass([this.overAllWrapper], updatedCssClassValues.split(' '));\n                addClass([this.popupWrapper], updatedCssClassValues.split(' '));\n            }\n        }\n    };\n    MultiSelect.prototype.updateOldPropCssClass = function (oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            oldClass = (oldClass.replace(/\\s+/g, ' ')).trim();\n            if (oldClass !== '') {\n                removeClass([this.overAllWrapper], oldClass.split(' '));\n                removeClass([this.popupWrapper], oldClass.split(' '));\n            }\n        }\n    };\n    MultiSelect.prototype.onPopupShown = function (e) {\n        var _this = this;\n        if (Browser.isDevice && (this.mode === 'CheckBox' && this.allowFiltering)) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_1 = this;\n            window.onpopstate = function () {\n                proxy_1.hidePopup();\n                proxy_1.inputElement.focus();\n            };\n            history.pushState({}, '');\n        }\n        var animModel = { name: 'FadeIn', duration: 100 };\n        var eventArgs = { popup: this.popupObj, event: e, cancel: false, animation: animModel };\n        this.trigger('open', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                _this.focusAtFirstListItem();\n                if (_this.popupObj) {\n                    document.body.appendChild(_this.popupObj.element);\n                }\n                if (_this.mode === 'CheckBox' && _this.enableGroupCheckBox && !isNullOrUndefined(_this.fields.groupBy)) {\n                    _this.updateListItems(_this.list.querySelectorAll('li.e-list-item'), _this.mainList.querySelectorAll('li.e-list-item'));\n                }\n                if (_this.mode === 'CheckBox' || _this.showDropDownIcon) {\n                    addClass([_this.overAllWrapper], [iconAnimation]);\n                }\n                _this.refreshPopup();\n                _this.renderReactTemplates();\n                if (_this.popupObj) {\n                    _this.popupObj.show(eventArgs.animation, (_this.zIndex === 1000) ? _this.element : null);\n                }\n                attributes(_this.inputElement, {\n                    'aria-expanded': 'true', 'aria-owns': _this.element.id + '_popup', 'aria-controls': _this.element.id\n                });\n                _this.updateAriaActiveDescendant();\n                if (_this.isFirstClick) {\n                    if (!_this.enableVirtualization) {\n                        _this.loadTemplate();\n                    }\n                }\n                if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                    EventHandler.add(_this.popupObj.element, 'click', _this.clickHandler, _this);\n                }\n            }\n        });\n    };\n    MultiSelect.prototype.updateVirtualReOrderList = function (isCheckBoxUpdate) {\n        var query = this.getForQuery(this.value, true).clone();\n        if (this.enableVirtualization && this.dataSource instanceof DataManager) {\n            this.resetList(this.selectedListData, this.fields, query);\n        }\n        else {\n            this.resetList(this.dataSource, this.fields, query);\n        }\n        this.UpdateSkeleton();\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.virtualItemCount = this.itemCount;\n        if (this.mode !== 'CheckBox') {\n            this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n        }\n        if (!this.list.querySelector('.e-virtual-ddl')) {\n            var virualElement = this.createElement('div', {\n                id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n            });\n            this.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n        }\n        if (this.list.querySelector('.e-virtual-ddl-content')) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n        }\n        if (isCheckBoxUpdate) {\n            this.loadTemplate();\n        }\n    };\n    MultiSelect.prototype.updateListItems = function (listItems, mainListItems) {\n        for (var i = 0; i < listItems.length; i++) {\n            this.findGroupStart(listItems[i]);\n            this.findGroupStart(mainListItems[i]);\n        }\n        this.deselectHeader();\n    };\n    MultiSelect.prototype.loadTemplate = function () {\n        this.refreshListItems(null);\n        if (this.enableVirtualization && this.list && this.mode === 'CheckBox') {\n            var reOrderList = this.list.querySelectorAll('.e-reorder')[0];\n            if (this.list.querySelector('.e-virtual-ddl-content') && reOrderList) {\n                this.list.querySelector('.e-virtual-ddl-content').removeChild(reOrderList);\n            }\n        }\n        if (this.mode === 'CheckBox') {\n            this.removeFocus();\n        }\n        this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', e: this });\n        this.isPreventScrollAction = true;\n    };\n    MultiSelect.prototype.setScrollPosition = function () {\n        if (((!this.hideSelectedItem && this.mode !== 'CheckBox') || (this.mode === 'CheckBox' && !this.enableSelectionOrder)) &&\n            (!isNullOrUndefined(this.value) && (this.value.length > 0))) {\n            var value = this.allowObjectBinding\n                ? getValue((this.fields.value) ? this.fields.value : '', this.value[this.value.length - 1])\n                : this.value[this.value.length - 1];\n            var valueEle = this.findListElement((this.hideSelectedItem ? this.ulElement : this.list), 'li', 'data-value', value);\n            if (!isNullOrUndefined(valueEle)) {\n                this.scrollBottom(valueEle);\n            }\n        }\n        if (this.enableVirtualization) {\n            var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n            this.isKeyBoardAction = false;\n            this.scrollBottom(focusedItem);\n        }\n    };\n    MultiSelect.prototype.focusAtFirstListItem = function () {\n        if (this.ulElement && this.ulElement.querySelector('li.'\n            + dropDownBaseClasses.li)) {\n            var element = void 0;\n            if (this.mode === 'CheckBox') {\n                this.removeFocus();\n                return;\n            }\n            else {\n                if (this.enableVirtualization) {\n                    if (this.fields.disabled) {\n                        element = this.ulElement.querySelector('li.'\n                            + dropDownBaseClasses.li + ':not(.e-virtual-list)' + ':not(.e-hide-listitem)' + ':not(.' + DISABLED + ')');\n                    }\n                    else {\n                        element = this.ulElement.querySelector('li.'\n                            + dropDownBaseClasses.li + ':not(.e-virtual-list)' + ':not(.e-hide-listitem)');\n                    }\n                }\n                else {\n                    if (this.fields.disabled) {\n                        element = this.ulElement.querySelector('li.'\n                            + dropDownBaseClasses.li + ':not(.'\n                            + HIDE_LIST + ')' + ':not(.' + DISABLED + ')');\n                    }\n                    else {\n                        element = this.ulElement.querySelector('li.'\n                            + dropDownBaseClasses.li + ':not(.'\n                            + HIDE_LIST + ')');\n                    }\n                }\n            }\n            if (element !== null) {\n                this.removeFocus();\n                this.addListFocus(element);\n            }\n        }\n    };\n    MultiSelect.prototype.focusAtLastListItem = function (data) {\n        var activeElement;\n        if (data) {\n            activeElement = Search(data, this.liCollections, 'StartsWith', this.ignoreCase);\n        }\n        else {\n            if (this.value && this.value.length) {\n                var value = this.allowObjectBinding\n                    ? getValue((this.fields.value) ? this.fields.value : '', this.value[this.value.length - 1])\n                    : this.value[this.value.length - 1];\n                Search(value, this.liCollections, 'StartsWith', this.ignoreCase);\n            }\n            else {\n                activeElement = null;\n            }\n        }\n        if (activeElement && activeElement.item !== null) {\n            this.addListFocus(activeElement.item);\n            if (((this.allowCustomValue || this.allowFiltering) && this.isPopupOpen() &&\n                this.closePopupOnSelect && !this.enableVirtualization) || this.closePopupOnSelect && !this.enableVirtualization) {\n                this.scrollBottom(activeElement.item, activeElement.index);\n            }\n        }\n    };\n    MultiSelect.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'aria-disabled': 'false',\n            'role': 'combobox',\n            'aria-expanded': 'false'\n        };\n        return ariaAttributes;\n    };\n    MultiSelect.prototype.updateListARIA = function () {\n        if (!isNullOrUndefined(this.ulElement)) {\n            attributes(this.ulElement, {\n                'id': this.element.id + '_options',\n                'role': 'listbox',\n                'aria-hidden': 'false',\n                'aria-label': 'list'\n            });\n        }\n        var disableStatus = !isNullOrUndefined(this.inputElement) && (this.inputElement.disabled) ? true : false;\n        if (!this.isPopupOpen() && !isNullOrUndefined(this.inputElement)) {\n            attributes(this.inputElement, this.getAriaAttributes());\n        }\n        if (disableStatus) {\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n        }\n        this.ensureAriaDisabled((disableStatus) ? 'true' : 'false');\n    };\n    MultiSelect.prototype.ensureAriaDisabled = function (status) {\n        if (this.htmlAttributes && this.htmlAttributes['aria-disabled']) {\n            var attr = this.htmlAttributes;\n            extend(attr, { 'aria-disabled': status }, attr);\n            this.setProperties({ htmlAttributes: attr }, true);\n        }\n    };\n    MultiSelect.prototype.removelastSelection = function (e) {\n        var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        if (selectedElem !== null) {\n            this.removeSelectedChip(e);\n            return;\n        }\n        var elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP);\n        var value = elements[elements.length - 1].getAttribute('data-value');\n        if (!isNullOrUndefined(this.value)) {\n            this.tempValues = this.allowObjectBinding ? this.value.slice() : this.value.slice();\n        }\n        var customValue = this.allowObjectBinding ?\n            this.getDataByValue(this.getFormattedValue(value)) : this.getFormattedValue(value);\n        if (this.allowCustomValue && (value !== 'false' && customValue === false || (!isNullOrUndefined(customValue) &&\n            customValue.toString() === 'NaN'))) {\n            customValue = value;\n        }\n        this.removeValue(customValue, e);\n        this.removeChipSelection();\n        this.updateDelimeter(this.delimiterChar, e);\n        this.makeTextBoxEmpty();\n        if (this.mainList && this.listData) {\n            this.refreshSelection();\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.onActionFailure = function (e) {\n        _super.prototype.onActionFailure.call(this, e);\n        this.renderPopup();\n        this.onPopupShown();\n    };\n    MultiSelect.prototype.targetElement = function () {\n        this.targetInputElement = this.inputElement;\n        if (this.mode === 'CheckBox' && this.allowFiltering) {\n            this.notify('targetElement', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n        }\n        return this.targetInputElement.value;\n    };\n    MultiSelect.prototype.getForQuery = function (valuecheck, isCheckbox) {\n        var predicate;\n        var field = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n        if (this.enableVirtualization && valuecheck) {\n            if (isCheckbox) {\n                for (var i = 0; i < valuecheck.length; i++) {\n                    var value = this.allowObjectBinding ? getValue((this.fields.value) ?\n                        this.fields.value : '', valuecheck[i]) : valuecheck[i];\n                    if (i === 0) {\n                        predicate = new Predicate(field, 'equal', (value));\n                    }\n                    else {\n                        predicate = predicate.or(field, 'equal', (value));\n                    }\n                }\n                return new Query().where(predicate);\n            }\n            else {\n                for (var i = 0; i < valuecheck.length; i++) {\n                    var value = this.allowObjectBinding ? getValue((this.fields.value) ?\n                        this.fields.value : '', valuecheck[i]) : valuecheck[i];\n                    if (i === 0) {\n                        predicate = new Predicate(field, 'notequal', (value));\n                    }\n                    else {\n                        predicate = predicate.and(field, 'notequal', (value));\n                    }\n                }\n                return new Query().where(predicate);\n            }\n        }\n        else {\n            for (var i = 0; i < valuecheck.length; i++) {\n                if (i === 0) {\n                    predicate = new Predicate(field, 'equal', valuecheck[i]);\n                }\n                else {\n                    predicate = predicate.or(field, 'equal', valuecheck[i]);\n                }\n            }\n        }\n        if (this.dataSource instanceof DataManager && this.dataSource.adaptor instanceof JsonAdaptor) {\n            return new Query().where(predicate);\n        }\n        else {\n            return this.getQuery(this.query).clone().where(predicate);\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    MultiSelect.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        if (this.dataSource instanceof DataManager && !isNullOrUndefined(e) && !this.virtualGroupDataSource) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = e.count;\n        }\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        this.skeletonCount = this.totalItemCount !== 0 && this.totalItemCount < (this.itemCount * 2) &&\n            ((!(this.dataSource instanceof DataManager)) ||\n                ((this.dataSource instanceof DataManager) && (this.totalItemCount <= this.itemCount))) ? 0 : this.skeletonCount;\n        this.updateSelectElementData(this.allowFiltering);\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var proxy = this;\n        if (!isNullOrUndefined(this.value) && !this.allowCustomValue && !this.enableVirtualization &&\n            this.listData && this.listData.length > 0) {\n            for (var i = 0; i < this.value.length; i++) {\n                var value = this.allowObjectBinding ? getValue((this.fields.value) ?\n                    this.fields.value : '', proxy.value[i]) : proxy.value[i];\n                var checkEle = this.findListElement(((this.allowFiltering && !isNullOrUndefined(this.mainList)) ? this.mainList : ulElement), 'li', 'data-value', value);\n                if (!checkEle && !(this.dataSource instanceof DataManager)) {\n                    this.value.splice(i, 1);\n                    i -= 1;\n                }\n            }\n        }\n        var valuecheck = [];\n        if (!isNullOrUndefined(this.value)) {\n            valuecheck = this.presentItemValue(this.ulElement);\n        }\n        if (valuecheck.length > 0 && this.dataSource instanceof DataManager && !isNullOrUndefined(this.value)\n            && this.listData != null && !this.enableVirtualization) {\n            this.addNonPresentItems(valuecheck, this.ulElement, this.listData);\n        }\n        else {\n            this.updateActionList(ulElement, list, e);\n        }\n        if (this.dataSource instanceof DataManager && this.allowCustomValue && !this.isCustomRendered &&\n            this.inputElement.value && this.inputElement.value !== '') {\n            var query = new Query();\n            query = this.allowFiltering ? query.where(this.fields.text, 'startswith', this.inputElement.value, this.ignoreCase, this.ignoreAccent) : query;\n            this.checkForCustomValue(query, this.fields);\n            this.isCustomRendered = true;\n            this.remoteCustomValue = this.enableVirtualization ? false : this.remoteCustomValue;\n        }\n        if (this.mode === 'CheckBox' && this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy) && !isNullOrUndefined(this.fields.disabled)) {\n            this.disableGroupHeader();\n        }\n        if (this.dataSource instanceof DataManager && this.mode === 'CheckBox' && this.allowFiltering) {\n            this.removeFocus();\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    MultiSelect.prototype.updateActionList = function (ulElement, list, e, isUpdated) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        if (this.mode === 'CheckBox' && this.showSelectAll) {\n            this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n        }\n        if (!this.mainList && !this.mainData) {\n            this.mainList = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n            this.mainData = list;\n            this.mainListCollection = this.liCollections;\n        }\n        else if (isNullOrUndefined(this.mainData) || this.mainData.length === 0) {\n            this.mainData = list;\n        }\n        if ((this.remoteCustomValue || list.length <= 0) && this.allowCustomValue && this.inputFocus && this.allowFiltering &&\n            this.inputElement.value && this.inputElement.value !== '') {\n            this.checkForCustomValue(this.tempQuery, this.fields);\n            if (this.isCustomRendered) {\n                return;\n            }\n        }\n        if (this.value && this.value.length && ((this.mode !== 'CheckBox' && !isNullOrUndefined(this.inputElement) &&\n            this.inputElement.value.trim() !== '') ||\n            this.mode === 'CheckBox' || ((this.keyCode === 8 || this.keyCode === 46) && this.allowFiltering &&\n            this.allowCustomValue && this.dataSource instanceof DataManager && this.inputElement.value === ''))) {\n            this.refreshSelection();\n        }\n        this.updateListARIA();\n        this.unwireListEvents();\n        this.wireListEvents();\n        if (!isNullOrUndefined(this.setInitialValue)) {\n            this.setInitialValue();\n        }\n        if (!isNullOrUndefined(this.selectAllAction)) {\n            this.selectAllAction();\n        }\n        if (this.setDynValue) {\n            if (!isNullOrUndefined(this.text) && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n                this.initialTextUpdate();\n            }\n            if (!this.enableVirtualization || (this.enableVirtualization && (!(this.dataSource instanceof DataManager)))) {\n                this.initialValueUpdate();\n            }\n            this.initialUpdate();\n            this.refreshPlaceHolder();\n            if (this.mode !== 'CheckBox' && this.changeOnBlur) {\n                this.updateValueState(null, this.value, null);\n            }\n        }\n        this.renderPopup();\n        if (this.beforePopupOpen) {\n            this.beforePopupOpen = false;\n            this.onPopupShown(e);\n        }\n    };\n    MultiSelect.prototype.refreshSelection = function () {\n        var value;\n        var element;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (!isNullOrUndefined(this.value)) {\n            for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value[index]) :\n                    this.value[index];\n                element = this.findListElement(this.list, 'li', 'data-value', value);\n                if (element) {\n                    addClass([element], className);\n                    if (this.hideSelectedItem && element.previousSibling\n                        && element.previousElementSibling.classList.contains(dropDownBaseClasses.group)\n                        && (!element.nextElementSibling ||\n                            element.nextElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                        addClass([element.previousElementSibling], className);\n                    }\n                    if (this.hideSelectedItem && this.fields.groupBy && !element.previousElementSibling.classList.contains(HIDE_LIST)) {\n                        this.hideGroupItem(value);\n                    }\n                    if (this.hideSelectedItem && element.classList.contains(dropDownBaseClasses.focus)) {\n                        removeClass([element], dropDownBaseClasses.focus);\n                        var listEle = element.parentElement.querySelectorAll('.' +\n                            dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')');\n                        if (listEle.length > 0) {\n                            addClass([listEle[0]], dropDownBaseClasses.focus);\n                            this.updateAriaActiveDescendant();\n                        }\n                        else {\n                            //EJ2-57588 - for this task, we prevent the ul element cloning ( this.ulElement = this.ulElement.cloneNode ? <HTMLElement>this.ulElement.cloneNode(true) : this.ulElement;)\n                            if (!(this.list && this.list.querySelectorAll('.' + dropDownBaseClasses.li).length > 0)) {\n                                this.l10nUpdate();\n                                addClass([this.list], dropDownBaseClasses.noData);\n                            }\n                        }\n                    }\n                    element.setAttribute('aria-selected', 'true');\n                    if (this.mode === 'CheckBox' && element.classList.contains('e-active')) {\n                        var ariaValue = element.getElementsByClassName('e-check').length;\n                        if (ariaValue === 0) {\n                            var args = {\n                                module: 'CheckBoxSelection',\n                                enable: this.mode === 'CheckBox',\n                                li: element,\n                                e: null\n                            };\n                            this.notify('updatelist', args);\n                        }\n                    }\n                }\n            }\n        }\n        this.checkSelectAll();\n        this.checkMaxSelection();\n    };\n    MultiSelect.prototype.hideGroupItem = function (value) {\n        var element;\n        var element1;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        element1 = element = this.findListElement(this.ulElement, 'li', 'data-value', value);\n        var i = 0;\n        var j = 0;\n        var temp = true;\n        var temp1 = true;\n        do {\n            if (element && element.previousElementSibling\n                && (!element.previousElementSibling.classList.contains(HIDE_LIST) &&\n                    element.previousElementSibling.classList.contains(dropDownBaseClasses.li))) {\n                temp = false;\n            }\n            if (!temp || !element || (element.previousElementSibling\n                && element.previousElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                i = 10;\n            }\n            else {\n                element = element.previousElementSibling;\n            }\n            if (element1 && element1.nextElementSibling\n                && (!element1.nextElementSibling.classList.contains(HIDE_LIST) &&\n                    element1.nextElementSibling.classList.contains(dropDownBaseClasses.li))) {\n                temp1 = false;\n            }\n            if (!temp1 || !element1 || (element1.nextElementSibling\n                && element1.nextElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                j = 10;\n            }\n            else {\n                element1 = element1.nextElementSibling;\n            }\n        } while (i < 10 || j < 10);\n        if (temp && temp1 && !element.previousElementSibling.classList.contains(HIDE_LIST)) {\n            addClass([element.previousElementSibling], className);\n        }\n        else if (temp && temp1 && element.previousElementSibling.classList.contains(HIDE_LIST)) {\n            removeClass([element.previousElementSibling], className);\n        }\n    };\n    MultiSelect.prototype.getValidLi = function () {\n        var liElement = this.ulElement.querySelector('li.' + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')');\n        return (!isNullOrUndefined(liElement) ? liElement : this.liCollections[0]);\n    };\n    MultiSelect.prototype.checkSelectAll = function () {\n        var groupItemLength = !isNullOrUndefined(this.fields.disabled) ? this.list.querySelectorAll('li.e-list-group-item.e-active:not(.e-disabled)').length : this.list.querySelectorAll('li.e-list-group-item.e-active').length;\n        var listItem = this.list.querySelectorAll('li.e-list-item');\n        var searchCount = this.enableVirtualization ? this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-virtual-list)').length : !isNullOrUndefined(this.fields.disabled) ? this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-disabled)').length : this.list.querySelectorAll('li.' + dropDownBaseClasses.li).length;\n        var searchActiveCount = this.list.querySelectorAll('li.' + dropDownBaseClasses.selected).length;\n        if (this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n            searchActiveCount = searchActiveCount - groupItemLength;\n        }\n        if ((!this.enableVirtualization && ((searchCount === searchActiveCount || searchActiveCount === this.maximumSelectionLength)\n            && (this.mode === 'CheckBox' && this.showSelectAll))) || (this.enableVirtualization && this.mode === 'CheckBox' &&\n            this.showSelectAll && this.virtualSelectAll && this.value && this.value.length === this.totalItemCount)) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'check' });\n        }\n        else if ((searchCount !== searchActiveCount) && (this.mode === 'CheckBox' && this.showSelectAll) &&\n            ((!this.enableVirtualization) || (this.enableVirtualization && !this.virtualSelectAll))) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'uncheck' });\n        }\n        if (this.enableGroupCheckBox && this.fields.groupBy && !this.enableSelectionOrder) {\n            for (var i = 0; i < listItem.length; i++) {\n                this.findGroupStart(listItem[i]);\n            }\n            this.deselectHeader();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.openClick = function (e) {\n        if (!this.openOnClick && this.mode !== 'CheckBox' && !this.isPopupOpen()) {\n            if (this.targetElement() !== '') {\n                this.showPopup();\n            }\n            else {\n                this.hidePopup(e);\n            }\n        }\n        else if (!this.openOnClick && this.mode === 'CheckBox' && !this.isPopupOpen()) {\n            this.showPopup();\n        }\n    };\n    MultiSelect.prototype.keyUp = function (e) {\n        if (this.mode === 'CheckBox' && !this.openOnClick) {\n            var char = String.fromCharCode(e.keyCode);\n            var isWordCharacter = char.match(/\\w/);\n            if (!isNullOrUndefined(isWordCharacter)) {\n                this.isValidKey = true;\n            }\n        }\n        this.isValidKey = (this.isPopupOpen() && e.keyCode === 8) || this.isValidKey;\n        this.isValidKey = e.ctrlKey && e.keyCode === 86 ? false : this.isValidKey;\n        if (this.isValidKey && this.inputElement) {\n            this.isValidKey = false;\n            this.expandTextbox();\n            this.showOverAllClear();\n            switch (e.keyCode) {\n                default:\n                    // For filtering works in mobile firefox\n                    this.search(e);\n            }\n        }\n    };\n    /**\n     * To filter the multiselect data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     */\n    MultiSelect.prototype.filter = function (dataSource, query, fields) {\n        this.isFiltered = true;\n        this.remoteFilterAction = true;\n        this.dataUpdater(dataSource, query, fields);\n    };\n    MultiSelect.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        if (this.isFiltered) {\n            if ((this.enableVirtualization && !isNullOrUndefined(this.customFilterQuery))) {\n                filterQuery = this.customFilterQuery.clone();\n            }\n            else if (!this.enableVirtualization) {\n                return filterQuery;\n            }\n        }\n        if (this.filterAction) {\n            if ((this.targetElement() !== null && !this.enableVirtualization) || (this.enableVirtualization &&\n                this.targetElement() !== null && this.targetElement().trim() !== '')) {\n                var dataType = this.typeOfData(this.dataSource).typeof;\n                if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                    filterQuery.where('', this.filterType, this.targetElement(), this.ignoreCase, this.ignoreAccent);\n                }\n                else if ((this.enableVirtualization && this.targetElement() !== '') || !this.enableVirtualization) {\n                    var fields = this.fields;\n                    filterQuery.where(!isNullOrUndefined(fields.text) ? fields.text : '', this.filterType, this.targetElement(), this.ignoreCase, this.ignoreAccent);\n                }\n            }\n            if (this.enableVirtualization && (this.viewPortInfo.endIndex !== 0) && !this.virtualSelectAll) {\n                return this.virtualFilterQuery(filterQuery);\n            }\n            return filterQuery;\n        }\n        else {\n            if (this.enableVirtualization && (this.viewPortInfo.endIndex !== 0) && !this.virtualSelectAll) {\n                return this.virtualFilterQuery(filterQuery);\n            }\n            if (this.virtualSelectAll) {\n                return query ? query.take(this.maximumSelectionLength).requiresCount() : this.query ?\n                    this.query.take(this.maximumSelectionLength).requiresCount() :\n                    new Query().take(this.maximumSelectionLength).requiresCount();\n            }\n            return query ? query : this.query ? this.query : new Query();\n        }\n    };\n    MultiSelect.prototype.virtualFilterQuery = function (filterQuery) {\n        var takeValue = this.getTakeValue();\n        var isReOrder = true;\n        var isSkip = true;\n        var isTake = true;\n        for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n            if (this.getModuleName() === 'multiselect' && ((filterQuery.queries[queryElements].e &&\n                filterQuery.queries[queryElements].e.condition === 'or') || (filterQuery.queries[queryElements].e &&\n                filterQuery.queries[queryElements].e.operator === 'equal'))) {\n                isReOrder = false;\n            }\n            if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                isSkip = false;\n            }\n            if (filterQuery.queries[queryElements].fn === 'onTake') {\n                isTake = false;\n            }\n        }\n        var queryTakeValue = 0;\n        if (filterQuery && filterQuery.queries.length > 0) {\n            for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                if (filterQuery.queries[queryElements].fn === 'onTake') {\n                    queryTakeValue = takeValue <= filterQuery.queries[queryElements].e.nos ?\n                        filterQuery.queries[queryElements].e.nos : takeValue;\n                }\n            }\n        }\n        if (queryTakeValue <= 0 && this.query && this.query.queries.length > 0) {\n            for (var queryElements = 0; queryElements < this.query.queries.length; queryElements++) {\n                if (this.query.queries[queryElements].fn === 'onTake') {\n                    queryTakeValue = takeValue <= this.query.queries[queryElements].e.nos ?\n                        this.query.queries[queryElements].e.nos : takeValue;\n                }\n            }\n        }\n        if (filterQuery && filterQuery.queries.length > 0) {\n            for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                if (filterQuery.queries[queryElements].fn === 'onTake') {\n                    queryTakeValue = filterQuery.queries[queryElements].e.nos <= queryTakeValue ?\n                        queryTakeValue : filterQuery.queries[queryElements].e.nos;\n                    filterQuery.queries.splice(queryElements, 1);\n                    --queryElements;\n                }\n            }\n        }\n        if ((this.allowFiltering && isSkip) || !isReOrder || (!this.allowFiltering && isSkip)) {\n            if (!isReOrder) {\n                filterQuery.skip(this.viewPortInfo.startIndex);\n            }\n            else {\n                filterQuery.skip(this.virtualItemStartIndex);\n            }\n        }\n        if (this.isIncrementalRequest) {\n            filterQuery.take(this.incrementalEndIndex);\n        }\n        else if (queryTakeValue > 0) {\n            filterQuery.take(queryTakeValue);\n        }\n        else {\n            filterQuery.take(takeValue);\n        }\n        filterQuery.requiresCount();\n        return filterQuery;\n    };\n    MultiSelect.prototype.getTakeValue = function () {\n        return this.allowFiltering && Browser.isDevice ? Math.round(window.outerHeight / this.listItemHeight) : this.itemCount;\n    };\n    MultiSelect.prototype.dataUpdater = function (dataSource, query, fields) {\n        this.isDataFetched = false;\n        var isNoData = this.list.classList.contains(dropDownBaseClasses.noData);\n        if (this.targetElement().trim() === '') {\n            var list = this.enableVirtualization ? this.list.cloneNode(true) : this.mainList.cloneNode ?\n                this.mainList.cloneNode(true) : this.mainList;\n            if (this.backCommand) {\n                this.remoteCustomValue = false;\n                if (this.allowCustomValue && list.querySelectorAll('li').length === 0 && this.mainData.length > 0) {\n                    this.mainData = [];\n                }\n                if (this.enableVirtualization) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n                    this.resetList(dataSource, fields, query);\n                    if (this.mode !== 'CheckBox') {\n                        this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length :\n                            this.totalItemCount;\n                    }\n                    this.UpdateSkeleton();\n                    if ((isNoData || this.allowCustomValue) && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                        if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                            this.list.appendChild(this.createElement('div', {\n                                className: 'e-virtual-ddl-content',\n                                styles: this.getTransformValues()\n                            })).appendChild(this.list.querySelector('.e-list-parent'));\n                        }\n                        if (!this.list.querySelector('.e-virtual-ddl')) {\n                            var virualElement = this.createElement('div', {\n                                id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                            });\n                            document.getElementsByClassName('e-multi-select-list-wrapper')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                        }\n                    }\n                }\n                this.onActionComplete(list, this.mainData);\n                if (this.value && this.value.length) {\n                    this.refreshSelection();\n                }\n                if (this.keyCode !== 8) {\n                    this.focusAtFirstListItem();\n                }\n                this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', e: this });\n            }\n        }\n        else {\n            if (this.enableVirtualization && this.allowFiltering) {\n                this.isPreventScrollAction = true;\n                this.list.scrollTop = 0;\n                this.previousStartIndex = 0;\n                this.virtualListInfo = null;\n            }\n            this.resetList(dataSource, fields, query);\n            if (this.enableVirtualization && (isNoData || this.allowCustomValue) &&\n                !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                    this.list.appendChild(this.createElement('div', {\n                        className: 'e-virtual-ddl-content',\n                        styles: this.getTransformValues()\n                    })).appendChild(this.list.querySelector('.e-list-parent'));\n                }\n                if (this.mode !== 'CheckBox') {\n                    this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n                }\n                if (!this.list.querySelector('.e-virtual-ddl')) {\n                    var virualElement = this.createElement('div', {\n                        id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                    });\n                    document.getElementsByClassName('e-multi-select-list-wrapper')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                }\n            }\n            if (this.allowCustomValue) {\n                if (!(dataSource instanceof DataManager)) {\n                    this.checkForCustomValue(query, fields);\n                }\n                else {\n                    this.remoteCustomValue = true;\n                    this.tempQuery = query;\n                }\n            }\n        }\n        if (this.enableVirtualization && this.allowFiltering) {\n            this.getFilteringSkeletonCount();\n        }\n        this.refreshPopup();\n        if (this.mode === 'CheckBox') {\n            this.removeFocus();\n        }\n    };\n    MultiSelect.prototype.checkForCustomValue = function (query, fields) {\n        var dataChecks = !this.getValueByText(this.inputElement.value, this.ignoreCase);\n        var field = fields ? fields : this.fields;\n        if (this.allowCustomValue && dataChecks) {\n            var value = this.inputElement.value;\n            var customData = (!isNullOrUndefined(this.mainData) && this.mainData.length > 0) ?\n                this.mainData[0] : this.mainData;\n            if (customData && typeof (customData) !== 'string' && typeof (customData) !== 'number' && typeof (customData) !== 'boolean') {\n                var dataItem_1 = {};\n                setValue(field.text, value, dataItem_1);\n                if (typeof getValue((this.fields.value ? this.fields.value : 'value'), customData)\n                    === 'number' && this.fields.value !== this.fields.text) {\n                    setValue(field.value, Math.random(), dataItem_1);\n                }\n                else {\n                    setValue(field.value, value, dataItem_1);\n                }\n                var emptyObject_1 = {};\n                if (this.allowObjectBinding) {\n                    var keys = this.listData && this.listData.length > 0 ? Object.keys(this.listData[0]) : this.firstItem ?\n                        Object.keys(this.firstItem) : Object.keys(dataItem_1);\n                    // Create an empty object with predefined keys\n                    keys.forEach(function (key) {\n                        emptyObject_1[key] = ((key === fields.value) || (key === fields.text)) ?\n                            getValue(fields.value, dataItem_1) : null;\n                    });\n                }\n                dataItem_1 = this.allowObjectBinding ? emptyObject_1 : dataItem_1;\n                if (this.enableVirtualization) {\n                    this.virtualCustomData = dataItem_1;\n                    var tempData = this.dataSource instanceof DataManager ?\n                        JSON.parse(JSON.stringify(this.listData)) : JSON.parse(JSON.stringify(this.dataSource));\n                    var totalData = [];\n                    if (this.virtualCustomSelectData && this.virtualCustomSelectData.length > 0) {\n                        totalData = tempData.concat(this.virtualCustomSelectData);\n                    }\n                    tempData.splice(0, 0, dataItem_1);\n                    this.isCustomDataUpdated = true;\n                    var tempCount = this.totalItemCount;\n                    this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n                    this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.itemCount;\n                    this.resetList(tempData, field, query);\n                    this.isCustomDataUpdated = false;\n                    this.totalItemCount = this.enableVirtualization && this.dataSource instanceof DataManager ?\n                        tempCount : this.totalItemCount;\n                }\n                else {\n                    if (this.dataSource instanceof DataManager && this.allowCustomValue && this.allowFiltering) {\n                        this.remoteCustomValue = false;\n                    }\n                    var tempData = JSON.parse(JSON.stringify(this.listData));\n                    tempData.splice(0, 0, dataItem_1);\n                    this.resetList(tempData, field, query);\n                }\n            }\n            else if (this.listData) {\n                var tempData = JSON.parse(JSON.stringify(this.listData));\n                tempData.splice(0, 0, this.inputElement.value);\n                tempData[0] = (typeof customData === 'number' && !isNaN(parseFloat(tempData[0]))) ?\n                    parseFloat(tempData[0]) : tempData[0];\n                tempData[0] = (typeof customData === 'boolean') ?\n                    (tempData[0] === 'true' ? true : (tempData[0] === 'false' ? false : tempData[0])) : tempData[0];\n                this.resetList(tempData, field);\n            }\n        }\n        else if (this.listData && this.mainData && !dataChecks && this.allowCustomValue) {\n            if (this.allowFiltering && this.isRemoteSelection && this.remoteCustomValue) {\n                this.isRemoteSelection = false;\n                if (!this.enableVirtualization) {\n                    this.resetList(this.listData, field, query);\n                }\n            }\n            else if (!this.allowFiltering && this.list) {\n                var liCollections = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-hide-listitem)');\n                var activeElement = Search(this.targetElement(), liCollections, 'StartsWith', this.ignoreCase);\n                if (activeElement && activeElement.item !== null) {\n                    this.addListFocus(activeElement.item);\n                }\n            }\n        }\n        if (this.value && this.value.length) {\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.getNgDirective = function () {\n        return 'EJS-MULTISELECT';\n    };\n    MultiSelect.prototype.wrapperClick = function (e) {\n        this.setDynValue = false;\n        this.keyboardEvent = null;\n        this.isKeyBoardAction = false;\n        if (!this.enabled) {\n            return;\n        }\n        if (e.target === this.overAllClear) {\n            e.preventDefault();\n            return;\n        }\n        if (!this.inputFocus) {\n            this.inputElement.focus();\n        }\n        if (!this.readonly) {\n            if (e.target && e.target.classList.toString().indexOf(CHIP_CLOSE) !== -1) {\n                if (this.isPopupOpen()) {\n                    this.refreshPopup();\n                }\n                return;\n            }\n            if (!this.isPopupOpen() &&\n                (this.openOnClick || (this.showDropDownIcon && e.target && e.target.className === dropdownIcon))) {\n                this.showPopup(e);\n            }\n            else {\n                this.hidePopup(e);\n                if (this.mode === 'CheckBox') {\n                    this.showOverAllClear();\n                    this.inputFocus = true;\n                    if (!this.overAllWrapper.classList.contains(FOCUS)) {\n                        this.overAllWrapper.classList.add(FOCUS);\n                    }\n                }\n            }\n        }\n        if (!(this.targetElement() && this.targetElement() !== '')) {\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.enable = function (state) {\n        if (state) {\n            this.overAllWrapper.classList.remove(DISABLED);\n            this.inputElement.removeAttribute('disabled');\n            attributes(this.inputElement, { 'aria-disabled': 'false' });\n            this.ensureAriaDisabled('false');\n        }\n        else {\n            this.overAllWrapper.classList.add(DISABLED);\n            this.inputElement.setAttribute('disabled', 'true');\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n            this.ensureAriaDisabled('true');\n        }\n        if (this.enabled !== state) {\n            this.enabled = state;\n        }\n        this.hidePopup();\n    };\n    MultiSelect.prototype.onBlurHandler = function (eve, isDocClickFromCheck) {\n        var target;\n        if (!isNullOrUndefined(eve)) {\n            target = eve.relatedTarget;\n        }\n        if (this.popupObj && document.body.contains(this.popupObj.element) && this.popupObj.element.contains(target)) {\n            if (this.mode !== 'CheckBox') {\n                this.inputElement.focus();\n            }\n            else if ((this.floatLabelType === 'Auto' &&\n                ((this.overAllWrapper.classList.contains('e-outline')) || (this.overAllWrapper.classList.contains('e-filled'))))) {\n                addClass([this.overAllWrapper], 'e-valid-input');\n            }\n            return;\n        }\n        if (this.floatLabelType === 'Auto' && (this.overAllWrapper.classList.contains('e-outline')) && this.mode === 'CheckBox' &&\n            ((isNullOrUndefined(this.value)) || this.value.length === 0)) {\n            removeClass([this.overAllWrapper], 'e-valid-input');\n        }\n        if (this.mode === 'CheckBox' && Browser.isIE && !isNullOrUndefined(eve) && !isDocClickFromCheck) {\n            this.inputFocus = false;\n            this.overAllWrapper.classList.remove(FOCUS);\n            return;\n        }\n        if (this.scrollFocusStatus) {\n            if (!isNullOrUndefined(eve)) {\n                eve.preventDefault();\n            }\n            this.inputElement.focus();\n            this.scrollFocusStatus = false;\n            return;\n        }\n        this.inputFocus = false;\n        this.overAllWrapper.classList.remove(FOCUS);\n        if (this.addTagOnBlur) {\n            var dataChecks = this.getValueByText(this.inputElement.value, this.ignoreCase, this.ignoreAccent);\n            var listLiElement = this.findListElement(this.list, 'li', 'data-value', dataChecks);\n            var className = this.hideSelectedItem ? HIDE_LIST : dropDownBaseClasses.selected;\n            var allowChipAddition = (listLiElement && !listLiElement.classList.contains(className)) ? true : false;\n            if (allowChipAddition) {\n                this.updateListSelection(listLiElement, eve);\n                if (this.mode === 'Delimiter') {\n                    this.updateDelimeter(this.delimiterChar);\n                }\n            }\n        }\n        this.updateDataList();\n        if (this.resetMainList) {\n            this.mainList = this.resetMainList;\n            this.resetMainList = null;\n        }\n        this.refreshListItems(null);\n        if (this.mode !== 'Box' && this.mode !== 'CheckBox') {\n            this.updateDelimView();\n        }\n        if (this.changeOnBlur) {\n            this.updateValueState(eve, this.value, this.tempValues);\n            this.dispatchEvent(this.hiddenElement, 'change');\n        }\n        this.overAllClear.style.display = 'none';\n        if (this.isPopupOpen()) {\n            this.hidePopup(eve);\n        }\n        this.makeTextBoxEmpty();\n        this.trigger('blur');\n        this.focused = true;\n        if (Browser.isDevice && this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n            this.removeChipFocus();\n        }\n        this.removeChipSelection();\n        this.refreshInputHight();\n        floatLabelBlur(this.overAllWrapper, this.componentWrapper, this.value, this.floatLabelType, this.placeholder);\n        this.refreshPlaceHolder();\n        if ((this.allowFiltering || (this.enableSelectionOrder === true && this.mode === 'CheckBox'))\n            && !isNullOrUndefined(this.mainList)) {\n            this.ulElement = this.mainList;\n        }\n        this.checkPlaceholderSize();\n        Input.createSpanElement(this.overAllWrapper, this.createElement);\n        this.calculateWidth();\n        if (!isNullOrUndefined(this.overAllWrapper) && !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] &&\n            this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n            this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n        }\n    };\n    MultiSelect.prototype.calculateWidth = function () {\n        var elementWidth;\n        if (this.overAllWrapper) {\n            if (!this.showDropDownIcon || this.overAllWrapper.querySelector('.' + 'e-label-top')) {\n                elementWidth = this.overAllWrapper.clientWidth - 2 * (parseInt(getComputedStyle(this.inputElement).paddingRight, 10));\n            }\n            else {\n                var downIconWidth = this.dropIcon.offsetWidth +\n                    parseInt(getComputedStyle(this.dropIcon).marginRight, 10);\n                elementWidth = this.overAllWrapper.clientWidth -\n                    (downIconWidth + 2 * (parseInt(getComputedStyle(this.inputElement).paddingRight, 10)));\n            }\n            if (this.floatLabelType !== 'Never') {\n                Input.calculateWidth(elementWidth, this.overAllWrapper, this.getModuleName());\n            }\n        }\n    };\n    MultiSelect.prototype.checkPlaceholderSize = function () {\n        if (this.showDropDownIcon) {\n            var downIconWidth = this.dropIcon.offsetWidth +\n                parseInt(window.getComputedStyle(this.dropIcon).marginRight, 10);\n            this.setPlaceholderSize(downIconWidth);\n        }\n        else {\n            if (!isNullOrUndefined(this.dropIcon)) {\n                this.setPlaceholderSize(this.showDropDownIcon ? this.dropIcon.offsetWidth : 0);\n            }\n        }\n    };\n    MultiSelect.prototype.setPlaceholderSize = function (downIconWidth) {\n        if (isNullOrUndefined(this.value) || this.value.length === 0) {\n            if (this.dropIcon.offsetWidth !== 0) {\n                this.searchWrapper.style.width = ('calc(100% - ' + (downIconWidth + 10)) + 'px';\n            }\n            else {\n                addClass([this.searchWrapper], CUSTOM_WIDTH);\n            }\n        }\n        else if (!isNullOrUndefined(this.value)) {\n            this.searchWrapper.removeAttribute('style');\n            removeClass([this.searchWrapper], CUSTOM_WIDTH);\n        }\n    };\n    MultiSelect.prototype.refreshInputHight = function () {\n        if (!isNullOrUndefined(this.searchWrapper)) {\n            if ((!this.value || !this.value.length) && (isNullOrUndefined(this.text) || this.text === '')) {\n                this.searchWrapper.classList.remove(ZERO_SIZE);\n            }\n            else {\n                this.searchWrapper.classList.add(ZERO_SIZE);\n            }\n        }\n    };\n    MultiSelect.prototype.validateValues = function (newValue, oldValue) {\n        return JSON.stringify(newValue.slice().sort()) !== JSON.stringify(oldValue.slice().sort());\n    };\n    MultiSelect.prototype.updateValueState = function (event, newVal, oldVal) {\n        var newValue = newVal ? newVal : [];\n        var oldValue = oldVal ? oldVal : [];\n        if (this.initStatus && this.validateValues(newValue, oldValue)) {\n            var eventArgs = {\n                e: event,\n                oldValue: this.allowObjectBinding ? oldVal : oldVal,\n                value: this.allowObjectBinding ? newVal : newVal,\n                isInteracted: event ? true : false,\n                element: this.element,\n                event: event\n            };\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', eventArgs);\n            }\n            this.updateTempValue();\n            if (!this.changeOnBlur) {\n                this.dispatchEvent(this.hiddenElement, 'change');\n            }\n        }\n        this.selectedValueInfo = this.viewPortInfo;\n    };\n    MultiSelect.prototype.updateTempValue = function () {\n        if (!this.value) {\n            this.tempValues = this.value;\n        }\n        else {\n            this.tempValues = this.allowObjectBinding ? this.value.slice() : this.value.slice();\n        }\n    };\n    MultiSelect.prototype.updateAriaActiveDescendant = function () {\n        if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n        }\n    };\n    MultiSelect.prototype.pageUpSelection = function (steps, isVirtualKeyAction) {\n        var collection = this.list.querySelectorAll('li.' + dropDownBaseClasses.li +\n            ':not(.' + HIDE_LIST + ')' +\n            ':not(.e-reorder-hide)');\n        var previousItem = steps >= 0 ? collection[steps + 1] : collection[0];\n        if (this.enableVirtualization && isVirtualKeyAction) {\n            previousItem = (this.liCollections.length >= steps && steps >= 0)\n                ? this.liCollections[steps]\n                : this.liCollections[this.skeletonCount];\n        }\n        if (!isNullOrUndefined(previousItem) && previousItem.classList.contains('e-virtual-list')) {\n            previousItem = this.liCollections[this.skeletonCount];\n        }\n        if (this.enableVirtualization) {\n            if (!isNullOrUndefined(previousItem) && !previousItem.classList.contains('e-item-focus')) {\n                this.isKeyBoardAction = true;\n                this.addListFocus(previousItem);\n                this.scrollTop(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')), this.keyboardEvent.keyCode);\n            }\n            else if (this.viewPortInfo.startIndex === 0) {\n                this.isKeyBoardAction = true;\n                this.scrollTop(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')), this.keyboardEvent.keyCode);\n            }\n            this.previousFocusItem = previousItem;\n        }\n        else {\n            this.isKeyBoardAction = true;\n            this.addListFocus(previousItem);\n            this.scrollTop(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')), this.keyboardEvent.keyCode);\n        }\n    };\n    MultiSelect.prototype.pageDownSelection = function (steps, isVirtualKeyAction) {\n        var list = this.getItems();\n        var collection = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        var previousItem = steps <= collection.length ? collection[steps - 1] : collection[collection.length - 1];\n        if (this.enableVirtualization && this.skeletonCount > 0) {\n            previousItem = steps < list.length ? this.liCollections[steps] : this.liCollections[list.length - 1];\n        }\n        if (this.enableVirtualization && isVirtualKeyAction) {\n            previousItem = steps <= list.length ? this.liCollections[steps] : this.liCollections[list.length - 1];\n        }\n        this.isKeyBoardAction = true;\n        this.addListFocus(previousItem);\n        this.previousFocusItem = previousItem;\n        this.scrollBottom(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')), false, this.keyboardEvent.keyCode);\n    };\n    MultiSelect.prototype.getItems = function () {\n        if (!this.list) {\n            _super.prototype.render.call(this);\n        }\n        return this.ulElement && this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li).length > 0 ?\n            this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li\n                + ':not(.' + HIDE_LIST + ')') : [];\n    };\n    MultiSelect.prototype.focusInHandler = function (e) {\n        var _this = this;\n        if (this.enabled) {\n            this.showOverAllClear();\n            this.inputFocus = true;\n            if (this.value && this.value.length) {\n                if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n                    this.chipCollectionWrapper.style.display = '';\n                }\n                else {\n                    this.showDelimWrapper();\n                }\n                if (this.mode !== 'CheckBox') {\n                    this.viewWrapper.style.display = 'none';\n                }\n            }\n            if (this.mode !== 'CheckBox') {\n                this.searchWrapper.classList.remove(ZERO_SIZE);\n            }\n            this.checkPlaceholderSize();\n            if (this.focused) {\n                var args = { isInteracted: e ? true : false, event: e };\n                this.trigger('focus', args);\n                this.focused = false;\n            }\n            if (!this.overAllWrapper.classList.contains(FOCUS)) {\n                this.overAllWrapper.classList.add(FOCUS);\n            }\n            floatLabelFocus(this.overAllWrapper, this.componentWrapper);\n            if (this.isPopupOpen()) {\n                this.refreshPopup();\n            }\n            setTimeout(function () {\n                _this.calculateWidth();\n            }, 150);\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    MultiSelect.prototype.showDelimWrapper = function () {\n        if (this.mode === 'CheckBox') {\n            this.viewWrapper.style.display = '';\n        }\n        else {\n            this.delimiterWrapper.style.display = '';\n        }\n        this.componentWrapper.classList.add(DELIMITER_VIEW_WRAPPER);\n    };\n    MultiSelect.prototype.hideDelimWrapper = function () {\n        this.delimiterWrapper.style.display = 'none';\n        this.componentWrapper.classList.remove(DELIMITER_VIEW_WRAPPER);\n    };\n    MultiSelect.prototype.expandTextbox = function () {\n        var size = 5;\n        if (this.placeholder) {\n            var codePoint = this.placeholder.charCodeAt(0);\n            var sizeMultiplier = (0xAC00 <= codePoint && codePoint <= 0xD7AF) ? 1.5\n                : (0x4E00 <= codePoint && codePoint <= 0x9FFF) ? 2 : 1;\n            size = size > this.inputElement.placeholder.length ? size : this.inputElement.placeholder.length * sizeMultiplier;\n        }\n        if (this.inputElement.value.length > size) {\n            this.inputElement.size = this.inputElement.value.length;\n        }\n        else {\n            this.inputElement.size = size;\n        }\n    };\n    MultiSelect.prototype.isPopupOpen = function () {\n        return ((this.popupWrapper !== null) && (this.popupWrapper.parentElement !== null));\n    };\n    MultiSelect.prototype.refreshPopup = function () {\n        if (this.popupObj && this.mobFilter) {\n            this.popupObj.setProperties({ width: this.calcPopupWidth() });\n            this.popupObj.refreshPosition(this.overAllWrapper);\n            this.popupObj.resolveCollision();\n        }\n    };\n    MultiSelect.prototype.checkTextLength = function () {\n        return this.targetElement().length < 1;\n    };\n    MultiSelect.prototype.popupKeyActions = function (e) {\n        switch (e.keyCode) {\n            case 38:\n                this.hidePopup(e);\n                if (this.mode === 'CheckBox') {\n                    this.inputElement.focus();\n                }\n                e.preventDefault();\n                break;\n            case 40:\n                if (!this.isPopupOpen()) {\n                    this.showPopup(e);\n                    e.preventDefault();\n                }\n                break;\n        }\n    };\n    MultiSelect.prototype.updateAriaAttribute = function () {\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (!isNullOrUndefined(focusedItem)) {\n            this.inputElement.setAttribute('aria-activedescendant', focusedItem.id);\n            if (this.allowFiltering) {\n                var filterInput = this.popupWrapper.querySelector('.' + FILTERINPUT);\n                if (filterInput) {\n                    filterInput.setAttribute('aria-activedescendant', focusedItem.id);\n                }\n            }\n            else if (this.mode === 'CheckBox') {\n                this.overAllWrapper.setAttribute('aria-activedescendant', focusedItem.id);\n            }\n        }\n    };\n    MultiSelect.prototype.homeNavigation = function (isHome, isVirtualKeyAction) {\n        this.removeFocus();\n        if (this.enableVirtualization) {\n            if (isHome) {\n                if (this.enableVirtualization && this.viewPortInfo.startIndex !== 0) {\n                    this.viewPortInfo.startIndex = 0;\n                    this.viewPortInfo.endIndex = this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.resetList(this.dataSource, this.fields, this.query);\n                }\n            }\n            else {\n                if (this.enableVirtualization && ((!this.value && this.viewPortInfo.endIndex !== this.totalItemCount) ||\n                    (this.value && this.value.length > 0 && this.viewPortInfo.endIndex !== this.totalItemCount + this.value.length))) {\n                    this.viewPortInfo.startIndex = this.totalItemCount - this.itemCount;\n                    this.viewPortInfo.endIndex = this.totalItemCount;\n                    this.updateVirtualItemIndex();\n                    var query = new Query().clone();\n                    if (this.value && this.value.length > 0) {\n                        query = this.getForQuery(this.value).clone();\n                        query = query.skip(this.totalItemCount - this.itemCount);\n                    }\n                    this.resetList(this.dataSource, this.fields, query);\n                }\n            }\n        }\n        this.UpdateSkeleton();\n        var scrollEle = this.ulElement.querySelectorAll('li.' + dropDownBaseClasses.li\n            + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        if (scrollEle.length > 0) {\n            var element = scrollEle[(isHome) ? 0 : (scrollEle.length - 1)];\n            if (this.enableVirtualization && isHome) {\n                element = scrollEle[this.skeletonCount];\n            }\n            this.removeFocus();\n            element.classList.add(dropDownBaseClasses.focus);\n            if (this.enableVirtualization && isHome) {\n                this.scrollTop(element, undefined, this.keyboardEvent.keyCode);\n            }\n            else if (!isVirtualKeyAction) {\n                this.scrollBottom(element, undefined, false, this.keyboardEvent.keyCode);\n            }\n            this.updateAriaActiveDescendant();\n        }\n    };\n    MultiSelect.prototype.updateSelectionList = function () {\n        if (!isNullOrUndefined(this.value) && this.value.length) {\n            for (var index = 0; index < this.value.length; index++) {\n                var value = this.allowObjectBinding ?\n                    getValue(((this.fields.value) ? this.fields.value : ''), this.value[index]) : this.value[index];\n                var selectedItem = this.getElementByValue(value);\n                if (selectedItem && !selectedItem.classList.contains(dropDownBaseClasses.selected)) {\n                    selectedItem.classList.add('e-active');\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.handleVirtualKeyboardActions = function (e, pageCount) {\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        var activeIndex;\n        this.isKeyBoardAction = true;\n        switch (e.keyCode) {\n            case 40:\n                this.arrowDown(e, true);\n                break;\n            case 38:\n                this.arrowUp(e, true);\n                break;\n            case 33:\n                e.preventDefault();\n                if (focusedItem) {\n                    activeIndex = this.getIndexByValue(this.previousFocusItem.getAttribute('data-value')) - 1;\n                    this.pageUpSelection(activeIndex, true);\n                    this.updateAriaAttribute();\n                }\n                break;\n            case 34:\n                e.preventDefault();\n                if (focusedItem) {\n                    activeIndex = this.getIndexByValue(this.previousFocusItem.getAttribute('data-value'));\n                    this.pageDownSelection(activeIndex, true);\n                    this.updateAriaAttribute();\n                }\n                break;\n            case 35:\n            case 36:\n                this.isMouseScrollAction = true;\n                this.homeNavigation((e.keyCode === 36) ? true : false, true);\n                this.isPreventScrollAction = true;\n                break;\n        }\n        this.keyboardEvent = null;\n        this.isScrollChanged = true;\n        this.isKeyBoardAction = false;\n    };\n    MultiSelect.prototype.onKeyDown = function (e) {\n        if (this.readonly || !this.enabled && this.mode !== 'CheckBox') {\n            return;\n        }\n        this.preventSetCurrentData = false;\n        this.keyboardEvent = e;\n        if (this.isPreventKeyAction && this.enableVirtualization) {\n            e.preventDefault();\n        }\n        this.keyCode = e.keyCode;\n        this.keyDownStatus = true;\n        if (e.keyCode > 111 && e.keyCode < 124) {\n            return;\n        }\n        if (e.altKey) {\n            this.popupKeyActions(e);\n            return;\n        }\n        else if (this.isPopupOpen()) {\n            var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n            var activeIndex = void 0;\n            switch (e.keyCode) {\n                case 36:\n                case 35:\n                    this.isMouseScrollAction = true;\n                    this.isKeyBoardAction = true;\n                    this.homeNavigation((e.keyCode === 36) ? true : false);\n                    break;\n                case 33:\n                    e.preventDefault();\n                    if (focusedItem) {\n                        activeIndex = this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                        this.pageUpSelection(activeIndex - this.getPageCount() - 1);\n                        this.updateAriaAttribute();\n                    }\n                    return;\n                case 34:\n                    e.preventDefault();\n                    if (focusedItem) {\n                        activeIndex = this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                        this.pageDownSelection(activeIndex + this.getPageCount());\n                        this.updateAriaAttribute();\n                    }\n                    return;\n                case 38:\n                    this.isKeyBoardAction = true;\n                    this.arrowUp(e);\n                    break;\n                case 40:\n                    this.isKeyBoardAction = true;\n                    this.arrowDown(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    this.isKeyBoardAction = true;\n                    this.hidePopup(e);\n                    if (this.mode === 'CheckBox') {\n                        this.inputElement.focus();\n                    }\n                    return;\n                case 13:\n                    e.preventDefault();\n                    this.isKeyBoardAction = true;\n                    if (this.mode !== 'CheckBox') {\n                        this.selectByKey(e);\n                    }\n                    this.checkPlaceholderSize();\n                    return;\n                case 32:\n                    this.isKeyBoardAction = true;\n                    this.spaceKeySelection(e);\n                    return;\n                case 9:\n                    e.preventDefault();\n                    this.isKeyBoardAction = true;\n                    this.hidePopup(e);\n                    this.inputElement.focus();\n                    this.overAllWrapper.classList.add(FOCUS);\n            }\n        }\n        else {\n            switch (e.keyCode) {\n                case 13:\n                case 9:\n                case 16:\n                case 17:\n                case 20:\n                    return;\n                case 40:\n                    if (this.openOnClick) {\n                        this.showPopup();\n                    }\n                    break;\n                case 27:\n                    e.preventDefault();\n                    this.escapeAction();\n                    return;\n            }\n        }\n        if (this.checkTextLength()) {\n            this.keyNavigation(e);\n        }\n        if (this.mode === 'CheckBox' && this.enableSelectionOrder) {\n            if (this.allowFiltering) {\n                this.previousFilterText = this.targetElement();\n            }\n            this.checkBackCommand(e);\n        }\n        this.expandTextbox();\n        if (!(this.mode === 'CheckBox' && this.showSelectAll)) {\n            this.refreshPopup();\n        }\n        this.isKeyBoardAction = false;\n    };\n    MultiSelect.prototype.arrowDown = function (e, isVirtualKeyAction) {\n        e.preventDefault();\n        this.moveByList(1, isVirtualKeyAction);\n        this.keyAction = true;\n        if (document.activeElement.classList.contains(FILTERINPUT)\n            || (this.mode === 'CheckBox' && !this.allowFiltering && document.activeElement !== this.list)) {\n            EventHandler.add(this.list, 'keydown', this.onKeyDown, this);\n        }\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.arrowUp = function (e, isVirtualKeyAction) {\n        e.preventDefault();\n        this.keyAction = true;\n        var list = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li\n            + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n            list = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li + ',li.' + dropDownBaseClasses.group\n                + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        }\n        var focuseElem = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n        this.focusFirstListItem = !isNullOrUndefined(this.liCollections[0]) ? this.liCollections[0].classList.contains('e-item-focus') :\n            false;\n        var index = Array.prototype.slice.call(list).indexOf(focuseElem);\n        if (index <= 0 && (this.mode === 'CheckBox' && this.allowFiltering)) {\n            this.keyAction = false;\n            this.notify('inputFocus', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'focus' });\n        }\n        this.moveByList(-1, isVirtualKeyAction);\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.spaceKeySelection = function (e) {\n        if (this.mode === 'CheckBox') {\n            var li = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n            var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n            if (!isNullOrUndefined(li) || (selectAllParent && selectAllParent.classList.contains('e-item-focus'))) {\n                e.preventDefault();\n                this.keyAction = true;\n            }\n            this.selectByKey(e);\n            if (this.keyAction) {\n                var li_1 = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n                if (!isNullOrUndefined(li_1) && selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n                    li_1.classList.remove('e-item-focus');\n                }\n            }\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.checkBackCommand = function (e) {\n        if (e.keyCode === 8 && this.allowFiltering ? this.targetElement() !== this.previousFilterText : this.targetElement() === '') {\n            this.backCommand = false;\n        }\n        else {\n            this.backCommand = true;\n        }\n    };\n    MultiSelect.prototype.keyNavigation = function (e) {\n        if ((this.mode !== 'Delimiter' && this.mode !== 'CheckBox') && this.value && this.value.length) {\n            switch (e.keyCode) {\n                case 37: //left arrow\n                    e.preventDefault();\n                    this.moveBy(-1, e);\n                    break;\n                case 39: //right arrow\n                    e.preventDefault();\n                    this.moveBy(1, e);\n                    break;\n                case 8:\n                    this.removelastSelection(e);\n                    break;\n                case 46: //del\n                    this.removeSelectedChip(e);\n                    break;\n            }\n        }\n        else if (e.keyCode === 8 && this.mode === 'Delimiter') {\n            if (this.value && this.value.length) {\n                e.preventDefault();\n                var temp = this.allowObjectBinding ?\n                    getValue(((this.fields.value) ? this.fields.value : ''), this.value[this.value.length - 1]) :\n                    this.value[this.value.length - 1];\n                this.removeValue(this.value[this.value.length - 1], e);\n                this.updateDelimeter(this.delimiterChar, e);\n                this.focusAtLastListItem(temp);\n            }\n        }\n    };\n    MultiSelect.prototype.selectByKey = function (e) {\n        this.removeChipSelection();\n        this.selectListByKey(e);\n        if (this.hideSelectedItem) {\n            this.focusAtFirstListItem();\n        }\n    };\n    MultiSelect.prototype.escapeAction = function () {\n        var temp = this.tempValues ? this.tempValues.slice() : [];\n        if (this.allowObjectBinding) {\n            temp = this.tempValues ? this.tempValues.slice() : [];\n        }\n        if (this.value && this.validateValues(this.value, temp)) {\n            if (this.mode !== 'CheckBox') {\n                this.value = temp;\n                this.initialValueUpdate();\n            }\n            if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n                this.chipCollectionWrapper.style.display = '';\n            }\n            else {\n                this.showDelimWrapper();\n            }\n            this.refreshPlaceHolder();\n            if (this.value.length) {\n                this.showOverAllClear();\n            }\n            else {\n                this.hideOverAllClear();\n            }\n        }\n        this.makeTextBoxEmpty();\n    };\n    MultiSelect.prototype.scrollBottom = function (selectedLI, activeIndex, isInitialSelection, keyCode) {\n        if (isInitialSelection === void 0) { isInitialSelection = false; }\n        if (keyCode === void 0) { keyCode = null; }\n        if ((!isNullOrUndefined(selectedLI) && selectedLI.classList.contains('e-virtual-list')) ||\n            (this.enableVirtualization && isNullOrUndefined(selectedLI))) {\n            selectedLI = this.liCollections[this.skeletonCount];\n        }\n        var selectedListMargin = selectedLI && !isNaN(parseInt(window.getComputedStyle(selectedLI).marginBottom, 10)) ?\n            parseInt(window.getComputedStyle(selectedLI).marginBottom, 10) : 0;\n        this.isUpwardScrolling = false;\n        var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n        var lastElementValue = this.list.querySelector('li:last-of-type') ?\n            this.list.querySelector('li:last-of-type').getAttribute('data-value') : null;\n        var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ?\n            selectedLI.offsetTop + (this.virtualListInfo.startIndex * (selectedLI.offsetHeight + selectedListMargin))\n            : selectedLI.offsetTop;\n        var currentOffset = this.list.offsetHeight;\n        var nextBottom = selectedLiOffsetTop - (virtualListCount * (selectedLI.offsetHeight + selectedListMargin)) +\n            (selectedLI.offsetHeight + selectedListMargin) - this.list.scrollTop;\n        var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n        var isScrollerCHanged = false;\n        var isScrollTopChanged = false;\n        var boxRange = selectedLiOffsetTop - (virtualListCount * (selectedLI.offsetHeight + selectedListMargin)) +\n            (selectedLI.offsetHeight + selectedListMargin) - this.list.scrollTop;\n        boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n            boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n        if (activeIndex === 0 && !this.enableVirtualization) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            var currentElementValue = selectedLI ? selectedLI.getAttribute('data-value') : null;\n            var liCount = keyCode === 34 ? this.getPageCount() - 1 : 1;\n            if (!this.enableVirtualization || this.isKeyBoardAction || isInitialSelection) {\n                if (this.isKeyBoardAction && this.enableVirtualization && lastElementValue &&\n                    currentElementValue === lastElementValue && keyCode !== 35 && !this.isVirtualScrolling) {\n                    this.isPreventKeyAction = true;\n                    this.list.scrollTop += (selectedLI.offsetHeight + selectedListMargin) * liCount;\n                    this.isPreventKeyAction = this.isScrollerAtEnd() ? false : this.isPreventKeyAction;\n                    this.isKeyBoardAction = false;\n                    this.isPreventScrollAction = false;\n                }\n                else if (this.enableVirtualization && keyCode === 35) {\n                    this.isPreventKeyAction = false;\n                    this.isKeyBoardAction = false;\n                    this.isPreventScrollAction = false;\n                    this.list.scrollTop = this.list.scrollHeight;\n                }\n                else {\n                    if (keyCode === 34 && this.enableVirtualization && !this.isVirtualScrolling) {\n                        this.isPreventKeyAction = false;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                    }\n                    this.list.scrollTop = nextOffset;\n                }\n            }\n            else {\n                this.list.scrollTop = this.virtualListInfo &&\n                    this.virtualListInfo.startIndex ? this.virtualListInfo.startIndex * this.listItemHeight : 0;\n            }\n            isScrollerCHanged = this.isKeyBoardAction;\n            isScrollTopChanged = true;\n        }\n        this.isKeyBoardAction = isScrollerCHanged;\n    };\n    MultiSelect.prototype.scrollTop = function (selectedLI, activeIndex, keyCode) {\n        if (keyCode === void 0) { keyCode = null; }\n        var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n        var selectedListMargin = selectedLI && !isNaN(parseInt(window.getComputedStyle(selectedLI).marginBottom, 10)) ?\n            parseInt(window.getComputedStyle(selectedLI).marginBottom, 10) : 0;\n        var selectedLiOffsetTop = (this.virtualListInfo && this.virtualListInfo.startIndex) ?\n            selectedLI.offsetTop + (this.virtualListInfo.startIndex * (selectedLI.offsetHeight + selectedListMargin)) :\n            selectedLI.offsetTop;\n        var nextOffset = selectedLiOffsetTop - (virtualListCount * (selectedLI.offsetHeight +\n            selectedListMargin)) - this.list.scrollTop;\n        var firstElementValue = this.list.querySelector('li.e-list-item:not(.e-virtual-list)') ?\n            this.list.querySelector('li.e-list-item:not(.e-virtual-list)').getAttribute('data-value') : null;\n        nextOffset = this.fields.groupBy && !isUndefined(this.fixedHeaderElement) ?\n            nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n        var boxRange = (selectedLiOffsetTop - (virtualListCount * (selectedLI.offsetHeight + selectedListMargin)) +\n            (selectedLI.offsetHeight + selectedListMargin) - this.list.scrollTop);\n        var isPageUpKeyAction = this.enableVirtualization && this.getModuleName() === 'autocomplete' && nextOffset <= 0;\n        if (activeIndex === 0 && !this.enableVirtualization) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextOffset < 0 || isPageUpKeyAction) {\n            var currentElementValue = selectedLI ? selectedLI.getAttribute('data-value') : null;\n            var liCount = keyCode === 33 ? this.getPageCount() - 2 : 1;\n            if (this.enableVirtualization && this.isKeyBoardAction && firstElementValue &&\n                currentElementValue === firstElementValue && keyCode !== 36 && !this.isVirtualScrolling) {\n                this.isUpwardScrolling = true;\n                this.isPreventKeyAction = true;\n                this.isKeyBoardAction = false;\n                this.list.scrollTop -= (selectedLI.offsetHeight + selectedListMargin) * liCount;\n                this.isPreventKeyAction = this.list.scrollTop !== 0 ? this.isPreventKeyAction : false;\n                this.isPreventScrollAction = false;\n            }\n            else if (this.enableVirtualization && keyCode === 36) {\n                this.isPreventScrollAction = false;\n                this.isPreventKeyAction = true;\n                this.isKeyBoardAction = false;\n                this.list.scrollTo(0, 0);\n            }\n            else {\n                if (keyCode === 33 && this.enableVirtualization && !this.isVirtualScrolling) {\n                    this.isPreventKeyAction = false;\n                    this.isKeyBoardAction = false;\n                    this.isPreventScrollAction = false;\n                }\n                this.list.scrollTop = this.list.scrollTop + nextOffset;\n            }\n        }\n        else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            this.list.scrollTop = selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                this.fixedHeaderElement.offsetHeight : 0);\n        }\n    };\n    MultiSelect.prototype.isScrollerAtEnd = function () {\n        return this.list && this.list.scrollTop + this.list.clientHeight >= this.list.scrollHeight;\n    };\n    MultiSelect.prototype.selectListByKey = function (e) {\n        var li = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        var target;\n        if (li !== null) {\n            e.preventDefault();\n            if (li.classList.contains('e-active')) {\n                limit = limit - 1;\n            }\n            if (this.isValidLI(li) && limit < this.maximumSelectionLength) {\n                this.updateListSelection(li, e);\n                this.addListFocus(li);\n                if (this.mode === 'CheckBox') {\n                    this.updateDelimView();\n                    this.updateDelimeter(this.delimiterChar, e);\n                    this.refreshInputHight();\n                    this.checkPlaceholderSize();\n                    if (this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n                        target = li.firstElementChild.lastElementChild;\n                        this.findGroupStart(target);\n                        this.deselectHeader();\n                    }\n                }\n                else {\n                    this.updateDelimeter(this.delimiterChar, e);\n                }\n                var isFilterData = this.targetElement().trim() !== '' ? true : false;\n                this.makeTextBoxEmpty();\n                if (this.mode !== 'CheckBox') {\n                    this.refreshListItems(li.textContent, isFilterData);\n                }\n                if (!this.changeOnBlur) {\n                    this.updateValueState(e, this.value, this.tempValues);\n                }\n                this.refreshPopup();\n            }\n            else {\n                if (!this.isValidLI(li) && limit < this.maximumSelectionLength) {\n                    target = li.firstElementChild.lastElementChild;\n                    if (target.classList.contains('e-check')) {\n                        this.selectAllItem(false, e, li);\n                    }\n                    else {\n                        this.selectAllItem(true, e, li);\n                    }\n                }\n            }\n            this.refreshSelection();\n            if (this.closePopupOnSelect) {\n                this.hidePopup(e);\n            }\n        }\n        var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n        if (selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n            var selectAllCheckBox = selectAllParent.childNodes[0];\n            if (!selectAllCheckBox.classList.contains('e-check')) {\n                selectAllCheckBox.classList.add('e-check');\n                var args = {\n                    module: 'CheckBoxSelection',\n                    enable: this.mode === 'CheckBox',\n                    value: 'check',\n                    name: 'checkSelectAll'\n                };\n                this.notify('checkSelectAll', args);\n                this.selectAllItem(true, e, li);\n            }\n            else {\n                selectAllCheckBox.classList.remove('e-check');\n                var args = {\n                    module: 'CheckBoxSelection',\n                    enable: this.mode === 'CheckBox',\n                    value: 'check',\n                    name: 'checkSelectAll'\n                };\n                this.notify('checkSelectAll', args);\n                this.selectAllItem(false, e, li);\n            }\n        }\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.refreshListItems = function (data, isFilterData) {\n        if ((this.allowFiltering || (this.mode === 'CheckBox' && this.enableSelectionOrder === true)\n            || this.allowCustomValue) && this.mainList && this.listData) {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            if (this.enableVirtualization) {\n                if (this.allowCustomValue && this.virtualCustomData && data == null && this.virtualCustomData &&\n                    this.viewPortInfo && this.viewPortInfo.startIndex === 0 && this.viewPortInfo.endIndex === this.itemCount) {\n                    this.virtualCustomData = null;\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.renderItems(this.mainData, this.fields);\n                }\n                else {\n                    if (this.allowFiltering && isFilterData) {\n                        this.updateInitialData();\n                        this.onActionComplete(list, this.mainData);\n                        this.isVirtualTrackHeight = false;\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n                        }\n                        else if (!this.list.querySelector('.e-virtual-ddl') && this.skeletonCount > 0) {\n                            var virualElement = this.createElement('div', {\n                                id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                            });\n                            this.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n                        }\n                    }\n                    else {\n                        this.onActionComplete(this.list, this.listData);\n                    }\n                }\n            }\n            else {\n                this.onActionComplete(list, this.mainData);\n            }\n            this.focusAtLastListItem(data);\n            if (this.value && this.value.length) {\n                this.refreshSelection();\n            }\n        }\n        else if (!isNullOrUndefined(this.fields.groupBy) && this.value && this.value.length) {\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.removeSelectedChip = function (e) {\n        var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        var temp;\n        if (selectedElem !== null) {\n            if (!isNullOrUndefined(this.value)) {\n                this.tempValues = this.allowObjectBinding ? this.value.slice() : this.value.slice();\n            }\n            temp = selectedElem.nextElementSibling;\n            if (temp !== null) {\n                this.removeChipSelection();\n                this.addChipSelection(temp, e);\n            }\n            var currentChip = this.allowObjectBinding ?\n                this.getDataByValue(this.getFormattedValue(selectedElem.getAttribute('data-value'))) :\n                selectedElem.getAttribute('data-value');\n            this.removeValue(currentChip, e);\n            this.makeTextBoxEmpty();\n        }\n        if (this.closePopupOnSelect) {\n            this.hidePopup(e);\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.moveByTop = function (state) {\n        var elements = this.list.querySelectorAll('li.' + dropDownBaseClasses.li);\n        var index;\n        if (elements.length > 1) {\n            this.removeFocus();\n            index = state ? 0 : (elements.length - 1);\n            this.addListFocus(elements[index]);\n            this.scrollBottom(elements[index], index);\n        }\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.clickHandler = function (e) {\n        var targetElement = e.target;\n        var filterInputClassName = targetElement.className;\n        var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n        if ((filterInputClassName === 'e-input-filter e-input' ||\n            filterInputClassName === 'e-input-group e-control-wrapper e-input-focus') &&\n            selectAllParent.classList.contains('e-item-focus')) {\n            selectAllParent.classList.remove('e-item-focus');\n        }\n    };\n    MultiSelect.prototype.moveByList = function (position, isVirtualKeyAction) {\n        if (this.list) {\n            var elements = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li\n                + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n            if (this.mode === 'CheckBox' && this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n                elements = this.list.querySelectorAll('li.'\n                    + dropDownBaseClasses.li + ',li.' + dropDownBaseClasses.group\n                    + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n            }\n            var selectedElem = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n            if (this.enableVirtualization && isVirtualKeyAction && !isNullOrUndefined(this.currentFocuedListElement)) {\n                selectedElem = this.getElementByValue(this.getFormattedValue(this.currentFocuedListElement.getAttribute('data-value')));\n            }\n            var temp = -1;\n            var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n            if (this.mode === 'CheckBox' && this.showSelectAll && position === 1 && !isNullOrUndefined(selectAllParent) &&\n                !selectAllParent.classList.contains('e-item-focus') && this.list.getElementsByClassName('e-item-focus').length === 0 &&\n                this.liCollections.length > 1) {\n                if (!this.focusFirstListItem && selectAllParent.classList.contains('e-item-focus')) {\n                    selectAllParent.classList.remove('e-item-focus');\n                }\n                else if (!selectAllParent.classList.contains('e-item-focus')) {\n                    selectAllParent.classList.add('e-item-focus');\n                }\n            }\n            else if (elements.length) {\n                if (this.mode === 'CheckBox' && this.showSelectAll && !isNullOrUndefined(selectAllParent && position === -1)) {\n                    if (!this.focusFirstListItem && selectAllParent.classList.contains('e-item-focus')) {\n                        selectAllParent.classList.remove('e-item-focus');\n                    }\n                    else if (this.focusFirstListItem && !selectAllParent.classList.contains('e-item-focus')) {\n                        selectAllParent.classList.add('e-item-focus');\n                    }\n                }\n                for (var index = 0; index < elements.length; index++) {\n                    if (elements[index] === selectedElem) {\n                        temp = index;\n                        break;\n                    }\n                }\n                if (position > 0) {\n                    if (temp < (elements.length - 1)) {\n                        this.removeFocus();\n                        if (this.enableVirtualization && isVirtualKeyAction) {\n                            this.addListFocus(elements[temp]);\n                        }\n                        else {\n                            if (this.enableVirtualization && elements[temp + 1].classList.contains('e-virtual-list')) {\n                                this.addListFocus(elements[this.skeletonCount]);\n                            }\n                            else {\n                                this.addListFocus(elements[++temp]);\n                            }\n                        }\n                        if (temp > -1) {\n                            this.updateCheck(elements[temp]);\n                            this.scrollBottom(elements[temp], temp);\n                            this.currentFocuedListElement = elements[temp];\n                        }\n                    }\n                }\n                else {\n                    if (temp > 0) {\n                        if (this.enableVirtualization) {\n                            var isVirtualElement = elements[temp - 1].classList.contains('e-virtual-list');\n                            var elementIndex = isVirtualKeyAction ? temp : temp - 1;\n                            if (isVirtualKeyAction || !isVirtualElement) {\n                                this.removeFocus();\n                            }\n                            if (isVirtualKeyAction || !isVirtualElement) {\n                                this.addListFocus(elements[elementIndex]);\n                                this.updateCheck(elements[elementIndex]);\n                                this.scrollTop(elements[elementIndex], temp);\n                                this.currentFocuedListElement = elements[elementIndex];\n                            }\n                        }\n                        else {\n                            this.removeFocus();\n                            this.addListFocus(elements[--temp]);\n                            this.updateCheck(elements[temp]);\n                            this.scrollTop(elements[temp], temp);\n                        }\n                    }\n                }\n            }\n        }\n        var focusedLi = this.list ? this.list.querySelector('.e-item-focus') : null;\n        if (this.isDisabledElement(focusedLi)) {\n            if (this.list.querySelectorAll('.e-list-item:not(.e-hide-listitem):not(.e-disabled)').length === 0 || (this.keyCode === 38 && this.mode === 'CheckBox' && this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy) && focusedLi === this.list.querySelector('li.e-list-group-item'))) {\n                this.removeFocus();\n                return;\n            }\n            var index = this.getIndexByValue(focusedLi.getAttribute('data-value'));\n            if (index === 0 && this.mode !== 'CheckBox') {\n                position = 1;\n            }\n            if (index === (this.list.querySelectorAll('.e-list-item:not(.e-hide-listitem)').length - 1)) {\n                position = -1;\n            }\n            this.moveByList(position);\n        }\n    };\n    MultiSelect.prototype.getElementByValue = function (value) {\n        var item;\n        var listItems = this.getItems();\n        for (var _i = 0, listItems_1 = listItems; _i < listItems_1.length; _i++) {\n            var liItem = listItems_1[_i];\n            if (this.getFormattedValue(liItem.getAttribute('data-value')) === value) {\n                item = liItem;\n                break;\n            }\n        }\n        return item;\n    };\n    MultiSelect.prototype.updateCheck = function (element) {\n        if (this.mode === 'CheckBox' && this.enableGroupCheckBox &&\n            !isNullOrUndefined(this.fields.groupBy)) {\n            var checkElement = element.firstElementChild.lastElementChild;\n            if (checkElement.classList.contains('e-check')) {\n                element.classList.add('e-active');\n            }\n            else {\n                element.classList.remove('e-active');\n            }\n        }\n    };\n    MultiSelect.prototype.moveBy = function (position, e) {\n        var temp;\n        var elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP);\n        var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        if (selectedElem === null) {\n            if (position < 0) {\n                this.addChipSelection(elements[elements.length - 1], e);\n            }\n        }\n        else {\n            if (position < 0) {\n                temp = selectedElem.previousElementSibling;\n                if (temp !== null) {\n                    this.removeChipSelection();\n                    this.addChipSelection(temp, e);\n                }\n            }\n            else {\n                temp = selectedElem.nextElementSibling;\n                this.removeChipSelection();\n                if (temp !== null) {\n                    this.addChipSelection(temp, e);\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.chipClick = function (e) {\n        if (this.enabled) {\n            var elem = closest(e.target, '.' + CHIP);\n            this.removeChipSelection();\n            this.addChipSelection(elem, e);\n        }\n    };\n    MultiSelect.prototype.removeChipSelection = function () {\n        if (this.chipCollectionWrapper) {\n            this.removeChipFocus();\n        }\n    };\n    MultiSelect.prototype.addChipSelection = function (element, e) {\n        addClass([element], CHIP_SELECTED);\n        this.trigger('chipSelection', e);\n    };\n    MultiSelect.prototype.onChipRemove = function (e) {\n        if (e.which === 3 || e.button === 2) {\n            return;\n        }\n        if (this.enabled && !this.readonly) {\n            var element = e.target.parentElement;\n            var customVal = element.getAttribute('data-value');\n            var value = this.allowObjectBinding ?\n                this.getDataByValue(this.getFormattedValue(customVal)) : this.getFormattedValue(customVal);\n            if (this.allowCustomValue && ((customVal !== 'false' && value === false) ||\n                (!isNullOrUndefined(value) && value.toString() === 'NaN'))) {\n                value = customVal;\n            }\n            if (this.isPopupOpen() && this.mode !== 'CheckBox') {\n                this.hidePopup(e);\n            }\n            if (!this.inputFocus) {\n                this.inputElement.focus();\n            }\n            this.removeValue(value, e);\n            value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', value) : value;\n            if (isNullOrUndefined(this.findListElement(this.list, 'li', 'data-value', value)) &&\n                this.mainList && this.listData) {\n                var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n                this.onActionComplete(list, this.mainData);\n            }\n            this.updateDelimeter(this.delimiterChar, e);\n            if (this.placeholder && this.floatLabelType === 'Never') {\n                this.makeTextBoxEmpty();\n                this.checkPlaceholderSize();\n            }\n            else {\n                this.inputElement.value = '';\n            }\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.makeTextBoxEmpty = function () {\n        this.inputElement.value = '';\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.refreshPlaceHolder = function () {\n        if (this.placeholder && this.floatLabelType === 'Never') {\n            if ((this.value && this.value.length) || (!isNullOrUndefined(this.text) && this.text !== '')) {\n                this.inputElement.placeholder = '';\n            }\n            else {\n                this.inputElement.placeholder = encodePlaceholder(this.placeholder);\n            }\n        }\n        else {\n            this.setFloatLabelType();\n        }\n        this.expandTextbox();\n    };\n    MultiSelect.prototype.removeAllItems = function (value, eve, isClearAll, element, mainElement) {\n        var index = this.allowObjectBinding ? this.indexOfObjectInArray(value, this.value) :\n            this.value.indexOf(value);\n        var removeVal = this.value.slice(0);\n        removeVal.splice(index, 1);\n        this.setProperties({ value: [].concat([], removeVal) }, true);\n        element.setAttribute('aria-selected', 'false');\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        removeClass([element], className);\n        this.notify('activeList', {\n            module: 'CheckBoxSelection',\n            enable: this.mode === 'CheckBox', li: element,\n            e: this, index: index\n        });\n        this.invokeCheckboxSelection(element, eve, isClearAll);\n        var currentValue = this.allowObjectBinding ? getValue(((this.fields.value) ?\n            this.fields.value : ''), value) : value;\n        this.updateMainList(true, currentValue, mainElement);\n        this.updateChipStatus();\n    };\n    MultiSelect.prototype.invokeCheckboxSelection = function (element, eve, isClearAll) {\n        this.notify('updatelist', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: eve });\n        this.updateAriaActiveDescendant();\n        if ((this.value && this.value.length !== this.mainData.length)\n            && (this.mode === 'CheckBox' && this.showSelectAll && !(this.isSelectAll || isClearAll))) {\n            this.notify('checkSelectAll', {\n                module: 'CheckBoxSelection',\n                enable: this.mode === 'CheckBox',\n                value: 'uncheck'\n            });\n        }\n    };\n    MultiSelect.prototype.removeValue = function (value, eve, length, isClearAll) {\n        var _this = this;\n        var index = this.allowObjectBinding ? this.indexOfObjectInArray(value, this.value) :\n            this.value.indexOf(this.getFormattedValue(value));\n        if (index === -1 && this.allowCustomValue && !isNullOrUndefined(value)) {\n            index = this.allowObjectBinding ? this.indexOfObjectInArray(value, this.value) :\n                this.value.indexOf(value.toString());\n        }\n        var targetEle = eve && eve.target;\n        isClearAll = (isClearAll || targetEle && targetEle.classList.contains('e-close-hooker')) ? true : null;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (index !== -1) {\n            var currentValue = this.allowObjectBinding ? getValue(((this.fields.value) ?\n                this.fields.value : ''), value) : value;\n            var element_1 = this.virtualSelectAll ? null : this.findListElement(this.list, 'li', 'data-value', currentValue);\n            var val_1 = this.allowObjectBinding ? value : this.getDataByValue(value);\n            var eventArgs = {\n                e: eve,\n                item: element_1,\n                itemData: val_1,\n                isInteracted: eve ? true : false,\n                cancel: false\n            };\n            this.trigger('removing', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    _this.removeIndex++;\n                }\n                else {\n                    _this.isRemoveSelection = _this.enableVirtualization ? true : _this.isRemoveSelection;\n                    _this.currentRemoveValue = _this.allowObjectBinding ? getValue(((_this.fields.value) ?\n                        _this.fields.value : ''), value) : value;\n                    _this.virtualSelectAll = false;\n                    var removeVal = _this.value.slice(0);\n                    removeVal.splice(index, 1);\n                    if (_this.enableVirtualization && _this.mode === 'CheckBox') {\n                        _this.selectedListData.splice(index, 1);\n                    }\n                    _this.setProperties({ value: [].concat([], removeVal) }, true);\n                    if (_this.enableVirtualization) {\n                        var currentText = index === 0 && _this.text.split(_this.delimiterChar) &&\n                            _this.text.split(_this.delimiterChar).length === 1 ?\n                            _this.text.replace(_this.text.split(_this.delimiterChar)[index], '') :\n                            index === 0 ? _this.text.replace(_this.text.split(_this.delimiterChar)[index] +\n                                _this.delimiterChar, '') :\n                                _this.text.replace(_this.delimiterChar + _this.text.split(_this.delimiterChar)[index], '');\n                        _this.setProperties({ text: currentText.toString() }, true);\n                    }\n                    if (element_1 !== null) {\n                        var currentValue_1 = _this.allowObjectBinding ? getValue(((_this.fields.value) ?\n                            _this.fields.value : ''), value) : value;\n                        var hideElement = _this.findListElement(_this.mainList, 'li', 'data-value', currentValue_1);\n                        element_1.setAttribute('aria-selected', 'false');\n                        removeClass([element_1], className);\n                        if (hideElement) {\n                            hideElement.setAttribute('aria-selected', 'false');\n                            removeClass([element_1, hideElement], className);\n                        }\n                        _this.notify('activeList', {\n                            module: 'CheckBoxSelection',\n                            enable: _this.mode === 'CheckBox', li: element_1,\n                            e: _this, index: index\n                        });\n                        _this.invokeCheckboxSelection(element_1, eve, isClearAll);\n                    }\n                    var currentValue_2 = _this.allowObjectBinding ? getValue(((_this.fields.value) ?\n                        _this.fields.value : ''), value) : value;\n                    if (_this.hideSelectedItem && _this.fields.groupBy && element_1) {\n                        _this.hideGroupItem(currentValue_2);\n                    }\n                    if (_this.hideSelectedItem && _this.fixedHeaderElement && _this.fields.groupBy && _this.mode !== 'CheckBox' &&\n                        _this.isPopupOpen()) {\n                        _super.prototype.scrollStop.call(_this);\n                    }\n                    _this.updateMainList(true, currentValue_2);\n                    _this.removeChip(currentValue_2, isClearAll);\n                    _this.updateChipStatus();\n                    var limit = _this.value && _this.value.length ? _this.value.length : 0;\n                    if (limit < _this.maximumSelectionLength) {\n                        var collection = _this.list.querySelectorAll('li.'\n                            + dropDownBaseClasses.li + ':not(.e-active)');\n                        removeClass(collection, 'e-disable');\n                    }\n                    _this.trigger('removed', eventArgs);\n                    var targetEle_1 = eve && eve.currentTarget;\n                    var isSelectAll = (targetEle_1 && targetEle_1.classList.contains('e-selectall-parent')) ? true : null;\n                    if (!_this.changeOnBlur && !isClearAll && (eve && length && !isSelectAll && _this.isSelectAllTarget)) {\n                        _this.updateValueState(eve, _this.value, _this.tempValues);\n                    }\n                    if (length) {\n                        _this.selectAllEventData.push(val_1);\n                        _this.selectAllEventEle.push(element_1);\n                    }\n                    if (length === 1) {\n                        if (!_this.changeOnBlur) {\n                            _this.updateValueState(eve, _this.value, _this.tempValues);\n                        }\n                        var args = {\n                            event: eve,\n                            items: _this.selectAllEventEle,\n                            itemData: _this.selectAllEventData,\n                            isInteracted: eve ? true : false,\n                            isChecked: false\n                        };\n                        _this.trigger('selectedAll', args);\n                        _this.selectAllEventData = [];\n                        _this.selectAllEventEle = [];\n                    }\n                    if (isClearAll && (length === 1 || length === null)) {\n                        _this.clearAllCallback(eve, isClearAll);\n                    }\n                    if (_this.isPopupOpen() && element_1 && element_1.parentElement.classList.contains('e-reorder')) {\n                        if (_this.hideSelectedItem && _this.value && Array.isArray(_this.value) && _this.value.length > 0) {\n                            _this.totalItemsCount();\n                        }\n                        _this.notify('setCurrentViewDataAsync', {\n                            module: 'VirtualScroll'\n                        });\n                    }\n                }\n            });\n        }\n    };\n    MultiSelect.prototype.updateMainList = function (state, value, mainElement) {\n        if (this.allowFiltering || this.mode === 'CheckBox') {\n            var element2 = mainElement ? mainElement :\n                this.findListElement(this.mainList, 'li', 'data-value', value);\n            if (element2) {\n                if (state) {\n                    element2.setAttribute('aria-selected', 'false');\n                    removeClass([element2], this.hideSelectedItem ?\n                        HIDE_LIST :\n                        dropDownBaseClasses.selected);\n                    if (this.mode === 'CheckBox') {\n                        removeClass([element2.firstElementChild.lastElementChild], 'e-check');\n                    }\n                }\n                else {\n                    element2.setAttribute('aria-selected', 'true');\n                    addClass([element2], this.hideSelectedItem ?\n                        HIDE_LIST :\n                        dropDownBaseClasses.selected);\n                    if (this.mode === 'CheckBox') {\n                        addClass([element2.firstElementChild.lastElementChild], 'e-check');\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.removeChip = function (value, isClearAll) {\n        if (this.chipCollectionWrapper) {\n            if (!(this.enableVirtualization && isClearAll)) {\n                var element = this.findListElement(this.chipCollectionWrapper, 'span', 'data-value', value);\n                if (element) {\n                    remove(element);\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.setWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.overAllWrapper.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.overAllWrapper.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    MultiSelect.prototype.updateChipStatus = function () {\n        if (this.value && this.value.length) {\n            if (!isNullOrUndefined(this.chipCollectionWrapper)) {\n                (this.chipCollectionWrapper.style.display = '');\n            }\n            if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n                this.showDelimWrapper();\n            }\n            this.showOverAllClear();\n        }\n        else {\n            if (!isNullOrUndefined(this.chipCollectionWrapper)) {\n                this.chipCollectionWrapper.style.display = 'none';\n            }\n            if (!isNullOrUndefined(this.delimiterWrapper)) {\n                (this.delimiterWrapper.style.display = 'none');\n            }\n            this.hideOverAllClear();\n        }\n    };\n    MultiSelect.prototype.indexOfObjectInArray = function (objectToFind, array) {\n        var _loop_1 = function (i) {\n            var item = array[i];\n            // eslint-disable-next-line no-prototype-builtins\n            if (Object.keys(objectToFind).every(function (key) { return item.hasOwnProperty(key) &&\n                item[key] === objectToFind[key]; })) {\n                return { value: i };\n            }\n        };\n        for (var i = 0; i < array.length; i++) {\n            var state_1 = _loop_1(i);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        return -1; // Return -1 if the object is not found\n    };\n    MultiSelect.prototype.addValue = function (value, text, eve) {\n        if (!this.value) {\n            this.value = [];\n        }\n        var currentValue = this.allowObjectBinding ? this.getDataByValue(value) : value;\n        if ((this.allowObjectBinding && !this.isObjectInArray(this.getDataByValue(value), this.value)) || (!this.allowObjectBinding &&\n            this.value.indexOf(currentValue) < 0)) {\n            this.setProperties({ value: [].concat([], this.value, [currentValue]) }, true);\n            if (this.enableVirtualization && !this.isSelectAllLoop) {\n                var data = this.viewWrapper.innerHTML;\n                var temp = void 0;\n                data += (this.value.length === 1) ? '' : this.delimiterChar + ' ';\n                temp = this.getOverflowVal(this.value.length - 1);\n                data += temp;\n                temp = this.viewWrapper.innerHTML;\n                this.updateWrapperText(this.viewWrapper, data);\n            }\n            if (this.enableVirtualization && this.mode === 'CheckBox') {\n                var currentText = [];\n                var value_1 = this.allowObjectBinding ?\n                    getValue(((this.fields.value) ? this.fields.value : ''), this.value[this.value.length - 1]) :\n                    this.value[this.value.length - 1];\n                var temp = text;\n                var textValues = this.text != null && this.text !== '' ? this.text + ',' + temp : temp;\n                currentText.push(textValues);\n                this.setProperties({ text: currentText.toString() }, true);\n            }\n        }\n        var element = this.findListElement(this.list, 'li', 'data-value', value);\n        this.removeFocus();\n        if (element) {\n            this.addListFocus(element);\n            this.addListSelection(element);\n        }\n        if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n            this.addChip(text, value, eve);\n        }\n        if (this.hideSelectedItem && this.fields.groupBy) {\n            this.hideGroupItem(value);\n        }\n        this.updateChipStatus();\n        this.checkMaxSelection();\n    };\n    MultiSelect.prototype.checkMaxSelection = function () {\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        if (limit === this.maximumSelectionLength) {\n            var activeItems = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li + '.e-active');\n            removeClass(activeItems, 'e-disable');\n            var inactiveItems = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li + ':not(.e-active)');\n            addClass(inactiveItems, 'e-disable');\n        }\n        if (limit < this.maximumSelectionLength) {\n            var collection = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li);\n            removeClass(collection, 'e-disable');\n        }\n    };\n    MultiSelect.prototype.dispatchSelect = function (value, eve, element, isNotTrigger, length, dataValue, text) {\n        var _this = this;\n        var list = this.listData;\n        if (this.initStatus && !isNotTrigger) {\n            value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), value) : value;\n            var val_2 = dataValue ? dataValue : this.getDataByValue(value);\n            var eventArgs = {\n                e: eve,\n                item: element,\n                itemData: val_2,\n                isInteracted: eve ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    if (length) {\n                        _this.selectAllEventData.push(val_2);\n                        _this.selectAllEventEle.push(element);\n                    }\n                    if (length === 1) {\n                        var args = {\n                            event: eve,\n                            items: _this.selectAllEventEle,\n                            itemData: _this.selectAllEventData,\n                            isInteracted: eve ? true : false,\n                            isChecked: true\n                        };\n                        _this.trigger('selectedAll', args);\n                        _this.selectAllEventData = [];\n                    }\n                    if (_this.allowCustomValue && _this.isServerRendered && _this.listData !== list) {\n                        _this.listData = list;\n                    }\n                    value = _this.allowObjectBinding ? _this.getDataByValue(value) : value;\n                    if (_this.enableVirtualization) {\n                        if (isNullOrUndefined(_this.selectedListData)) {\n                            _this.selectedListData = [(_this.getDataByValue(value))];\n                        }\n                        else {\n                            if (dataValue) {\n                                if (Array.isArray(_this.selectedListData)) {\n                                    _this.selectedListData.push(dataValue);\n                                }\n                                else {\n                                    _this.selectedListData = [_this.selectedListData, dataValue];\n                                }\n                            }\n                            else {\n                                if (Array.isArray(_this.selectedListData)) {\n                                    _this.selectedListData.push((_this.getDataByValue(value)));\n                                }\n                                else {\n                                    _this.selectedListData = [_this.selectedListData, (_this.getDataByValue(value))];\n                                }\n                            }\n                        }\n                    }\n                    if ((_this.enableVirtualization && value) || !_this.enableVirtualization) {\n                        _this.updateListSelectEventCallback(value, element, eve, text);\n                    }\n                    if (_this.hideSelectedItem && _this.fixedHeaderElement && _this.fields.groupBy && _this.mode !== 'CheckBox') {\n                        _super.prototype.scrollStop.call(_this);\n                    }\n                }\n            });\n        }\n    };\n    MultiSelect.prototype.addChip = function (text, value, e) {\n        if (this.chipCollectionWrapper) {\n            this.getChip(text, value, e);\n        }\n    };\n    MultiSelect.prototype.removeChipFocus = function () {\n        var elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP + '.' + CHIP_SELECTED);\n        removeClass(elements, CHIP_SELECTED);\n        if (Browser.isDevice) {\n            var closeElements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP_CLOSE.split(' ')[0]);\n            for (var index = 0; index < closeElements.length; index++) {\n                closeElements[index].style.display = 'none';\n            }\n        }\n    };\n    MultiSelect.prototype.onMobileChipInteraction = function (e) {\n        var chipElem = closest(e.target, '.' + CHIP);\n        var chipClose = chipElem.querySelector('span.' + CHIP_CLOSE.split(' ')[0]);\n        if (this.enabled && !this.readonly) {\n            if (!chipElem.classList.contains(CHIP_SELECTED)) {\n                this.removeChipFocus();\n                chipClose.style.display = '';\n                chipElem.classList.add(CHIP_SELECTED);\n            }\n            this.refreshPopup();\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.multiCompiler = function (multiselectTemplate) {\n        var checkTemplate = false;\n        if (typeof multiselectTemplate !== 'function' && multiselectTemplate) {\n            try {\n                checkTemplate = (selectAll(multiselectTemplate, document).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    MultiSelect.prototype.encodeHtmlEntities = function (input) {\n        return input.replace(/[\\u00A0-\\u9999<>&]/g, function (match) {\n            return \"&#\" + match.charCodeAt(0) + \";\";\n        });\n    };\n    MultiSelect.prototype.getChip = function (data, value, e) {\n        var _this = this;\n        var itemData = { text: value, value: value };\n        var chip = this.createElement('span', {\n            className: CHIP,\n            attrs: { 'data-value': value, 'title': data }\n        });\n        var compiledString;\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var chipClose = this.createElement('span', { className: CHIP_CLOSE });\n        if (this.mainData) {\n            itemData = this.getDataByValue(value);\n        }\n        if (this.valueTemplate && !isNullOrUndefined(itemData)) {\n            var valuecheck = this.multiCompiler(this.valueTemplate);\n            if (typeof this.valueTemplate !== 'function' && valuecheck) {\n                compiledString = compile(select(this.valueTemplate, document).innerHTML.trim());\n            }\n            else {\n                compiledString = compile(this.valueTemplate);\n            }\n            var valueCompTemp = compiledString(itemData, this, 'valueTemplate', this.valueTemplateId, this.isStringTemplate, null, chipContent);\n            if (valueCompTemp && valueCompTemp.length > 0) {\n                append(valueCompTemp, chipContent);\n            }\n            this.renderReactTemplates();\n        }\n        else if (this.enableHtmlSanitizer) {\n            chipContent.innerText = data;\n        }\n        else {\n            chipContent.innerHTML = this.encodeHtmlEntities(data.toString());\n        }\n        chip.appendChild(chipContent);\n        var eventArgs = {\n            isInteracted: e ? true : false,\n            itemData: itemData,\n            e: e,\n            setClass: function (classes) {\n                addClass([chip], classes);\n            },\n            cancel: false\n        };\n        this.isPreventChange = this.isAngular && this.preventChange;\n        this.trigger('tagging', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                if (Browser.isDevice) {\n                    chip.classList.add(MOBILE_CHIP);\n                    append([chipClose], chip);\n                    chipClose.style.display = 'none';\n                    EventHandler.add(chip, 'click', _this.onMobileChipInteraction, _this);\n                }\n                else {\n                    EventHandler.add(chip, 'mousedown', _this.chipClick, _this);\n                    if (_this.showClearButton) {\n                        chip.appendChild(chipClose);\n                    }\n                }\n                EventHandler.add(chipClose, 'mousedown', _this.onChipRemove, _this);\n                _this.chipCollectionWrapper.appendChild(chip);\n                if (!_this.changeOnBlur && e) {\n                    _this.updateValueState(e, _this.value, _this.tempValues);\n                }\n            }\n        });\n    };\n    MultiSelect.prototype.calcPopupWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = (this.componentWrapper.offsetWidth) * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    MultiSelect.prototype.mouseIn = function () {\n        if (this.enabled && !this.readonly) {\n            this.showOverAllClear();\n        }\n    };\n    MultiSelect.prototype.mouseOut = function () {\n        if (!this.inputFocus) {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.listOption = function (dataSource, fields) {\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n        var fieldProperty = isNullOrUndefined(fields.properties) ? fields :\n            fields.properties;\n        this.listCurrentOptions = (fields.text !== null || fields.value !== null) ? {\n            fields: fieldProperty, showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\n        } : { fields: { value: 'text' } };\n        extend(this.listCurrentOptions, this.listCurrentOptions, fields, true);\n        if (this.mode === 'CheckBox') {\n            this.notify('listoption', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', dataSource: dataSource, fieldProperty: fieldProperty });\n        }\n        return this.listCurrentOptions;\n    };\n    MultiSelect.prototype.renderPopup = function () {\n        var _this = this;\n        if (!this.list) {\n            _super.prototype.render.call(this);\n        }\n        if (!this.popupObj) {\n            if (!isNullOrUndefined(this.popupWrapper)) {\n                document.body.appendChild(this.popupWrapper);\n                var checkboxFilter = this.popupWrapper.querySelector('.' + FILTERPARENT);\n                if (this.mode === 'CheckBox' && !this.allowFiltering && checkboxFilter && this.filterParent) {\n                    checkboxFilter.remove();\n                    this.filterParent = null;\n                }\n                var overAllHeight = parseInt(this.popupHeight, 10);\n                this.popupWrapper.style.visibility = 'hidden';\n                if (this.headerTemplate) {\n                    this.setHeaderTemplate();\n                    overAllHeight -= this.header.offsetHeight;\n                }\n                append([this.list], this.popupWrapper);\n                if (!this.list.classList.contains(dropDownBaseClasses.noData) && this.getItems()[1]) {\n                    this.listItemHeight = this.getItems()[1].offsetHeight +\n                        parseInt(window.getComputedStyle(this.getItems()[1]).marginBottom, 10);\n                }\n                if (this.enableVirtualization && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    if (!this.list.querySelector('.e-virtual-ddl-content') && this.list.querySelector('.e-list-parent')) {\n                        this.list.appendChild(this.createElement('div', {\n                            className: 'e-virtual-ddl-content',\n                            styles: this.getTransformValues()\n                        })).appendChild(this.list.querySelector('.e-list-parent'));\n                    }\n                    else if (this.list.querySelector('.e-virtual-ddl-content')) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    }\n                    this.UpdateSkeleton();\n                    this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    this.virtualItemCount = this.itemCount;\n                    if (this.mode !== 'CheckBox') {\n                        this.totalItemsCount();\n                    }\n                    if (!this.list.querySelector('.e-virtual-ddl')) {\n                        var virualElement = this.createElement('div', {\n                            id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                        });\n                        this.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n                    }\n                }\n                if (this.footerTemplate) {\n                    this.setFooterTemplate();\n                    overAllHeight -= this.footer.offsetHeight;\n                }\n                if (this.mode === 'CheckBox' && this.showSelectAll) {\n                    this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                    overAllHeight -= this.selectAllHeight;\n                }\n                else if (this.mode === 'CheckBox' && !this.showSelectAll && (!this.headerTemplate && !this.footerTemplate)) {\n                    this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                    overAllHeight = parseInt(this.popupHeight, 10);\n                }\n                else if (this.mode === 'CheckBox' && !this.showSelectAll) {\n                    this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                    overAllHeight = parseInt(this.popupHeight, 10);\n                    if (this.headerTemplate && this.header) {\n                        overAllHeight -= this.header.offsetHeight;\n                    }\n                    if (this.footerTemplate && this.footer) {\n                        overAllHeight -= this.footer.offsetHeight;\n                    }\n                }\n                if (this.mode === 'CheckBox') {\n                    var args = {\n                        module: 'CheckBoxSelection',\n                        enable: this.mode === 'CheckBox',\n                        popupElement: this.popupWrapper\n                    };\n                    if (this.allowFiltering) {\n                        this.notify('searchBox', args);\n                        overAllHeight -= this.searchBoxHeight;\n                    }\n                    addClass([this.popupWrapper], 'e-checkbox');\n                }\n                if (this.popupHeight !== 'auto') {\n                    this.list.style.maxHeight = formatUnit(overAllHeight);\n                    this.popupWrapper.style.maxHeight = formatUnit(this.popupHeight);\n                }\n                else {\n                    this.list.style.maxHeight = formatUnit(this.popupHeight);\n                }\n                this.popupObj = new Popup(this.popupWrapper, {\n                    width: this.calcPopupWidth(), targetType: 'relative',\n                    position: this.enableRtl ? { X: 'right', Y: 'bottom' } : { X: 'left', Y: 'bottom' },\n                    relateTo: this.overAllWrapper,\n                    collision: this.enableRtl ? { X: 'fit', Y: 'flip' } : { X: 'flip', Y: 'flip' }, offsetY: 1,\n                    enableRtl: this.enableRtl, zIndex: this.zIndex,\n                    close: function () {\n                        if (_this.popupObj.element.parentElement) {\n                            _this.popupObj.unwireScrollEvents();\n                            // For restrict the page scrolling in safari browser\n                            var checkboxFilterInput = _this.popupWrapper.querySelector('.' + FILTERINPUT);\n                            if (_this.mode === 'CheckBox' && checkboxFilterInput && document.activeElement === checkboxFilterInput) {\n                                checkboxFilterInput.blur();\n                            }\n                            detach(_this.popupObj.element);\n                        }\n                    },\n                    open: function () {\n                        _this.popupObj.resolveCollision();\n                        if (!_this.isFirstClick) {\n                            var ulElement = _this.list.querySelector('ul');\n                            if (ulElement) {\n                                if (!(_this.mode !== 'CheckBox' && (_this.allowFiltering || _this.allowCustomValue) &&\n                                    _this.targetElement().trim() !== '')) {\n                                    _this.mainList = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n                                }\n                            }\n                            _this.isFirstClick = true;\n                        }\n                        _this.popupObj.wireScrollEvents();\n                        if (!(_this.mode !== 'CheckBox' && (_this.allowFiltering || _this.allowCustomValue) &&\n                            _this.targetElement().trim() !== '') && !_this.enableVirtualization) {\n                            _this.loadTemplate();\n                            if (_this.enableVirtualization && _this.mode === 'CheckBox') {\n                                _this.UpdateSkeleton();\n                            }\n                        }\n                        _this.isPreventScrollAction = true;\n                        _this.setScrollPosition();\n                        if (!_this.list.classList.contains(dropDownBaseClasses.noData) && _this.getItems()[1] &&\n                            _this.getItems()[1].offsetHeight !== 0) {\n                            _this.listItemHeight = _this.getItems()[1].offsetHeight +\n                                parseInt(window.getComputedStyle(_this.getItems()[1]).marginBottom, 10);\n                            if (_this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n                                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                                _this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = _this.getTransformValues();\n                            }\n                        }\n                        if (_this.allowFiltering) {\n                            _this.notify('inputFocus', {\n                                module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox', value: 'focus'\n                            });\n                        }\n                        if (_this.enableVirtualization) {\n                            _this.notify('bindScrollEvent', {\n                                module: 'VirtualScroll',\n                                component: _this.getModuleName(),\n                                enable: _this.enableVirtualization\n                            });\n                            setTimeout(function () {\n                                if (_this.value) {\n                                    _this.updateSelectionList();\n                                }\n                                else if (_this.viewPortInfo && _this.viewPortInfo.offsets.top) {\n                                    _this.list.scrollTop = _this.viewPortInfo.offsets.top;\n                                }\n                            }, 5);\n                        }\n                    }, targetExitViewport: function () {\n                        if (!Browser.isDevice) {\n                            _this.hidePopup();\n                        }\n                    }\n                });\n                this.checkCollision(this.popupWrapper);\n                this.popupContentElement = this.popupObj.element.querySelector('.e-content');\n                if (this.mode === 'CheckBox' && Browser.isDevice && this.allowFiltering && this.isDeviceFullScreen) {\n                    this.notify('deviceSearchBox', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                }\n                this.popupObj.close();\n                this.popupWrapper.style.visibility = '';\n            }\n        }\n    };\n    MultiSelect.prototype.checkCollision = function (popupEle) {\n        if (!(this.mode === 'CheckBox' && Browser.isDevice && this.allowFiltering && this.isDeviceFullScreen)) {\n            var collision = isCollide(popupEle);\n            if (collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n            }\n            this.popupObj.resolveCollision();\n        }\n    };\n    MultiSelect.prototype.setHeaderTemplate = function () {\n        var compiledString;\n        if (this.header) {\n            this.header.remove();\n        }\n        this.header = this.createElement('div');\n        addClass([this.header], HEADER);\n        var headercheck = this.multiCompiler(this.headerTemplate);\n        if (typeof this.headerTemplate !== 'function' && headercheck) {\n            compiledString = compile(select(this.headerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.headerTemplate);\n        }\n        // eslint-disable-next-line\n        var elements = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, null, this.header);\n        if (elements && elements.length > 0) {\n            append(elements, this.header);\n        }\n        if (this.mode === 'CheckBox' && this.showSelectAll) {\n            prepend([this.header], this.popupWrapper);\n        }\n        else {\n            append([this.header], this.popupWrapper);\n        }\n        EventHandler.add(this.header, 'mousedown', this.onListMouseDown, this);\n    };\n    MultiSelect.prototype.setFooterTemplate = function () {\n        var compiledString;\n        if (this.footer) {\n            this.footer.remove();\n        }\n        this.footer = this.createElement('div');\n        addClass([this.footer], FOOTER);\n        var footercheck = this.multiCompiler(this.footerTemplate);\n        if (typeof this.footerTemplate !== 'function' && footercheck) {\n            compiledString = compile(select(this.footerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.footerTemplate);\n        }\n        // eslint-disable-next-line\n        var elements = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, null, this.footer);\n        if (elements && elements.length > 0) {\n            append(elements, this.footer);\n        }\n        append([this.footer], this.popupWrapper);\n        EventHandler.add(this.footer, 'mousedown', this.onListMouseDown, this);\n    };\n    MultiSelect.prototype.updateInitialData = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var currentData = this.selectData;\n        var ulElement = this.renderItems(currentData, this.fields);\n        this.list.scrollTop = 0;\n        this.virtualListInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: this.itemCount\n        };\n        this.previousStartIndex = 0;\n        this.previousEndIndex = this.itemCount;\n        if (this.dataSource instanceof DataManager) {\n            if (this.remoteDataCount >= 0) {\n                this.totalItemCount = this.dataCount = this.remoteDataCount;\n            }\n            else {\n                this.resetList(this.dataSource);\n            }\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        if (this.mode !== 'CheckBox') {\n            this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n        }\n        this.getSkeletonCount();\n        this.UpdateSkeleton();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n        }\n        else if (!this.list.querySelector('.e-virtual-ddl') && this.skeletonCount > 0) {\n            var virualElement = this.createElement('div', {\n                id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n            });\n            this.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n        }\n        this.listData = currentData;\n        this.liCollections = this.list.querySelectorAll('.e-list-item');\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n        }\n        if (this.enableVirtualization) {\n            this.notify('setGeneratedData', {\n                module: 'VirtualScroll'\n            });\n        }\n    };\n    MultiSelect.prototype.clearAll = function (e) {\n        if (this.enabled && !this.readonly) {\n            var temp = void 0;\n            if (this.value && this.value.length > 0) {\n                if (this.allowFiltering) {\n                    this.refreshListItems(null);\n                    if (this.mode === 'CheckBox' && this.targetInputElement) {\n                        this.targetInputElement.value = '';\n                    }\n                }\n                var liElement = this.list && this.list.querySelectorAll('li.e-list-item');\n                if (liElement && liElement.length > 0) {\n                    this.selectAllItems(false, e);\n                }\n                else {\n                    this.removeIndex = 0;\n                    for (temp = this.value[this.removeIndex]; this.removeIndex < this.value.length; temp = this.value[this.removeIndex]) {\n                        this.removeValue(temp, e, null, true);\n                    }\n                }\n                this.selectedElementID = null;\n                this.inputElement.removeAttribute('aria-activedescendant');\n            }\n            else {\n                this.clearAllCallback(e);\n            }\n            this.checkAndResetCache();\n            Input.createSpanElement(this.overAllWrapper, this.createElement);\n            this.calculateWidth();\n            if (!isNullOrUndefined(this.overAllWrapper) && !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] && this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n                this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n            }\n            if (this.enableVirtualization) {\n                this.updateInitialData();\n                if (this.chipCollectionWrapper) {\n                    this.chipCollectionWrapper.innerHTML = '';\n                }\n                if (!this.isCustomDataUpdated) {\n                    this.notify('setGeneratedData', {\n                        module: 'VirtualScroll'\n                    });\n                }\n            }\n            if (this.enableVirtualization) {\n                this.list.scrollTop = 0;\n                this.virtualListInfo = null;\n                this.previousStartIndex = 0;\n                this.previousEndIndex = 0;\n            }\n        }\n    };\n    MultiSelect.prototype.clearAllCallback = function (e, isClearAll) {\n        var tempValues = this.value ? this.value.slice() : [];\n        if (this.mainList && this.listData && ((this.allowFiltering && this.mode !== 'CheckBox') || this.allowCustomValue)) {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            this.onActionComplete(list, this.mainData);\n        }\n        this.focusAtFirstListItem();\n        this.updateDelimeter(this.delimiterChar, e);\n        if (this.mode !== 'Box' && (!this.inputFocus || this.mode === 'CheckBox')) {\n            this.updateDelimView();\n        }\n        if (this.inputElement.value !== '') {\n            this.makeTextBoxEmpty();\n            this.search(null);\n        }\n        this.checkPlaceholderSize();\n        if (this.isPopupOpen()) {\n            this.refreshPopup();\n        }\n        if (!this.inputFocus) {\n            if (this.changeOnBlur) {\n                this.updateValueState(e, this.value, tempValues);\n            }\n            if (this.mode !== 'CheckBox') {\n                this.inputElement.focus();\n            }\n        }\n        if (this.mode === 'CheckBox') {\n            this.refreshPlaceHolder();\n            this.refreshInputHight();\n            if (this.changeOnBlur && isClearAll && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n                this.updateValueState(e, this.value, this.tempValues);\n            }\n        }\n        if (!this.changeOnBlur && isClearAll && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n            this.updateValueState(e, this.value, this.tempValues);\n        }\n        if (this.mode === 'CheckBox' && this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n            this.updateListItems(this.list.querySelectorAll('li.e-list-item'), this.mainList.querySelectorAll('li.e-list-item'));\n        }\n        e.preventDefault();\n    };\n    MultiSelect.prototype.windowResize = function () {\n        this.refreshPopup();\n        if ((!this.inputFocus || this.mode === 'CheckBox') && this.viewWrapper && this.viewWrapper.parentElement) {\n            this.updateDelimView();\n        }\n    };\n    MultiSelect.prototype.resetValueHandler = function (e) {\n        if (!isNullOrUndefined(this.inputElement)) {\n            var formElement = closest(this.inputElement, 'form');\n            if (formElement && e.target === formElement) {\n                var textVal = (this.element.tagName === this.getNgDirective()) ?\n                    null : this.element.getAttribute('data-initial-value');\n                this.text = textVal;\n            }\n        }\n    };\n    MultiSelect.prototype.wireEvent = function () {\n        EventHandler.add(this.componentWrapper, 'mousedown', this.wrapperClick, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(this.inputElement, 'focus', this.focusInHandler, this);\n        EventHandler.add(this.inputElement, 'keydown', this.onKeyDown, this);\n        EventHandler.add(this.inputElement, 'keyup', this.keyUp, this);\n        if (this.mode !== 'CheckBox') {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n        }\n        EventHandler.add(this.inputElement, 'blur', this.onBlurHandler, this);\n        EventHandler.add(this.componentWrapper, 'mouseover', this.mouseIn, this);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        EventHandler.add(this.componentWrapper, 'mouseout', this.mouseOut, this);\n        EventHandler.add(this.overAllClear, 'mousedown', this.clearAll, this);\n        EventHandler.add(this.inputElement, 'paste', this.pasteHandler, this);\n    };\n    MultiSelect.prototype.onInput = function (e) {\n        if (this.keyDownStatus) {\n            this.isValidKey = true;\n        }\n        else {\n            this.isValidKey = false;\n        }\n        this.keyDownStatus = false;\n        // For Filtering works in mobile firefox\n        if (Browser.isDevice && Browser.info.name === 'mozilla') {\n            this.search(e);\n        }\n    };\n    MultiSelect.prototype.pasteHandler = function (event) {\n        var _this = this;\n        setTimeout(function () {\n            _this.expandTextbox();\n            _this.search(event);\n        });\n    };\n    MultiSelect.prototype.search = function (e) {\n        var _this = this;\n        this.resetFilteredData = true;\n        this.preventSetCurrentData = false;\n        this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n        if (!isNullOrUndefined(e)) {\n            this.keyCode = e.keyCode;\n        }\n        if (!this.isPopupOpen() && this.openOnClick) {\n            this.showPopup(e);\n        }\n        this.openClick(e);\n        if (this.checkTextLength() && !this.allowFiltering && !isNullOrUndefined(e) && (e.keyCode !== 8)) {\n            this.focusAtFirstListItem();\n        }\n        else {\n            var text = this.targetElement();\n            if (this.allowFiltering) {\n                if (this.allowCustomValue) {\n                    this.isRemoteSelection = true;\n                }\n                this.checkAndResetCache();\n                this.isRequesting = false;\n                var eventArgs_1 = {\n                    preventDefaultAction: false,\n                    text: this.targetElement(),\n                    updateData: function (dataSource, query, fields) {\n                        if (eventArgs_1.cancel) {\n                            return;\n                        }\n                        _this.isFiltered = true;\n                        _this.customFilterQuery = query;\n                        _this.remoteFilterAction = true;\n                        _this.dataUpdater(dataSource, query, fields);\n                    },\n                    event: e,\n                    cancel: false\n                };\n                this.trigger('filtering', eventArgs_1, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        if (!_this.isFiltered && !eventArgs.preventDefaultAction) {\n                            _this.filterAction = true;\n                            if (_this.dataSource instanceof DataManager && _this.allowCustomValue) {\n                                _this.isCustomRendered = false;\n                            }\n                            _this.dataUpdater(_this.dataSource, null, _this.fields);\n                        }\n                    }\n                });\n            }\n            else if (this.allowCustomValue) {\n                var query = new Query();\n                query = this.allowFiltering && (text !== '') ? query.where(this.fields.text, 'startswith', text, this.ignoreCase, this.ignoreAccent) : query;\n                if (this.enableVirtualization) {\n                    this.dataUpdater(this.dataSource, query, this.fields);\n                }\n                else {\n                    this.dataUpdater(this.mainData, query, this.fields);\n                }\n                this.UpdateSkeleton();\n            }\n            else {\n                var liCollections = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-hide-listitem)');\n                var type = this.typeOfData(this.listData).typeof;\n                var activeElement = Search(this.targetElement(), liCollections, 'StartsWith', this.ignoreCase);\n                if (this.enableVirtualization && this.targetElement().trim() !== '' && !this.allowFiltering) {\n                    var updatingincrementalindex = false;\n                    if ((this.viewPortInfo.endIndex >= this.incrementalEndIndex && this.incrementalEndIndex <= this.totalItemCount) ||\n                        this.incrementalEndIndex === 0) {\n                        updatingincrementalindex = true;\n                        this.incrementalStartIndex = 0;\n                        this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                        this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                        updatingincrementalindex = false;\n                    }\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    activeElement = Search(this.targetElement(), this.incrementalLiCollections, this.filterType, true, this.listData, this.fields, type);\n                    while (isNullOrUndefined(activeElement) && this.incrementalEndIndex < this.totalItemCount) {\n                        this.incrementalStartIndex = this.incrementalEndIndex;\n                        this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount :\n                            this.incrementalEndIndex + 100;\n                        this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                        updatingincrementalindex = true;\n                        if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                            this.updateIncrementalView(0, this.itemCount);\n                        }\n                        activeElement = Search(this.targetElement(), this.incrementalLiCollections, this.filterType, true, this.listData, this.fields, type);\n                        if (!isNullOrUndefined(activeElement)) {\n                            break;\n                        }\n                        if (isNullOrUndefined(activeElement) && this.incrementalEndIndex >= this.totalItemCount) {\n                            this.incrementalStartIndex = 0;\n                            this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                            break;\n                        }\n                    }\n                    if (activeElement.index) {\n                        if (!(this.viewPortInfo.startIndex >= activeElement.index) ||\n                            !(activeElement.index >= this.viewPortInfo.endIndex)) {\n                            var startIndex = activeElement.index - ((this.itemCount / 2) - 2) > 0\n                                ? activeElement.index - ((this.itemCount / 2) - 2)\n                                : 0;\n                            var endIndex = startIndex + this.itemCount > this.totalItemCount\n                                ? this.totalItemCount\n                                : startIndex + this.itemCount;\n                            if (startIndex !== this.viewPortInfo.startIndex) {\n                                this.updateIncrementalView(startIndex, endIndex);\n                            }\n                        }\n                    }\n                    if (!isNullOrUndefined(activeElement.item)) {\n                        var index1 = this.getIndexByValue(activeElement.item.getAttribute('data-value')) - this.skeletonCount;\n                        if (index1 > this.itemCount / 2) {\n                            var startIndex = this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) < this.totalItemCount\n                                ? this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2)\n                                : this.totalItemCount;\n                            var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount\n                                ? this.totalItemCount\n                                : this.viewPortInfo.startIndex + this.itemCount;\n                            this.updateIncrementalView(startIndex, endIndex);\n                        }\n                        activeElement.item = this.getElementByValue(activeElement.item.getAttribute('data-value'));\n                    }\n                    else {\n                        this.updateIncrementalView(0, this.itemCount);\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                        this.list.scrollTop = 0;\n                    }\n                    if (activeElement && activeElement.item) {\n                        activeElement.item = this.getElementByValue(activeElement.item.getAttribute('data-value'));\n                    }\n                }\n                if (activeElement && activeElement.item) {\n                    this.addListFocus(activeElement.item);\n                    this.list.scrollTop =\n                        activeElement.item.offsetHeight * activeElement.index;\n                }\n                else if (this.targetElement() !== '') {\n                    this.removeFocus();\n                }\n                else {\n                    this.focusAtFirstListItem();\n                }\n            }\n        }\n        if (this.enableVirtualization && this.allowFiltering) {\n            this.getFilteringSkeletonCount();\n        }\n    };\n    MultiSelect.prototype.preRender = function () {\n        if (this.allowFiltering === null) {\n            this.allowFiltering = (this.mode === 'CheckBox') ? true : false;\n        }\n        this.preventSetCurrentData = false;\n        this.initializeData();\n        this.updateDataAttribute(this.htmlAttributes);\n        _super.prototype.preRender.call(this);\n    };\n    MultiSelect.prototype.getLocaleName = function () {\n        return 'multi-select';\n    };\n    MultiSelect.prototype.initializeData = function () {\n        this.mainListCollection = [];\n        this.beforePopupOpen = false;\n        this.filterAction = false;\n        this.remoteFilterAction = false;\n        this.isFirstClick = false;\n        this.mobFilter = true;\n        this.isFiltered = false;\n        this.focused = true;\n        this.initial = true;\n        this.backCommand = true;\n        this.isCustomRendered = false;\n        this.isRemoteSelection = false;\n        this.isSelectAllTarget = true;\n        this.viewPortInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: this.itemCount\n        };\n    };\n    MultiSelect.prototype.updateData = function (delimiterChar, e) {\n        var data = '';\n        var delim = this.mode === 'Delimiter' || this.mode === 'CheckBox';\n        var text = [];\n        var temp;\n        var tempData = this.listData;\n        if (!this.enableVirtualization) {\n            this.listData = this.mainData;\n        }\n        if (!isNullOrUndefined(this.hiddenElement) && !this.enableVirtualization) {\n            this.hiddenElement.innerHTML = '';\n        }\n        if (!isNullOrUndefined(this.value)) {\n            var valueLength = this.value.length;\n            var hiddenElementContent = '';\n            var _loop_2 = function (index) {\n                var valueItem = this_1.allowObjectBinding ?\n                    getValue((this_1.fields.value) ? this_1.fields.value : '', this_1.value[index]) : this_1.value[index];\n                var listValue = this_1.findListElement((!isNullOrUndefined(this_1.mainList) ? this_1.mainList : this_1.ulElement), 'li', 'data-value', valueItem);\n                if (this_1.enableVirtualization) {\n                    listValue = this_1.findListElement((!isNullOrUndefined(this_1.list) ? this_1.list : this_1.ulElement), 'li', 'data-value', valueItem);\n                }\n                if (isNullOrUndefined(listValue) && !this_1.allowCustomValue && !this_1.enableVirtualization &&\n                    this_1.listData && this_1.listData.length > 0) {\n                    this_1.value.splice(index, 1);\n                    index -= 1;\n                    valueLength -= 1;\n                }\n                else {\n                    if (this_1.listData) {\n                        if (this_1.enableVirtualization) {\n                            if (delim) {\n                                data = this_1.delimiterWrapper && this_1.delimiterWrapper.innerHTML === '' ? data :\n                                    this_1.delimiterWrapper.innerHTML;\n                            }\n                            var value = this_1.allowObjectBinding ?\n                                getValue(((this_1.fields.value) ? this_1.fields.value : ''), this_1.value[this_1.value.length - 1]) :\n                                this_1.value[this_1.value.length - 1];\n                            if (this_1.isRemoveSelection) {\n                                data = this_1.text.replace(/,/g, delimiterChar + ' ') + delimiterChar + ' ';\n                                text = this_1.text.split(delimiterChar);\n                            }\n                            else {\n                                temp = this_1.getTextByValue(value);\n                                var textValues = this_1.text != null && this_1.text !== '' ? this_1.text + ',' + temp : temp;\n                                data += temp + delimiterChar + ' ';\n                                text.push(textValues);\n                                hiddenElementContent = this_1.hiddenElement.innerHTML;\n                            }\n                            if ((e && e.currentTarget && e.currentTarget.classList.contains('e-chips-close')) ||\n                                (e && (e.key === 'Backspace'))) {\n                                var item_1 = e.target.parentElement.getAttribute('data-value');\n                                if (e.key === 'Backspace') {\n                                    var lastChild = this_1.hiddenElement.lastChild;\n                                    if (lastChild) {\n                                        this_1.hiddenElement.removeChild(lastChild);\n                                    }\n                                }\n                                else {\n                                    this_1.hiddenElement.childNodes.forEach(function (option) {\n                                        if (option.value === item_1) {\n                                            option.parentNode.removeChild(option);\n                                        }\n                                    });\n                                }\n                                hiddenElementContent = this_1.hiddenElement.innerHTML;\n                            }\n                            else {\n                                hiddenElementContent += '<option selected value=\\'' + value + '\\'>' + index + '</option>';\n                            }\n                            return out_index_1 = index, \"break\";\n                        }\n                        else {\n                            temp = this_1.getTextByValue(valueItem);\n                        }\n                    }\n                    else {\n                        temp = valueItem;\n                    }\n                    data += temp + delimiterChar + ' ';\n                    text.push(temp);\n                }\n                hiddenElementContent += \"<option selected value=\\\"\" + valueItem + \"\\\">\" + index + \"</option>\";\n                out_index_1 = index;\n            };\n            var this_1 = this, out_index_1;\n            for (var index = 0; index < valueLength; index++) {\n                var state_2 = _loop_2(index);\n                index = out_index_1;\n                if (state_2 === \"break\")\n                    break;\n            }\n            if (!isNullOrUndefined(this.hiddenElement)) {\n                if (this.isRemoveSelection) {\n                    if (this.findListElement(this.hiddenElement, 'option', 'value', this.currentRemoveValue)) {\n                        this.hiddenElement.removeChild(this.findListElement(this.hiddenElement, 'option', 'value', this.currentRemoveValue));\n                    }\n                    this.isRemoveSelection = false;\n                }\n                else {\n                    this.hiddenElement.innerHTML = hiddenElementContent;\n                }\n            }\n        }\n        var isChipRemove = e && e.target && e.target.classList.contains('e-chips-close');\n        if (!this.enableVirtualization || (this.enableVirtualization && this.mode !== 'CheckBox' && !isChipRemove)) {\n            this.setProperties({ text: text.toString() }, true);\n        }\n        if (delim) {\n            this.updateWrapperText(this.delimiterWrapper, data);\n            this.delimiterWrapper.setAttribute('id', getUniqueID('delim_val'));\n            this.inputElement.setAttribute('aria-describedby', this.delimiterWrapper.id);\n        }\n        var targetEle = e && e.target;\n        var isClearAll = (targetEle && targetEle.classList.contains('e-close-hooker')) ? true : null;\n        if (!this.changeOnBlur && ((e && !isClearAll)) || this.isSelectAll) {\n            this.isSelectAll = false;\n            this.updateValueState(e, this.value, this.tempValues);\n        }\n        this.listData = tempData;\n        this.addValidInputClass();\n    };\n    MultiSelect.prototype.initialTextUpdate = function () {\n        if (!isNullOrUndefined(this.text)) {\n            var textArr = this.text.split(this.delimiterChar);\n            var textVal = [];\n            for (var index = 0; textArr.length > index; index++) {\n                var val = this.getValueByText(textArr[index]);\n                if (!isNullOrUndefined(val)) {\n                    textVal.push(val);\n                }\n                else if (this.allowCustomValue) {\n                    textVal.push(textArr[index]);\n                }\n            }\n            if (textVal && textVal.length) {\n                var value = this.allowObjectBinding ? this.getDataByValue(textVal) : textVal;\n                this.setProperties({ value: value }, true);\n            }\n        }\n        else {\n            this.setProperties({ value: null }, true);\n        }\n    };\n    MultiSelect.prototype.renderList = function (isEmptyData) {\n        if (!isEmptyData && this.allowCustomValue && this.list && (this.list.textContent === this.noRecordsTemplate\n            || this.list.querySelector('.e-ul') && this.list.querySelector('.e-ul').childElementCount === 0)) {\n            isEmptyData = true;\n        }\n        _super.prototype.render.call(this, null, isEmptyData);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        this.unwireListEvents();\n        this.wireListEvents();\n    };\n    MultiSelect.prototype.initialValueUpdate = function (listItems, isInitialVirtualData) {\n        if (this.list) {\n            var text = void 0;\n            var element = void 0;\n            var value = void 0;\n            if (this.chipCollectionWrapper) {\n                this.chipCollectionWrapper.innerHTML = '';\n            }\n            this.removeListSelection();\n            if (!isNullOrUndefined(this.value)) {\n                for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                    value = this.allowObjectBinding ?\n                        getValue(((this.fields.value) ? this.fields.value : ''), this.value[index]) :\n                        this.value[index];\n                    element = this.findListElement(this.hideSelectedItem ? this.ulElement : this.list, 'li', 'data-value', value);\n                    var isCustomData = false;\n                    if (this.enableVirtualization) {\n                        text = null;\n                        if (listItems != null && listItems.length > 0) {\n                            for (var i = 0; i < listItems.length; i++) {\n                                if (getValue((this.fields.value ? this.fields.value : 'value'), listItems[i]) === value) {\n                                    text = getValue(this.fields.text, listItems[i]);\n                                    if (this.enableVirtualization) {\n                                        if (isNullOrUndefined(this.selectedListData)) {\n                                            this.selectedListData = [listItems[i]];\n                                        }\n                                        else {\n                                            if (Array.isArray(this.selectedListData)) {\n                                                this.selectedListData.push((listItems[i]));\n                                            }\n                                            else {\n                                                this.selectedListData = [this.selectedListData, (listItems[i])];\n                                            }\n                                        }\n                                    }\n                                    break;\n                                }\n                            }\n                        }\n                        if ((isNullOrUndefined(text) && this.allowCustomValue) &&\n                            ((!(this.dataSource instanceof DataManager)) ||\n                                (this.dataSource instanceof DataManager && isInitialVirtualData))) {\n                            text = this.getTextByValue(value);\n                            isCustomData = true;\n                        }\n                    }\n                    else {\n                        text = this.getTextByValue(value);\n                    }\n                    if (((element && (element.getAttribute('aria-selected') !== 'true')) ||\n                        (element && (element.getAttribute('aria-selected') === 'true' && this.hideSelectedItem) &&\n                            (this.mode === 'Box' || this.mode === 'Default'))) ||\n                        (this.enableVirtualization && value != null && text != null && !isCustomData)) {\n                        var currentText = [];\n                        var textValues = this.text != null && this.text !== '' ? this.text + ',' + text : text;\n                        currentText.push(textValues);\n                        this.setProperties({ text: currentText.toString() }, true);\n                        this.addChip(text, value);\n                        this.addListSelection(element);\n                    }\n                    else if ((!this.enableVirtualization && value && this.allowCustomValue) ||\n                        (this.enableVirtualization &&\n                            value &&\n                            this.allowCustomValue &&\n                            ((!(this.dataSource instanceof DataManager)) ||\n                                (this.dataSource instanceof DataManager && isInitialVirtualData)))) {\n                        var indexItem = this.listData.length;\n                        var newValue = {};\n                        setValue(this.fields.text, value, newValue);\n                        setValue(this.fields.value, value, newValue);\n                        var noDataEle = this.popupWrapper.querySelector('.' + dropDownBaseClasses.noData);\n                        if (!this.enableVirtualization) {\n                            this.addItem(newValue, indexItem);\n                        }\n                        if (this.enableVirtualization) {\n                            if (this.virtualCustomSelectData && this.virtualCustomSelectData.length >= 0) {\n                                this.virtualCustomSelectData.push(newValue);\n                            }\n                            else {\n                                this.virtualCustomSelectData = [newValue];\n                            }\n                        }\n                        element = element ? element : this.findListElement(this.hideSelectedItem ?\n                            this.ulElement : this.list, 'li', 'data-value', value);\n                        if (this.popupWrapper.contains(noDataEle)) {\n                            this.list.setAttribute('style', noDataEle.getAttribute('style'));\n                            this.popupWrapper.replaceChild(this.list, noDataEle);\n                            this.wireListEvents();\n                        }\n                        var currentText = [];\n                        var textValues = this.text != null && this.text !== '' ? this.text + ',' + text : text;\n                        currentText.push(textValues);\n                        this.setProperties({ text: currentText.toString() }, true);\n                        this.addChip(text, value);\n                        this.addListSelection(element);\n                    }\n                }\n            }\n            if (this.mode === 'CheckBox') {\n                this.updateDelimView();\n                if (this.changeOnBlur) {\n                    this.updateValueState(null, this.value, this.tempValues);\n                }\n                this.updateDelimeter(this.delimiterChar);\n                this.refreshInputHight();\n            }\n            else {\n                this.updateDelimeter(this.delimiterChar);\n            }\n            if (this.mode === 'CheckBox' && this.showSelectAll && (isNullOrUndefined(this.value) || !this.value.length)) {\n                this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'uncheck' });\n            }\n            if (this.mode === 'Box' || (this.mode === 'Default' && this.inputFocus)) {\n                this.chipCollectionWrapper.style.display = '';\n            }\n            else if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n                this.showDelimWrapper();\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.updateActionCompleteData = function (li, item) {\n        if (this.value && ((!this.allowObjectBinding && this.value.indexOf(li.getAttribute('data-value')) > -1) ||\n            (this.allowObjectBinding && this.isObjectInArray(this.getDataByValue(li.getAttribute('data-value')), this.value)))) {\n            this.mainList = this.ulElement;\n            if (this.hideSelectedItem) {\n                addClass([li], HIDE_LIST);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.updateAddItemList = function (list, itemCount) {\n        if (this.popupObj && this.popupObj.element && this.popupObj.element.querySelector('.' + dropDownBaseClasses.noData) && list) {\n            this.list = list;\n            this.mainList = this.ulElement = list.querySelector('ul');\n            remove(this.popupWrapper.querySelector('.e-content'));\n            this.popupObj = null;\n            this.renderPopup();\n        }\n        else if (this.allowCustomValue) {\n            this.list = list;\n            this.mainList = this.ulElement = list.querySelector('ul');\n        }\n    };\n    MultiSelect.prototype.updateDataList = function () {\n        if (this.mainList && this.ulElement && !(this.isFiltered || this.filterAction || this.targetElement().trim())) {\n            var isDynamicGroupItemUpdate = this.mainList.childElementCount < this.ulElement.childElementCount;\n            var isReactTemplateUpdate = ((this.ulElement.childElementCount > 0 &&\n                this.ulElement.children[0].childElementCount > 0) &&\n                (this.mainList.children[0] && (this.mainList.children[0].childElementCount <\n                    this.ulElement.children[0].childElementCount)));\n            var isAngularTemplateUpdate = this.itemTemplate && this.ulElement.childElementCount > 0 &&\n                !(this.ulElement.childElementCount < this.mainList.childElementCount) &&\n                (this.ulElement.children[0].childElementCount > 0 ||\n                    (this.fields.groupBy && this.ulElement.children[1] && this.ulElement.children[1].childElementCount > 0));\n            if (isDynamicGroupItemUpdate || isReactTemplateUpdate || isAngularTemplateUpdate) {\n                //EJ2-57748 - for this task, we prevent the ul element cloning ( this.mainList = this.ulElement.cloneNode ? <HTMLElement>this.ulElement.cloneNode(true) : this.ulElement;)\n                this.mainList = this.ulElement;\n            }\n        }\n    };\n    MultiSelect.prototype.isValidLI = function (li) {\n        return (li && !li.classList.contains(dropDownBaseClasses.disabled) && !li.classList.contains(dropDownBaseClasses.group) &&\n            li.classList.contains(dropDownBaseClasses.li));\n    };\n    MultiSelect.prototype.updateListSelection = function (li, e, length) {\n        var customVal = li.getAttribute('data-value');\n        var value = this.allowObjectBinding ?\n            this.getDataByValue(this.getFormattedValue(customVal)) : this.getFormattedValue(customVal);\n        if (this.allowCustomValue && ((customVal !== 'false' && value === false) ||\n            (!isNullOrUndefined(value) && value.toString() === 'NaN'))) {\n            value = customVal;\n        }\n        this.removeHover();\n        if (!this.value || ((!this.allowObjectBinding && this.value.indexOf(value) === -1) ||\n            (this.allowObjectBinding && this.indexOfObjectInArray(value, this.value) === -1))) {\n            this.dispatchSelect(value, e, li, (li.getAttribute('aria-selected') === 'true'), length);\n        }\n        else {\n            this.removeValue(value, e, length);\n        }\n    };\n    MultiSelect.prototype.updateListSelectEventCallback = function (value, li, e, currentText) {\n        var _this = this;\n        value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), value) : value;\n        var text = currentText ? currentText : this.getTextByValue(value);\n        if ((this.allowCustomValue || this.allowFiltering) &&\n            !this.findListElement(this.mainList, 'li', 'data-value', value) &&\n            (!this.enableVirtualization || (this.enableVirtualization && this.virtualCustomData))) {\n            var temp_1 = li ? li.cloneNode(true) : li;\n            var fieldValue = this.fields.value ? this.fields.value : 'value';\n            if (this.allowCustomValue && this.mainData.length && typeof getValue(fieldValue, this.mainData[0]) === 'number') {\n                value = !isNaN(parseFloat(value.toString())) ? parseFloat(value.toString()) : value;\n            }\n            var data_1 = this.getDataByValue(value);\n            var eventArgs = {\n                newData: data_1,\n                cancel: false\n            };\n            this.trigger('customValueSelection', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    if (_this.enableVirtualization && _this.virtualCustomData) {\n                        if (_this.virtualCustomSelectData && _this.virtualCustomSelectData.length >= 0) {\n                            _this.virtualCustomSelectData.push(data_1);\n                        }\n                        else {\n                            _this.virtualCustomSelectData = [data_1];\n                        }\n                        _this.remoteCustomValue = false;\n                        _this.addValue(value, text, e);\n                    }\n                    else {\n                        append([temp_1], _this.mainList);\n                        _this.mainData.push(data_1);\n                        _this.remoteCustomValue = false;\n                        _this.addValue(value, text, e);\n                    }\n                }\n            });\n        }\n        else {\n            this.remoteCustomValue = false;\n            this.addValue(value, text, e);\n        }\n    };\n    MultiSelect.prototype.removeListSelection = function () {\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        var selectedItems = this.list.querySelectorAll('.' + className);\n        var temp = selectedItems.length;\n        if (selectedItems && selectedItems.length) {\n            removeClass(selectedItems, className);\n            while (temp > 0) {\n                selectedItems[temp - 1].setAttribute('aria-selected', 'false');\n                temp--;\n            }\n        }\n        if (!isNullOrUndefined(this.mainList)) {\n            var selectItems = this.mainList.querySelectorAll('.' + className);\n            var temp1 = selectItems.length;\n            if (selectItems && selectItems.length) {\n                removeClass(selectItems, className);\n                while (temp1 > 0) {\n                    selectItems[temp1 - 1].setAttribute('aria-selected', 'false');\n                    if (this.mode === 'CheckBox') {\n                        if (selectedItems && (selectedItems.length > (temp1 - 1))) {\n                            removeClass([selectedItems[temp1 - 1].firstElementChild.lastElementChild], 'e-check');\n                        }\n                        removeClass([selectItems[temp1 - 1].firstElementChild.lastElementChild], 'e-check');\n                    }\n                    temp1--;\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.removeHover = function () {\n        var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, dropDownBaseClasses.hover);\n        }\n    };\n    MultiSelect.prototype.removeFocus = function () {\n        if (this.list && this.mainList) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.focus);\n            var mainlist = this.mainList.querySelectorAll('.' + dropDownBaseClasses.focus);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.focus);\n                removeClass(mainlist, dropDownBaseClasses.focus);\n            }\n        }\n    };\n    MultiSelect.prototype.addListHover = function (li) {\n        if (this.enabled && this.isValidLI(li)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n        else {\n            if ((li !== null && li.classList.contains('e-list-group-item')) && this.enableGroupCheckBox && this.mode === 'CheckBox'\n                && !isNullOrUndefined(this.fields.groupBy)) {\n                this.removeHover();\n                addClass([li], dropDownBaseClasses.hover);\n            }\n        }\n    };\n    MultiSelect.prototype.addListFocus = function (element) {\n        if (this.enabled && (this.isValidLI(element) || (this.fields.disabled && this.isDisabledElement(element)))) {\n            this.removeFocus();\n            addClass([element], dropDownBaseClasses.focus);\n            this.updateAriaActiveDescendant();\n        }\n        else {\n            if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n                addClass([element], dropDownBaseClasses.focus);\n                this.updateAriaActiveDescendant();\n            }\n        }\n    };\n    MultiSelect.prototype.addListSelection = function (element, mainElement) {\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (this.isValidLI(element) && !element.classList.contains(dropDownBaseClasses.hover)) {\n            addClass([element], className);\n            this.updateMainList(false, element.getAttribute('data-value'), mainElement);\n            element.setAttribute('aria-selected', 'true');\n            if (this.mode === 'CheckBox' && element.classList.contains('e-active')) {\n                var ariaCheck = element.getElementsByClassName('e-check').length;\n                if (ariaCheck === 0) {\n                    this.notify('updatelist', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: this });\n                }\n            }\n            this.notify('activeList', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: this });\n            if (this.chipCollectionWrapper) {\n                this.removeChipSelection();\n            }\n            this.selectedElementID = element.id;\n        }\n    };\n    MultiSelect.prototype.updateDelimeter = function (delimChar, e) {\n        this.updateData(delimChar, e);\n    };\n    MultiSelect.prototype.onMouseClick = function (e) {\n        var _this = this;\n        this.keyCode = null;\n        this.scrollFocusStatus = false;\n        this.keyboardEvent = null;\n        var target = e.target;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (this.enableVirtualization && li && li.classList.contains('e-virtual-list')) {\n            return;\n        }\n        var headerLi = closest(target, '.' + dropDownBaseClasses.group);\n        if (headerLi && this.enableGroupCheckBox && this.mode === 'CheckBox' && this.fields.groupBy) {\n            target = target.classList.contains('e-list-group-item') ? target.firstElementChild.lastElementChild\n                : e.target;\n            if (target.classList.contains('e-check')) {\n                this.selectAllItem(false, e);\n                target.classList.remove('e-check');\n                target.classList.remove('e-stop');\n                closest(target, '.' + 'e-list-group-item').classList.remove('e-active');\n                target.setAttribute('aria-selected', 'false');\n            }\n            else {\n                this.selectAllItem(true, e);\n                target.classList.remove('e-stop');\n                target.classList.add('e-check');\n                closest(target, '.' + 'e-list-group-item').classList.add('e-active');\n                target.setAttribute('aria-selected', 'true');\n            }\n            this.refreshSelection();\n            this.checkSelectAll();\n        }\n        else {\n            if (this.isValidLI(li)) {\n                var limit = this.value && this.value.length ? this.value.length : 0;\n                if (li.classList.contains('e-active')) {\n                    limit = limit - 1;\n                }\n                if (limit < this.maximumSelectionLength) {\n                    this.updateListSelection(li, e);\n                    this.checkPlaceholderSize();\n                    this.addListFocus(li);\n                    if ((this.allowCustomValue || this.allowFiltering) && this.mainList && this.listData) {\n                        if (this.mode !== 'CheckBox') {\n                            this.focusAtLastListItem(li.getAttribute('data-value'));\n                            this.refreshSelection();\n                        }\n                    }\n                    else {\n                        this.makeTextBoxEmpty();\n                    }\n                }\n                if (this.mode === 'CheckBox') {\n                    this.updateDelimView();\n                    if (this.value && this.value.length > 50) {\n                        setTimeout(function () {\n                            _this.updateDelimeter(_this.delimiterChar, e);\n                        }, 0);\n                    }\n                    else {\n                        this.updateDelimeter(this.delimiterChar, e);\n                    }\n                    this.refreshInputHight();\n                }\n                else {\n                    this.updateDelimeter(this.delimiterChar, e);\n                }\n                this.checkSelectAll();\n                this.refreshPopup();\n                if (this.hideSelectedItem) {\n                    this.focusAtFirstListItem();\n                }\n                if (this.closePopupOnSelect) {\n                    this.hidePopup(e);\n                }\n                else {\n                    e.preventDefault();\n                }\n                var isFilterData = this.targetElement().trim() !== '' ? true : false;\n                this.makeTextBoxEmpty();\n                this.findGroupStart(target);\n                if (this.mode !== 'CheckBox') {\n                    this.refreshListItems(isNullOrUndefined(li) ? null : li.textContent, isFilterData);\n                }\n            }\n            else {\n                e.preventDefault();\n            }\n            if (this.enableVirtualization && this.hideSelectedItem) {\n                var visibleListElements = this.list.querySelectorAll('li.'\n                    + dropDownBaseClasses.li\n                    + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)' + ':not(.e-virtual-list)');\n                if (visibleListElements.length) {\n                    var actualCount = this.virtualListHeight > 0 ? Math.floor(this.virtualListHeight / this.listItemHeight) : 0;\n                    if (visibleListElements.length < (actualCount + 2)) {\n                        var query = this.getForQuery(this.value).clone();\n                        query = query.skip(this.virtualItemStartIndex);\n                        this.resetList(this.dataSource, this.fields, query);\n                        this.UpdateSkeleton();\n                        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                        this.virtualItemCount = this.itemCount;\n                        if (this.mode !== 'CheckBox') {\n                            this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length :\n                                this.totalItemCount;\n                        }\n                        if (!this.list.querySelector('.e-virtual-ddl')) {\n                            var virualElement = this.createElement('div', {\n                                id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                            });\n                            this.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n                        }\n                        else {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n                        }\n                        if (this.list.querySelector('.e-virtual-ddl-content')) {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                        }\n                    }\n                }\n            }\n            this.refreshPlaceHolder();\n            this.deselectHeader();\n        }\n    };\n    MultiSelect.prototype.findGroupStart = function (target) {\n        if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n            var count = 0;\n            var liChecked = 0;\n            var liUnchecked = 0;\n            var groupValues = void 0;\n            if (this.itemTemplate && !target.getElementsByClassName('e-frame').length) {\n                while (!target.getElementsByClassName('e-frame').length) {\n                    target = target.parentElement;\n                }\n            }\n            if (target.classList.contains('e-frame')) {\n                target = target.parentElement.parentElement;\n            }\n            groupValues = this.findGroupAttrtibutes(target, liChecked, liUnchecked, count, 0);\n            groupValues = this.findGroupAttrtibutes(target, groupValues[0], groupValues[1], groupValues[2], 1);\n            while (!target.classList.contains('e-list-group-item')) {\n                if (target.classList.contains('e-list-icon')) {\n                    target = target.parentElement;\n                }\n                target = target.previousElementSibling;\n                if (target == null) {\n                    break;\n                }\n            }\n            this.updateCheckBox(target, groupValues[0], groupValues[1], groupValues[2]);\n        }\n    };\n    MultiSelect.prototype.findGroupAttrtibutes = function (listElement, checked, unChecked, count, position) {\n        while (!listElement.classList.contains('e-list-group-item')) {\n            if (!(this.fields.disabled && this.isDisabledElement(listElement))) {\n                if (listElement.classList.contains('e-list-icon')) {\n                    listElement = listElement.parentElement;\n                }\n                if (listElement.getElementsByClassName('e-frame')[0].classList.contains('e-check') &&\n                    listElement.classList.contains('e-list-item')) {\n                    checked++;\n                }\n                else if (listElement.classList.contains('e-list-item')) {\n                    unChecked++;\n                }\n                count++;\n            }\n            listElement = position ? listElement.nextElementSibling : listElement.previousElementSibling;\n            if (listElement == null) {\n                break;\n            }\n        }\n        return [checked, unChecked, count];\n    };\n    MultiSelect.prototype.updateCheckBox = function (groupHeader, checked, unChecked, count) {\n        if (groupHeader === null || (!isNullOrUndefined(this.fields.disabled) && count === 0)) {\n            return;\n        }\n        var checkBoxElement = groupHeader.getElementsByClassName('e-frame')[0];\n        if (count === checked) {\n            checkBoxElement.classList.remove('e-stop');\n            checkBoxElement.classList.add('e-check');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n            groupHeader.setAttribute('aria-selected', 'true');\n        }\n        else if (count === unChecked) {\n            checkBoxElement.classList.remove('e-check');\n            checkBoxElement.classList.remove('e-stop');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.remove('e-active');\n            groupHeader.setAttribute('aria-selected', 'false');\n        }\n        else if (this.maximumSelectionLength === checked - 1) {\n            checkBoxElement.classList.remove('e-stop');\n            groupHeader.setAttribute('aria-selected', 'true');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n            checkBoxElement.classList.add('e-check');\n        }\n        else {\n            checkBoxElement.classList.remove('e-check');\n            checkBoxElement.classList.add('e-stop');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n            groupHeader.setAttribute('aria-selected', 'false');\n        }\n    };\n    MultiSelect.prototype.disableGroupHeader = function () {\n        var collection = this.list.querySelectorAll('li.e-list-group-item');\n        if (collection) {\n            for (var index = 0; index < collection.length; index++) {\n                var isDisabled = true;\n                var target = collection[index].nextElementSibling;\n                while (!target.classList.contains('e-list-group-item')) {\n                    if (!this.isDisabledElement(target)) {\n                        isDisabled = false;\n                        break;\n                    }\n                    target = target.nextElementSibling;\n                    if (target == null) {\n                        break;\n                    }\n                }\n                if (isDisabled) {\n                    this.disableListItem(collection[index]);\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.deselectHeader = function () {\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        var collection = this.list.querySelectorAll('li.e-list-group-item:not(.e-active)');\n        if (limit < this.maximumSelectionLength) {\n            removeClass(collection, 'e-disable');\n        }\n        if (limit === this.maximumSelectionLength) {\n            addClass(collection, 'e-disable');\n        }\n    };\n    MultiSelect.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        if (currentLi === null && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)\n            && this.enableGroupCheckBox) {\n            currentLi = closest(e.target, '.' + dropDownBaseClasses.group);\n        }\n        this.addListHover(currentLi);\n    };\n    MultiSelect.prototype.onMouseLeave = function () {\n        this.removeHover();\n    };\n    MultiSelect.prototype.onListMouseDown = function (e) {\n        e.preventDefault();\n        this.scrollFocusStatus = true;\n    };\n    MultiSelect.prototype.onDocumentClick = function (e) {\n        if (this.mode !== 'CheckBox') {\n            var target = e.target;\n            if (!(!isNullOrUndefined(this.popupObj) && closest(target, '[id=\"' + this.popupObj.element.id + '\"]')) &&\n                !this.overAllWrapper.contains(e.target)) {\n                this.scrollFocusStatus = false;\n            }\n            else {\n                this.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.inputElement);\n            }\n        }\n    };\n    MultiSelect.prototype.wireListEvents = function () {\n        if (!isNullOrUndefined(this.list)) {\n            EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n            EventHandler.add(this.list, 'mousedown', this.onListMouseDown, this);\n            EventHandler.add(this.list, 'mouseup', this.onMouseClick, this);\n            EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    MultiSelect.prototype.unwireListEvents = function () {\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        if (this.list) {\n            EventHandler.remove(this.list, 'mousedown', this.onListMouseDown);\n            EventHandler.remove(this.list, 'mouseup', this.onMouseClick);\n            EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n            EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n        }\n    };\n    MultiSelect.prototype.hideOverAllClear = function () {\n        if (!this.value || !this.value.length || this.inputElement.value === '') {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.showOverAllClear = function () {\n        if (((this.value && this.value.length) || this.inputElement.value !== '') && this.showClearButton && this.readonly !== true) {\n            this.overAllClear.style.display = '';\n        }\n        else {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.focusIn = function () {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n        }\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement && this.enabled) {\n            this.inputElement.blur();\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            var filterClear = this.filterParent && this.filterParent.querySelector('.e-clear-icon.e-icons');\n            if (this.overAllClear.style.display !== 'none' || filterClear) {\n                this.spinnerElement = filterClear ? filterClear : this.overAllClear;\n            }\n            else {\n                this.spinnerElement = this.createElement('span', { className: CLOSEICON_CLASS + ' ' + SPINNER_CLASS });\n                this.componentWrapper.appendChild(this.spinnerElement);\n            }\n            createSpinner({ target: this.spinnerElement, width: Browser.isDevice ? '16px' : '14px' }, this.createElement);\n            addClass([this.spinnerElement], DISABLE_ICON);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], DISABLE_ICON);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    MultiSelect.prototype.updateWrapperText = function (wrapperType, wrapperData) {\n        if (this.valueTemplate || !this.enableHtmlSanitizer) {\n            wrapperType.innerHTML = this.encodeHtmlEntities(wrapperData);\n        }\n        else {\n            wrapperType.innerText = wrapperData;\n        }\n    };\n    MultiSelect.prototype.updateDelimView = function () {\n        if (this.delimiterWrapper) {\n            this.hideDelimWrapper();\n        }\n        if (this.chipCollectionWrapper) {\n            this.chipCollectionWrapper.style.display = 'none';\n        }\n        if (!isNullOrUndefined(this.viewWrapper)) {\n            this.viewWrapper.style.display = '';\n            this.viewWrapper.style.width = '';\n            this.viewWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n        }\n        if (this.value && this.value.length) {\n            var data = '';\n            var temp = void 0;\n            var tempData = void 0;\n            var tempIndex = 1;\n            var wrapperleng = void 0;\n            var remaining = void 0;\n            var downIconWidth = 0;\n            var overAllContainer = void 0;\n            if (!this.enableVirtualization) {\n                this.updateWrapperText(this.viewWrapper, data);\n            }\n            var l10nLocale = {\n                noRecordsTemplate: 'No records found',\n                actionFailureTemplate: 'Request failed',\n                overflowCountTemplate: '+${count} more..',\n                totalCountTemplate: '${count} selected'\n            };\n            var l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            if (l10n.getConstant('actionFailureTemplate') === '') {\n                l10n = new L10n('dropdowns', l10nLocale, this.locale);\n            }\n            if (l10n.getConstant('noRecordsTemplate') === '') {\n                l10n = new L10n('dropdowns', l10nLocale, this.locale);\n            }\n            var remainContent = l10n.getConstant('overflowCountTemplate');\n            var totalContent = l10n.getConstant('totalCountTemplate');\n            var raminElement = this.createElement('span', {\n                className: REMAIN_WRAPPER\n            });\n            var remainCompildTemp = remainContent.replace('${count}', this.value.length.toString());\n            raminElement.innerText = remainCompildTemp;\n            this.viewWrapper.appendChild(raminElement);\n            this.renderReactTemplates();\n            var remainSize = raminElement.offsetWidth;\n            remove(raminElement);\n            if (this.showDropDownIcon) {\n                downIconWidth = this.dropIcon.offsetWidth + parseInt(window.getComputedStyle(this.dropIcon).marginRight, 10);\n            }\n            this.checkClearIconWidth();\n            if (!isNullOrUndefined(this.value) && (this.allowCustomValue || (this.listData && this.listData.length > 0))) {\n                for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                    var items = this.text && this.text.split(this.delimiterChar);\n                    if (!this.enableVirtualization) {\n                        data += (index === 0) ? '' : this.delimiterChar + ' ';\n                        temp = this.getOverflowVal(index);\n                        data += temp;\n                        temp = this.viewWrapper.innerHTML;\n                        this.updateWrapperText(this.viewWrapper, data);\n                    }\n                    else if (items) {\n                        data += (index === 0) ? '' : this.delimiterChar + ' ';\n                        temp = items[index];\n                        data += temp;\n                        temp = this.viewWrapper.innerHTML;\n                        this.updateWrapperText(this.viewWrapper, data);\n                    }\n                    wrapperleng = this.viewWrapper.offsetWidth +\n                        parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n                    overAllContainer = this.componentWrapper.offsetWidth -\n                        parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft, 10) -\n                        parseInt(window.getComputedStyle(this.componentWrapper).paddingRight, 10);\n                    if ((wrapperleng + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                        if (tempData !== undefined && tempData !== '') {\n                            temp = tempData;\n                            index = tempIndex + 1;\n                        }\n                        this.updateWrapperText(this.viewWrapper, temp);\n                        remaining = this.value.length - index;\n                        wrapperleng = this.viewWrapper.offsetWidth +\n                            parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n                        while (((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) > overAllContainer) && wrapperleng !== 0\n                            && this.viewWrapper.innerHTML !== '') {\n                            var textArr = [];\n                            this.viewWrapper.innerHTML = textArr.join(this.delimiterChar);\n                            remaining = this.value.length;\n                            wrapperleng = this.viewWrapper.offsetWidth +\n                                parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n                        }\n                        break;\n                    }\n                    else if ((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                        tempData = data;\n                        tempIndex = index;\n                    }\n                    else if (index === 0) {\n                        tempData = '';\n                        tempIndex = -1;\n                    }\n                }\n            }\n            if (remaining > 0) {\n                var totalWidth = overAllContainer - downIconWidth - this.clearIconWidth;\n                this.viewWrapper.appendChild(this.updateRemainTemplate(raminElement, this.viewWrapper, remaining, remainContent, totalContent, totalWidth));\n                this.updateRemainWidth(this.viewWrapper, totalWidth);\n                this.updateRemainingText(raminElement, downIconWidth, remaining, remainContent, totalContent);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.viewWrapper)) {\n                this.viewWrapper.innerHTML = '';\n                this.viewWrapper.style.display = 'none';\n            }\n        }\n    };\n    MultiSelect.prototype.checkClearIconWidth = function () {\n        if (this.showClearButton) {\n            this.clearIconWidth = this.overAllClear.offsetWidth;\n        }\n    };\n    MultiSelect.prototype.updateRemainWidth = function (viewWrapper, totalWidth) {\n        if (viewWrapper.classList.contains(TOTAL_COUNT_WRAPPER) && totalWidth < (viewWrapper.offsetWidth +\n            parseInt(window.getComputedStyle(viewWrapper).paddingLeft, 10)\n            + parseInt(window.getComputedStyle(viewWrapper).paddingLeft, 10))) {\n            viewWrapper.style.width = totalWidth + 'px';\n        }\n    };\n    MultiSelect.prototype.updateRemainTemplate = function (raminElement, viewWrapper, remaining, remainContent, totalContent, totalWidth) {\n        if (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3 && viewWrapper.firstChild.nodeValue === '') {\n            viewWrapper.removeChild(viewWrapper.firstChild);\n        }\n        raminElement.innerHTML = '';\n        var remainTemp = remainContent.replace('${count}', remaining.toString());\n        var totalTemp = totalContent.replace('${count}', remaining.toString());\n        raminElement.innerText = (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3) ? remainTemp : totalTemp;\n        if (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3) {\n            viewWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n        }\n        else {\n            viewWrapper.classList.add(TOTAL_COUNT_WRAPPER);\n            this.updateRemainWidth(viewWrapper, totalWidth);\n        }\n        return raminElement;\n    };\n    MultiSelect.prototype.updateRemainingText = function (raminElement, downIconWidth, remaining, remainContent, totalContent) {\n        var overAllContainer = this.componentWrapper.offsetWidth -\n            parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft, 10) -\n            parseInt(window.getComputedStyle(this.componentWrapper).paddingRight, 10);\n        var wrapperleng = this.viewWrapper.offsetWidth + parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n        if (((wrapperleng + downIconWidth) >= overAllContainer) && wrapperleng !== 0 && this.viewWrapper.firstChild &&\n            this.viewWrapper.firstChild.nodeType === 3) {\n            while (((wrapperleng + downIconWidth) > overAllContainer) && wrapperleng !== 0 && this.viewWrapper.firstChild &&\n                this.viewWrapper.firstChild.nodeType === 3) {\n                var textArr = this.viewWrapper.firstChild.nodeValue.split(this.delimiterChar);\n                textArr.pop();\n                this.viewWrapper.firstChild.nodeValue = textArr.join(this.delimiterChar);\n                if (this.viewWrapper.firstChild.nodeValue === '') {\n                    this.viewWrapper.removeChild(this.viewWrapper.firstChild);\n                }\n                remaining++;\n                wrapperleng = this.viewWrapper.offsetWidth;\n            }\n            var totalWidth = overAllContainer - downIconWidth;\n            this.updateRemainTemplate(raminElement, this.viewWrapper, remaining, remainContent, totalContent, totalWidth);\n        }\n    };\n    MultiSelect.prototype.getOverflowVal = function (index) {\n        var temp;\n        if (this.mainData && this.mainData.length) {\n            var value = this.allowObjectBinding ?\n                getValue(((this.fields.value) ? this.fields.value : ''), this.value[index]) : this.value[index];\n            if (this.mode === 'CheckBox') {\n                var newTemp = this.listData;\n                this.listData = this.mainData;\n                temp = this.getTextByValue(value);\n                this.listData = newTemp;\n            }\n            else {\n                temp = this.getTextByValue(value);\n            }\n        }\n        else {\n            temp = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[index]) :\n                this.value[index];\n        }\n        return temp;\n    };\n    MultiSelect.prototype.unWireEvent = function () {\n        if (!isNullOrUndefined(this.componentWrapper)) {\n            EventHandler.remove(this.componentWrapper, 'mousedown', this.wrapperClick);\n        }\n        EventHandler.remove(window, 'resize', this.windowResize);\n        if (!isNullOrUndefined(this.inputElement)) {\n            EventHandler.remove(this.inputElement, 'focus', this.focusInHandler);\n            EventHandler.remove(this.inputElement, 'keydown', this.onKeyDown);\n            if (this.mode !== 'CheckBox') {\n                EventHandler.remove(this.inputElement, 'input', this.onInput);\n            }\n            EventHandler.remove(this.inputElement, 'keyup', this.keyUp);\n            var formElement = closest(this.inputElement, 'form');\n            if (formElement) {\n                EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n            }\n            EventHandler.remove(this.inputElement, 'blur', this.onBlurHandler);\n        }\n        if (!isNullOrUndefined(this.componentWrapper)) {\n            EventHandler.remove(this.componentWrapper, 'mouseover', this.mouseIn);\n            EventHandler.remove(this.componentWrapper, 'mouseout', this.mouseOut);\n        }\n        if (!isNullOrUndefined(this.overAllClear)) {\n            EventHandler.remove(this.overAllClear, 'mousedown', this.clearAll);\n        }\n        if (!isNullOrUndefined(this.inputElement)) {\n            EventHandler.remove(this.inputElement, 'paste', this.pasteHandler);\n        }\n    };\n    MultiSelect.prototype.selectAllItem = function (state, event, list) {\n        var li;\n        if (!isNullOrUndefined(this.list)) {\n            li = this.list.querySelectorAll(state ?\n                'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide):not(.e-disabled):not(.e-virtual-list)' :\n                'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide):not(.e-disabled):not(.e-virtual-list)');\n        }\n        if (this.value && this.value.length && event && event.target\n            && closest(event.target, '.e-close-hooker') && this.allowFiltering) {\n            li = this.mainList.querySelectorAll(state ?\n                'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide):not(.e-disabled):not(.e-virtual-list)' :\n                'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide):not(.e-disabled):not(.e-virtual-list)');\n        }\n        if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n            var target = (event ? (this.groupTemplate ?\n                closest(event.target, '.e-list-group-item') : event.target) : null);\n            target = (event && event.keyCode === 32) ? list : target;\n            target = (target && target.classList.contains('e-frame')) ? target.parentElement.parentElement : target;\n            if (target && target.classList.contains('e-list-group-item')) {\n                var listElement = target.nextElementSibling;\n                if (isNullOrUndefined(listElement)) {\n                    return;\n                }\n                while (listElement.classList.contains('e-list-item')) {\n                    if (!(this.fields.disabled && this.isDisabledElement(listElement))) {\n                        if (state) {\n                            if (!listElement.firstElementChild.lastElementChild.classList.contains('e-check')) {\n                                var selectionLimit = this.value && this.value.length ? this.value.length : 0;\n                                if (listElement.classList.contains('e-active')) {\n                                    selectionLimit -= 1;\n                                }\n                                if (selectionLimit < this.maximumSelectionLength) {\n                                    this.updateListSelection(listElement, event);\n                                }\n                            }\n                        }\n                        else {\n                            if (listElement.firstElementChild.lastElementChild.classList.contains('e-check')) {\n                                this.updateListSelection(listElement, event);\n                            }\n                        }\n                    }\n                    listElement = listElement.nextElementSibling;\n                    if (listElement == null) {\n                        break;\n                    }\n                }\n                if (target.classList.contains('e-list-group-item')) {\n                    var focusedElement = this.list.getElementsByClassName('e-item-focus')[0];\n                    if (focusedElement) {\n                        focusedElement.classList.remove('e-item-focus');\n                    }\n                    if (state) {\n                        target.classList.add('e-active');\n                    }\n                    else {\n                        target.classList.remove('e-active');\n                    }\n                    target.classList.add('e-item-focus');\n                    this.updateAriaActiveDescendant();\n                }\n                this.textboxValueUpdate();\n                this.checkPlaceholderSize();\n                if (!this.changeOnBlur && event) {\n                    this.updateValueState(event, this.value, this.tempValues);\n                }\n            }\n            else {\n                this.updateValue(event, li, state);\n            }\n        }\n        else {\n            this.updateValue(event, li, state);\n        }\n        this.addValidInputClass();\n    };\n    MultiSelect.prototype.virtualSelectionAll = function (state, li, event) {\n        var _this = this;\n        var index = 0;\n        var length = li.length;\n        var count = this.maximumSelectionLength;\n        if (state) {\n            this.virtualSelectAll = true;\n            length = this.virtualSelectAllData && this.virtualSelectAllData.length !== 0 ? this.virtualSelectAllData.length : length;\n            this.listData = this.virtualSelectAllData;\n            var ulElement = this.createListItems(this.virtualSelectAllData.slice(0, 30), this.fields);\n            var firstItems = ulElement.querySelectorAll('li');\n            var fragment_1 = document.createDocumentFragment();\n            firstItems.forEach(function (node) {\n                fragment_1.appendChild(node.cloneNode(true));\n            });\n            li.forEach(function (node) {\n                fragment_1.appendChild(node.cloneNode(true));\n            });\n            var concatenatedNodeList = fragment_1.childNodes;\n            if (this.virtualSelectAllData instanceof Array) {\n                while (index < length && index <= 50 && index < count) {\n                    this.isSelectAllTarget = (length === index + 1);\n                    if (concatenatedNodeList[index]) {\n                        var value = this.allowObjectBinding\n                            ? this.getDataByValue(concatenatedNodeList[index].getAttribute('data-value'))\n                            : this.getFormattedValue(concatenatedNodeList[index].getAttribute('data-value'));\n                        if (((!this.allowObjectBinding && this.value && this.value.indexOf(value) >= 0) ||\n                            (this.allowObjectBinding && this.indexOfObjectInArray(value, this.value) >= 0))) {\n                            index++;\n                            continue;\n                        }\n                        this.updateListSelection(concatenatedNodeList[index], event, length - index);\n                    }\n                    else {\n                        var value = getValue(this.fields.value ? this.fields.value : '', this.virtualSelectAllData[index]);\n                        value = this.allowObjectBinding ? this.getDataByValue(value) : value;\n                        if (((!this.allowObjectBinding && this.value && this.value.indexOf(value) >= 0) ||\n                            (this.allowObjectBinding && this.indexOfObjectInArray(value, this.value) >= 0))) {\n                            index++;\n                            continue;\n                        }\n                        if (this.value && value != null && Array.isArray(this.value) &&\n                            ((!this.allowObjectBinding && this.value.indexOf(value) < 0) ||\n                                (this.allowObjectBinding && !this.isObjectInArray(value, this.value)))) {\n                            this.dispatchSelect(value, event, null, false, length);\n                        }\n                    }\n                    index++;\n                }\n                if (length > 50) {\n                    setTimeout(function () {\n                        if (_this.virtualSelectAllData && _this.virtualSelectAllData.length > 0) {\n                            _this.virtualSelectAllData.map(function (obj) {\n                                if (_this.value && obj[_this.fields.value] != null && Array.isArray(_this.value) &&\n                                    ((!_this.allowObjectBinding && _this.value.indexOf(obj[_this.fields.value]) < 0) ||\n                                        (_this.allowObjectBinding && !_this.isObjectInArray(obj[_this.fields.value], _this.value)))) {\n                                    var value = obj[_this.fields.value];\n                                    var text = (obj[_this.fields.text]).toString();\n                                    _this.dispatchSelect(value, event, null, false, length, obj, text);\n                                }\n                            });\n                        }\n                        _this.updatedataValueItems(event);\n                        _this.isSelectAllLoop = false;\n                        if (!_this.changeOnBlur) {\n                            _this.updateValueState(event, _this.value, _this.tempValues);\n                            _this.isSelectAll = _this.isSelectAll ? !_this.isSelectAll : _this.isSelectAll;\n                        }\n                        _this.updateHiddenElement(true);\n                        if (_this.popupWrapper && li[index - 1] && li[index - 1].classList.contains('e-item-focus')) {\n                            var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n                            if (selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n                                li[index - 1].classList.remove('e-item-focus');\n                            }\n                        }\n                    }, 0);\n                }\n            }\n        }\n        else {\n            if (this.virtualSelectAllData && this.virtualSelectAllData.length > 0) {\n                this.virtualSelectAllData.map(function (obj) {\n                    _this.virtualSelectAll = true;\n                    _this.removeValue(_this.value[index], event, _this.value.length - index);\n                });\n            }\n            this.updatedataValueItems(event);\n            if (!this.changeOnBlur) {\n                this.updateValueState(event, this.value, this.tempValues);\n                this.isSelectAll = this.isSelectAll ? !this.isSelectAll : this.isSelectAll;\n            }\n            this.updateHiddenElement();\n            this.setProperties({ value: [] }, true);\n            this.virtualSelectAll = false;\n            if (!isNullOrUndefined(this.viewPortInfo.startIndex) && !isNullOrUndefined(this.viewPortInfo.endIndex)) {\n                this.notify('setCurrentViewDataAsync', {\n                    component: this.getModuleName(),\n                    module: 'VirtualScroll'\n                });\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var virtualTrackElement = this.list.getElementsByClassName('e-virtual-ddl')[0];\n        if (virtualTrackElement) {\n            virtualTrackElement.style = this.GetVirtualTrackHeight();\n        }\n        this.UpdateSkeleton();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var virtualContentElement = this.list.getElementsByClassName('e-virtual-ddl-content')[0];\n        if (virtualContentElement) {\n            virtualContentElement.style = this.getTransformValues();\n        }\n    };\n    MultiSelect.prototype.updateValue = function (event, li, state) {\n        var _this = this;\n        var length = li.length;\n        var beforeSelectArgs = {\n            event: event,\n            items: state ? li : [],\n            itemData: state ? this.listData : [],\n            isInteracted: event ? true : false,\n            isChecked: state,\n            preventSelectEvent: false\n        };\n        this.trigger('beforeSelectAll', beforeSelectArgs);\n        if ((li && li.length) || (this.enableVirtualization && !state)) {\n            var index_1 = 0;\n            var count_1 = 0;\n            if (this.enableGroupCheckBox) {\n                count_1 = state ? this.maximumSelectionLength - (this.value ? this.value.length : 0) : li.length;\n            }\n            else {\n                count_1 = state ? this.maximumSelectionLength - (this.value ? this.value.length : 0) : this.maximumSelectionLength;\n            }\n            if (!beforeSelectArgs.preventSelectEvent) {\n                if (this.enableVirtualization) {\n                    this.virtualSelectAllState = state;\n                    this.virtualSelectAll = true;\n                    this.CurrentEvent = event;\n                    if (!this.virtualSelectAllData) {\n                        this.resetList(this.dataSource, this.fields, new Query());\n                    }\n                    if (this.virtualSelectAllData) {\n                        this.virtualSelectionAll(state, li, event);\n                    }\n                }\n                else {\n                    while (index_1 < length && index_1 <= 50 && index_1 < count_1) {\n                        this.isSelectAllTarget = (length === index_1 + 1);\n                        this.updateListSelection(li[index_1], event, length - index_1);\n                        if (this.enableGroupCheckBox) {\n                            this.findGroupStart(li[index_1]);\n                        }\n                        index_1++;\n                    }\n                    if (length > 50) {\n                        setTimeout(function () {\n                            while (index_1 < length && index_1 < count_1) {\n                                _this.isSelectAllTarget = (length === index_1 + 1);\n                                _this.updateListSelection(li[index_1], event, length - index_1);\n                                if (_this.enableGroupCheckBox) {\n                                    _this.findGroupStart(li[index_1]);\n                                }\n                                index_1++;\n                            }\n                            _this.updatedataValueItems(event);\n                            if (!_this.changeOnBlur) {\n                                _this.updateValueState(event, _this.value, _this.tempValues);\n                                _this.isSelectAll = _this.isSelectAll ? !_this.isSelectAll : _this.isSelectAll;\n                            }\n                            _this.updateHiddenElement();\n                            if (_this.popupWrapper && li[index_1 - 1].classList.contains('e-item-focus')) {\n                                var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n                                if (selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n                                    li[index_1 - 1].classList.remove('e-item-focus');\n                                }\n                            }\n                        }, 0);\n                    }\n                }\n            }\n            else {\n                for (var i = 0; i < li.length && i < count_1; i++) {\n                    this.removeHover();\n                    var customVal = li[i].getAttribute('data-value');\n                    var value = this.getFormattedValue(customVal);\n                    value = this.allowObjectBinding ? this.getDataByValue(value) : value;\n                    var mainElement = this.mainList ? this.mainList.querySelectorAll(state ?\n                        'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide)' :\n                        'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide)')[i] : null;\n                    if (state) {\n                        this.value = !this.value ? [] : this.value;\n                        if ((!this.allowObjectBinding && this.value.indexOf(value) < 0) ||\n                            (this.allowObjectBinding && !this.isObjectInArray(value, this.value))) {\n                            this.setProperties({ value: [].concat([], this.value, [value]) }, true);\n                        }\n                        this.removeFocus();\n                        this.addListSelection(li[i], mainElement);\n                        this.updateChipStatus();\n                        this.checkMaxSelection();\n                    }\n                    else {\n                        this.removeAllItems(value, event, false, li[i], mainElement);\n                    }\n                    if (this.enableGroupCheckBox) {\n                        this.findGroupStart(li[i]);\n                    }\n                }\n                if (!state) {\n                    var limit = this.value && this.value.length ? this.value.length : 0;\n                    if (limit < this.maximumSelectionLength) {\n                        var collection = this.list.querySelectorAll('li.'\n                            + dropDownBaseClasses.li + ':not(.e-active)');\n                        removeClass(collection, 'e-disable');\n                    }\n                }\n                var args = {\n                    event: event,\n                    items: state ? li : [],\n                    itemData: state ? this.listData : [],\n                    isInteracted: event ? true : false,\n                    isChecked: state\n                };\n                this.trigger('selectedAll', args);\n            }\n        }\n        this.updatedataValueItems(event);\n        this.checkPlaceholderSize();\n        if (length <= 50 && !beforeSelectArgs.preventSelectEvent) {\n            if (!this.changeOnBlur) {\n                this.updateValueState(event, this.value, this.tempValues);\n                this.isSelectAll = this.isSelectAll ? !this.isSelectAll : this.isSelectAll;\n            }\n            if ((this.enableVirtualization && this.value && this.value.length > 0) || !this.enableVirtualization) {\n                this.updateHiddenElement();\n            }\n        }\n    };\n    MultiSelect.prototype.updateHiddenElement = function (isVirtualSelectAll) {\n        var _this = this;\n        var hiddenValue = '';\n        var wrapperText = '';\n        var data = '';\n        var text = [];\n        if (this.mode === 'CheckBox') {\n            this.value.map(function (value, index) {\n                hiddenValue += '<option selected value =\"' + value + '\">' + index + '</option>';\n                if (!isVirtualSelectAll) {\n                    if (_this.listData) {\n                        data = _this.getTextByValue(value);\n                    }\n                    else {\n                        data = value;\n                    }\n                    wrapperText += data + _this.delimiterChar + ' ';\n                    text.push(data);\n                }\n            });\n            this.hiddenElement.innerHTML = hiddenValue;\n            if (!isVirtualSelectAll) {\n                this.updateWrapperText(this.delimiterWrapper, wrapperText);\n                this.setProperties({ text: text.toString() }, true);\n            }\n            this.delimiterWrapper.setAttribute('id', getUniqueID('delim_val'));\n            this.inputElement.setAttribute('aria-describedby', this.delimiterWrapper.id);\n            this.refreshInputHight();\n            this.refreshPlaceHolder();\n        }\n    };\n    MultiSelect.prototype.updatedataValueItems = function (event) {\n        this.deselectHeader();\n        this.textboxValueUpdate(event);\n    };\n    MultiSelect.prototype.textboxValueUpdate = function (event) {\n        var isRemoveAll = event && event.target && (closest(event.target, '.e-selectall-parent')\n            || closest(event.target, '.e-close-hooker'));\n        if (this.mode !== 'Box' && !this.isPopupOpen() && !(this.mode === 'CheckBox' && (this.isSelectAll || isRemoveAll))) {\n            this.updateDelimView();\n        }\n        else {\n            this.searchWrapper.classList.remove(ZERO_SIZE);\n        }\n        if (this.mode === 'CheckBox') {\n            this.updateDelimView();\n            if ((!(isRemoveAll || this.isSelectAll) && this.isSelectAllTarget) || (this.isSelectAll && this.isSelectAllTarget)) {\n                this.updateDelimeter(this.delimiterChar, event);\n            }\n            this.refreshInputHight();\n        }\n        else {\n            this.updateDelimeter(this.delimiterChar, event);\n        }\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ 'zIndex': this.zIndex });\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.updateDataSource = function (prop) {\n        if (isNullOrUndefined(this.list)) {\n            this.renderPopup();\n        }\n        else {\n            this.resetList(this.dataSource);\n        }\n        if (this.value && this.value.length) {\n            this.setProperties({ 'value': this.value });\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.onLoadSelect = function () {\n        this.setDynValue = true;\n        this.renderPopup();\n    };\n    MultiSelect.prototype.selectAllItems = function (state, event) {\n        var _this = this;\n        if (isNullOrUndefined(this.list)) {\n            this.selectAllAction = function () {\n                if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                    var args = {\n                        module: 'CheckBoxSelection',\n                        enable: _this.mode === 'CheckBox',\n                        value: state ? 'check' : 'uncheck'\n                    };\n                    _this.notify('checkSelectAll', args);\n                }\n                _this.selectAllItem(state, event);\n                _this.selectAllAction = null;\n            };\n            _super.prototype.render.call(this);\n        }\n        else {\n            this.selectAllAction = null;\n            if (this.mode === 'CheckBox' && this.showSelectAll) {\n                var args = {\n                    value: state ? 'check' : 'uncheck',\n                    enable: this.mode === 'CheckBox',\n                    module: 'CheckBoxSelection'\n                };\n                this.notify('checkSelectAll', args);\n            }\n            this.selectAllItem(state, event);\n        }\n        if (!(this.dataSource instanceof DataManager) || (this.dataSource instanceof DataManager && this.virtualSelectAllData)) {\n            this.virtualSelectAll = false;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    MultiSelect.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {MultiSelectModel} newProp - Returns the dynamic property value of the component.\n     * @param {MultiSelectModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    MultiSelect.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource))\n            || newProp.query && !isNullOrUndefined(Object.keys(newProp.query))) {\n            if (this.resetFilteredData) {\n                // The filtered data is not being reset in the component after the user focuses out.\n                this.resetMainList = !this.resetMainList ? this.mainList : this.resetMainList;\n                this.resetFilteredData = false;\n            }\n            this.mainList = null;\n            this.mainData = null;\n            this.isFirstClick = false;\n            this.isDynamicDataChange = true;\n        }\n        if (this.getModuleName() === 'multiselect') {\n            this.filterAction = false;\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'dataSource':\n                    if (this.mode === 'CheckBox' && this.showSelectAll) {\n                        if (!isNullOrUndefined(this.popupObj)) {\n                            this.popupObj.destroy();\n                            this.popupObj = null;\n                        }\n                        this.renderPopup();\n                    }\n                    break;\n                case 'htmlAttributes':\n                    this.updateHTMLAttribute();\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp.showClearButton);\n                    break;\n                case 'text':\n                    if (this.fields.disabled) {\n                        this.text =\n                            this.text && !this.isDisabledItemByIndex(this.getIndexByValue(this.getValueByText(this.text))) ? this.text : null;\n                    }\n                    this.updateVal(this.value, this.value, 'text');\n                    break;\n                case 'value':\n                    if (this.fields.disabled) {\n                        this.removeDisabledItemsValue(this.value);\n                    }\n                    this.updateVal(this.value, oldProp.value, 'value');\n                    this.addValidInputClass();\n                    if (!this.closePopupOnSelect && this.isPopupOpen()) {\n                        this.refreshPopup();\n                    }\n                    if (this.isPopupOpen() && this.mode === 'CheckBox' && this.list && this.list.querySelector('.e-active.e-disable')) {\n                        var activeItems = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + '.e-active' + '.e-disable');\n                        removeClass(activeItems, 'e-disable');\n                    }\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    this.popupObj.setProperties({ width: this.calcPopupWidth() });\n                    break;\n                case 'placeholder':\n                    this.refreshPlaceHolder();\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this.allowFiltering) {\n                        this.notify('filterBarPlaceholder', { filterBarPlaceholder: newProp.filterBarPlaceholder });\n                    }\n                    break;\n                case 'delimiterChar':\n                    if (this.mode !== 'Box') {\n                        this.updateDelimView();\n                    }\n                    this.updateData(newProp.delimiterChar);\n                    break;\n                case 'cssClass':\n                    this.updateOldPropCssClass(oldProp.cssClass);\n                    this.updateCssClass();\n                    this.calculateWidth();\n                    break;\n                case 'enableRtl':\n                    this.enableRTL(newProp.enableRtl);\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    break;\n                case 'readonly':\n                    this.updateReadonly(newProp.readonly);\n                    this.hidePopup();\n                    break;\n                case 'enabled':\n                    this.hidePopup();\n                    this.enable(newProp.enabled);\n                    break;\n                case 'showSelectAll':\n                    if (this.popupObj) {\n                        this.popupObj.destroy();\n                        this.popupObj = null;\n                    }\n                    this.renderPopup();\n                    break;\n                case 'showDropDownIcon':\n                    this.dropDownIcon();\n                    break;\n                case 'floatLabelType':\n                    this.setFloatLabelType();\n                    this.addValidInputClass();\n                    Input.createSpanElement(this.overAllWrapper, this.createElement);\n                    this.calculateWidth();\n                    if (!isNullOrUndefined(this.overAllWrapper) &&\n                        !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] &&\n                            this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n                        this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'enableSelectionOrder':\n                    break;\n                case 'selectAllText':\n                    this.notify('selectAllText', false);\n                    break;\n                case 'popupHeight':\n                    if (this.popupObj) {\n                        var overAllHeight = parseInt(this.popupHeight, 10);\n                        if (this.popupHeight !== 'auto') {\n                            this.list.style.maxHeight = formatUnit(overAllHeight);\n                            this.popupWrapper.style.maxHeight = formatUnit(this.popupHeight);\n                        }\n                        else {\n                            this.list.style.maxHeight = formatUnit(this.popupHeight);\n                        }\n                    }\n                    break;\n                case 'headerTemplate':\n                case 'footerTemplate':\n                    this.reInitializePoup();\n                    break;\n                case 'allowFiltering':\n                    if (this.mode === 'CheckBox' && this.popupObj) {\n                        this.reInitializePoup();\n                    }\n                    this.updateSelectElementData(this.allowFiltering);\n                    break;\n                case 'fields':\n                    if (isNullOrUndefined(this.fields.groupBy)) {\n                        this.removeScrollEvent();\n                    }\n                    break;\n                default:\n                    {\n                        var msProps = this.getPropObject(prop, newProp, oldProp);\n                        _super.prototype.onPropertyChanged.call(this, msProps.newProperty, msProps.oldProperty);\n                    }\n                    break;\n            }\n        }\n    };\n    MultiSelect.prototype.reInitializePoup = function () {\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            this.popupObj = null;\n        }\n        this.renderPopup();\n    };\n    MultiSelect.prototype.totalItemsCount = function () {\n        var dataSourceCount;\n        if (this.dataSource instanceof DataManager) {\n            if (this.remoteDataCount >= 0) {\n                dataSourceCount = this.totalItemCount = this.dataCount = this.remoteDataCount;\n            }\n            else {\n                this.resetList(this.dataSource);\n            }\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataSourceCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        if (this.mode === 'CheckBox') {\n            this.totalItemCount = dataSourceCount !== 0 ? dataSourceCount : this.totalItemCount;\n        }\n        else {\n            if (this.hideSelectedItem) {\n                this.totalItemCount = dataSourceCount !== 0 && this.value ? dataSourceCount - this.value.length : this.totalItemCount;\n                if (this.allowCustomValue && this.virtualCustomSelectData && this.virtualCustomSelectData.length > 0) {\n                    for (var i = 0; i < this.virtualCustomSelectData.length; i++) {\n                        for (var j = 0; j < this.value.length; j++) {\n                            var value = this.allowObjectBinding ? getValue((this.fields.value) ?\n                                this.fields.value : '', this.value[j]) : this.value[j];\n                            var customValue = getValue((this.fields.value) ?\n                                this.fields.value : '', this.virtualCustomSelectData[i]);\n                            if (value === customValue) {\n                                this.totalItemCount += 1;\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                this.totalItemCount = dataSourceCount !== 0 ? dataSourceCount : this.totalItemCount;\n                if (this.allowCustomValue && this.virtualCustomSelectData && this.virtualCustomSelectData.length > 0) {\n                    this.totalItemCount += this.virtualCustomSelectData.length;\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.presentItemValue = function (ulElement) {\n        var valuecheck = [];\n        for (var i = 0; i < this.value.length; i++) {\n            var value = this.allowObjectBinding ? getValue((this.fields.value) ?\n                this.fields.value : '', this.value[i]) : this.value[i];\n            var checkEle = this.findListElement(((this.allowFiltering && !isNullOrUndefined(this.mainList)) ? this.mainList : ulElement), 'li', 'data-value', value);\n            if (!checkEle) {\n                var checkvalue = this.allowObjectBinding ?\n                    this.getDataByValue(this.value[i]) : this.value[i];\n                valuecheck.push(checkvalue);\n            }\n        }\n        return valuecheck;\n    };\n    MultiSelect.prototype.addNonPresentItems = function (valuecheck, ulElement, list, event) {\n        var _this = this;\n        this.dataSource.executeQuery(this.getForQuery(valuecheck)).then(function (e) {\n            if (e.result.length > 0) {\n                _this.addItem(e.result, list.length);\n            }\n            _this.updateActionList(ulElement, list, event);\n        });\n    };\n    MultiSelect.prototype.updateVal = function (newProp, oldProp, prop) {\n        if (!this.list) {\n            this.onLoadSelect();\n        }\n        else if ((this.dataSource instanceof DataManager) && (!this.listData || !(this.mainList && this.mainData))) {\n            this.onLoadSelect();\n        }\n        else {\n            var valuecheck = [];\n            if (!isNullOrUndefined(this.value) && !this.allowCustomValue) {\n                valuecheck = this.presentItemValue(this.ulElement);\n            }\n            if (prop === 'value' && valuecheck.length > 0 && this.dataSource instanceof DataManager && !isNullOrUndefined(this.value)\n                && this.listData != null && !this.enableVirtualization) {\n                this.mainData = null;\n                this.setDynValue = true;\n                this.addNonPresentItems(valuecheck, this.ulElement, this.listData);\n            }\n            else {\n                if (prop === 'text') {\n                    this.initialTextUpdate();\n                    newProp = this.value;\n                }\n                if (isNullOrUndefined(this.value) || this.value.length === 0) {\n                    this.tempValues = oldProp;\n                }\n                // eslint-disable-next-line\n                if (this.allowCustomValue && (this.mode === 'Default' || this.mode === 'Box') && this.isReact && this.inputFocus\n                    && this.isPopupOpen() && this.mainData !== this.listData) {\n                    var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n                    this.onActionComplete(list, this.mainData);\n                }\n                if (!this.enableVirtualization || (this.enableVirtualization && (!(this.dataSource instanceof DataManager)))) {\n                    this.initialValueUpdate();\n                }\n                if (this.mode !== 'Box' && !this.inputFocus) {\n                    this.updateDelimView();\n                }\n                if (!this.inputFocus) {\n                    this.refreshInputHight();\n                }\n                this.refreshPlaceHolder();\n                if (this.mode !== 'CheckBox' && this.changeOnBlur) {\n                    this.updateValueState(null, newProp, oldProp);\n                }\n                this.checkPlaceholderSize();\n            }\n        }\n        if (!this.changeOnBlur) {\n            this.updateValueState(null, newProp, oldProp);\n        }\n    };\n    /**\n     * Adds a new item to the multiselect popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n     */\n    MultiSelect.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * Hides the popup, if the popup in a open state.\n     *\n     * @param {MouseEvent | KeyboardEventArgs} e - Specifies the mouse event or keyboard event.\n     * @returns {void}\n     */\n    MultiSelect.prototype.hidePopup = function (e) {\n        var _this = this;\n        var delay = 100;\n        if (this.isPopupOpen()) {\n            var animModel = {\n                name: 'FadeOut',\n                duration: 100,\n                delay: delay ? delay : 0\n            };\n            this.customFilterQuery = null;\n            var eventArgs = { popup: this.popupObj, cancel: false, animation: animModel, event: e || null };\n            this.trigger('close', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    if (_this.fields.groupBy && _this.mode !== 'CheckBox' && _this.fixedHeaderElement) {\n                        remove(_this.fixedHeaderElement);\n                        _this.fixedHeaderElement = null;\n                    }\n                    _this.beforePopupOpen = false;\n                    _this.overAllWrapper.classList.remove(iconAnimation);\n                    var typedValue = _this.mode === 'CheckBox' ? _this.targetElement() : null;\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                    attributes(_this.inputElement, { 'aria-expanded': 'false' });\n                    _this.inputElement.removeAttribute('aria-owns');\n                    _this.inputElement.removeAttribute('aria-activedescendant');\n                    if (_this.allowFiltering) {\n                        _this.notify('inputFocus', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox', value: 'clear' });\n                    }\n                    _this.popupObj.hide();\n                    removeClass([document.body, _this.popupObj.element], 'e-popup-full-page');\n                    EventHandler.remove(_this.list, 'keydown', _this.onKeyDown);\n                    if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                        EventHandler.remove(_this.popupObj.element, 'click', _this.clickHandler);\n                    }\n                    if (_this.enableVirtualization && _this.mode === 'CheckBox' && _this.value && _this.value.length > 0 &&\n                        _this.enableSelectionOrder) {\n                        _this.viewPortInfo.startIndex = _this.virtualItemStartIndex = 0;\n                        _this.viewPortInfo.endIndex = _this.virtualItemEndIndex = _this.viewPortInfo.startIndex > 0 ?\n                            _this.viewPortInfo.endIndex : _this.itemCount;\n                        _this.virtualListInfo = _this.viewPortInfo;\n                        _this.previousStartIndex = 0;\n                        _this.previousEndIndex = 0;\n                    }\n                    var dataSourceCount = void 0;\n                    if (_this.dataSource instanceof DataManager) {\n                        if (_this.remoteDataCount >= 0) {\n                            _this.totalItemCount = _this.dataCount = _this.remoteDataCount;\n                        }\n                        else {\n                            _this.resetList(_this.dataSource);\n                        }\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        dataSourceCount = _this.dataSource && _this.dataSource.length ? _this.dataSource.length : 0;\n                    }\n                    if (_this.enableVirtualization && (_this.allowFiltering || _this.allowCustomValue) &&\n                        (_this.targetElement() || typedValue) && _this.totalItemCount !== dataSourceCount) {\n                        _this.checkAndResetCache();\n                        _this.updateInitialData();\n                    }\n                    if (_this.virtualCustomData && _this.viewPortInfo && _this.viewPortInfo.startIndex === 0 &&\n                        _this.viewPortInfo.endIndex === _this.itemCount) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.renderItems(_this.mainData, _this.fields);\n                    }\n                    _this.virtualCustomData = null;\n                    _this.isVirtualTrackHeight = false;\n                }\n            });\n        }\n    };\n    /**\n     * Shows the popup, if the popup in a closed state.\n     *\n     * @param {MouseEvent | KeyboardEventArgs} e - Specifies the mouse event or keyboard event.\n     * @returns {void}\n     */\n    MultiSelect.prototype.showPopup = function (e) {\n        var _this = this;\n        if (!this.enabled) {\n            return;\n        }\n        this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                if (!_this.ulElement) {\n                    _this.beforePopupOpen = true;\n                    if (_this.mode === 'CheckBox' && Browser.isDevice && _this.allowFiltering && _this.isDeviceFullScreen) {\n                        _this.notify('popupFullScreen', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox' });\n                    }\n                    _super.prototype.render.call(_this, e);\n                    return;\n                }\n                if (_this.mode === 'CheckBox' && Browser.isDevice && _this.allowFiltering && _this.isDeviceFullScreen) {\n                    _this.notify('popupFullScreen', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox' });\n                }\n                var mainLiLength = _this.ulElement.querySelectorAll('li.' + 'e-list-item').length;\n                var liLength = _this.ulElement.querySelectorAll('li.'\n                    + dropDownBaseClasses.li + '.' + HIDE_LIST).length;\n                if (mainLiLength > 0 && (mainLiLength === liLength) && (liLength === _this.mainData.length) &&\n                    !(_this.targetElement() !== '' && _this.allowCustomValue)) {\n                    _this.beforePopupOpen = false;\n                    return;\n                }\n                _this.onPopupShown(e);\n                if (_this.enableVirtualization && _this.listData && _this.listData.length) {\n                    if (!isNullOrUndefined(_this.value) && (_this.getModuleName() === 'dropdownlist' ||\n                        _this.getModuleName() === 'combobox')) {\n                        _this.removeHover();\n                    }\n                    if (!_this.beforePopupOpen) {\n                        if (_this.hideSelectedItem && _this.value && Array.isArray(_this.value) && _this.value.length > 0) {\n                            _this.totalItemsCount();\n                        }\n                        if (!_this.preventSetCurrentData && !isNullOrUndefined(_this.viewPortInfo.startIndex) &&\n                            !isNullOrUndefined(_this.viewPortInfo.endIndex)) {\n                            _this.notify('setCurrentViewDataAsync', {\n                                component: _this.getModuleName(),\n                                module: 'VirtualScroll'\n                            });\n                        }\n                    }\n                }\n                if (_this.enableVirtualization && !_this.allowFiltering && _this.selectedValueInfo != null &&\n                    _this.selectedValueInfo.startIndex > 0 && _this.value != null) {\n                    _this.notify('dataProcessAsync', {\n                        module: 'VirtualScroll',\n                        isOpen: true\n                    });\n                }\n                if (_this.enableVirtualization) {\n                    _this.updatevirtualizationList();\n                }\n                else {\n                    if (_this.value && _this.value.length) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var element = void 0;\n                        var listItems = _this.getItems();\n                        for (var _i = 0, _a = _this.value; _i < _a.length; _i++) {\n                            var value = _a[_i];\n                            var checkValue = _this.allowObjectBinding ?\n                                getValue((_this.fields.value) ? _this.fields.value : '', value) : value;\n                            element = _this.getElementByValue(checkValue);\n                            if (element) {\n                                _this.addListSelection(element);\n                            }\n                        }\n                    }\n                }\n                _this.preventSetCurrentData = true;\n            }\n        });\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected/deselected.\n     * parameter\n     * `true`   - Selects entire list items.\n     * `false`  - Un Selects entire list items.\n     *\n     * @param {boolean} state - if it’s true then Selects the entire list items. If it’s false the Unselects entire list items.\n     * @returns {void}\n     */\n    MultiSelect.prototype.selectAll = function (state) {\n        this.isSelectAll = true;\n        this.selectAllItems(state);\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    MultiSelect.prototype.getModuleName = function () {\n        return 'multiselect';\n    };\n    /**\n     * Allows you to clear the selected values from the Multiselect component.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.clear = function () {\n        var _this = this;\n        this.selectAll(false);\n        if (this.value && this.value.length) {\n            setTimeout(function () {\n                _this.setProperties({ value: null }, true);\n            }, 0);\n        }\n        else {\n            this.setProperties({ value: null }, true);\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiSelect.prototype.render = function () {\n        if (!isNullOrUndefined(this.value) && this.value.length > 0) {\n            // eslint-disable-next-line\n            this.value = this.value.slice();\n        }\n        this.setDynValue = this.initStatus = false;\n        this.isSelectAll = false;\n        this.selectAllEventEle = [];\n        this.searchWrapper = this.createElement('span', {\n            className: SEARCHBOX_WRAPPER + ' ' + ((this.mode === 'Box') ?\n                BOX_ELEMENT : '')\n        });\n        this.viewWrapper = this.createElement('span', {\n            className: DELIMITER_VIEW + ' ' + DELIMITER_WRAPPER, styles: 'display:none;'\n        });\n        this.overAllClear = this.createElement('span', {\n            className: CLOSEICON_CLASS, styles: 'display:none;'\n        });\n        this.componentWrapper = this.createElement('div', { className: ELEMENT_WRAPPER });\n        this.overAllWrapper = this.createElement('div', { className: OVER_ALL_WRAPPER });\n        if (this.mode === 'CheckBox') {\n            addClass([this.overAllWrapper], 'e-checkbox');\n        }\n        if (Browser.isDevice) {\n            this.componentWrapper.classList.add(ELEMENT_MOBILE_WRAPPER);\n        }\n        this.setWidth(this.width);\n        this.overAllWrapper.appendChild(this.componentWrapper);\n        this.popupWrapper = this.createElement('div', { id: this.element.id + '_popup', className: POPUP_WRAPPER });\n        this.popupWrapper.setAttribute('aria-label', this.element.id);\n        this.popupWrapper.setAttribute('role', 'dialog');\n        if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n            this.delimiterWrapper = this.createElement('span', { className: DELIMITER_WRAPPER, styles: 'display:none' });\n            this.componentWrapper.appendChild(this.delimiterWrapper);\n        }\n        else {\n            this.chipCollectionWrapper = this.createElement('span', {\n                className: CHIP_WRAPPER,\n                styles: 'display:none'\n            });\n            if (this.mode === 'Default') {\n                this.chipCollectionWrapper.setAttribute('id', getUniqueID('chip_default'));\n            }\n            else if (this.mode === 'Box') {\n                this.chipCollectionWrapper.setAttribute('id', getUniqueID('chip_box'));\n            }\n            this.componentWrapper.appendChild(this.chipCollectionWrapper);\n        }\n        if (this.mode !== 'Box') {\n            this.componentWrapper.appendChild(this.viewWrapper);\n        }\n        this.componentWrapper.appendChild(this.searchWrapper);\n        if (this.showClearButton && !Browser.isDevice) {\n            this.componentWrapper.appendChild(this.overAllClear);\n        }\n        else {\n            this.componentWrapper.classList.add(CLOSE_ICON_HIDE);\n        }\n        this.dropDownIcon();\n        this.inputElement = this.createElement('input', {\n            className: INPUT_ELEMENT,\n            attrs: {\n                spellcheck: 'false',\n                type: 'text',\n                autocomplete: 'off',\n                tabindex: '0',\n                role: 'combobox'\n            }\n        });\n        if (this.mode === 'Default' || this.mode === 'Box') {\n            this.inputElement.setAttribute('aria-describedby', this.chipCollectionWrapper.id);\n        }\n        if (!isNullOrUndefined(this.inputElement)) {\n            attributes(this.inputElement, { 'aria-expanded': 'false' });\n            if (!this.inputElement.hasAttribute('aria-label')) {\n                this.inputElement.setAttribute('aria-label', this.getModuleName());\n            }\n        }\n        if (this.element.tagName !== this.getNgDirective()) {\n            this.element.style.display = 'none';\n        }\n        if (this.element.tagName === this.getNgDirective()) {\n            this.element.appendChild(this.overAllWrapper);\n            this.searchWrapper.appendChild(this.inputElement);\n        }\n        else {\n            this.element.parentElement.insertBefore(this.overAllWrapper, this.element);\n            this.searchWrapper.appendChild(this.inputElement);\n            this.searchWrapper.appendChild(this.element);\n            this.element.removeAttribute('tabindex');\n        }\n        if (this.floatLabelType !== 'Never') {\n            createFloatLabel(this.overAllWrapper, this.searchWrapper, this.element, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        }\n        else if (this.floatLabelType === 'Never') {\n            this.refreshPlaceHolder();\n        }\n        this.addValidInputClass();\n        this.element.style.opacity = '';\n        var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n        this.element.id = id;\n        this.hiddenElement = this.createElement('select', {\n            attrs: { 'aria-hidden': 'true', 'class': HIDDEN_ELEMENT, 'tabindex': '-1', 'multiple': '' }\n        });\n        this.componentWrapper.appendChild(this.hiddenElement);\n        this.validationAttribute(this.element, this.hiddenElement);\n        if (this.mode !== 'CheckBox') {\n            this.hideOverAllClear();\n        }\n        if (!isNullOrUndefined(closest(this.element, 'fieldset')) &&\n            closest(this.element, 'fieldset').disabled) {\n            this.enabled = false;\n        }\n        this.wireEvent();\n        this.enable(this.enabled);\n        this.enableRTL(this.enableRtl);\n        if (this.enableVirtualization) {\n            this.updateVirtualizationProperties(this.itemCount, this.allowFiltering, this.mode === 'CheckBox');\n        }\n        this.listItemHeight = this.getListHeight();\n        this.getSkeletonCount();\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.viewPortInfo.startIndex > 0 ?\n            this.viewPortInfo.endIndex : this.itemCount;\n        this.checkInitialValue();\n        if (this.element.hasAttribute('data-val')) {\n            this.element.setAttribute('data-val', 'false');\n        }\n        Input.createSpanElement(this.overAllWrapper, this.createElement);\n        this.calculateWidth();\n        if (!isNullOrUndefined(this.overAllWrapper) && !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] &&\n            this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n            this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n        }\n        this.renderComplete();\n    };\n    MultiSelect.prototype.getListHeight = function () {\n        var listParent = this.createElement('div', {\n            className: 'e-dropdownbase'\n        });\n        var item = this.createElement('li', {\n            className: 'e-list-item'\n        });\n        var listParentHeight = formatUnit(this.popupHeight);\n        listParent.style.height = (parseInt(listParentHeight, 10)).toString() + 'px';\n        listParent.appendChild(item);\n        document.body.appendChild(listParent);\n        this.virtualListHeight = listParent.getBoundingClientRect().height;\n        var listItemHeight = Math.ceil(item.getBoundingClientRect().height) +\n            parseInt(window.getComputedStyle(item).marginBottom, 10);\n        listParent.remove();\n        return listItemHeight;\n    };\n    /**\n     * Removes disabled values from the given array.\n     *\n     * @param { number[] | string[] | boolean[] | object[] } value - The array to check.\n     * @returns {void}\n     */\n    MultiSelect.prototype.removeDisabledItemsValue = function (value) {\n        if (value) {\n            var data = [];\n            var dataIndex = 0;\n            for (var index = 0; index < value.length; index++) {\n                var indexValue = value[index];\n                if (typeof (indexValue) === 'object') {\n                    indexValue = JSON.parse(JSON.stringify(indexValue))[this.fields.value];\n                }\n                if ((indexValue != null) && !(this.isDisabledItemByIndex(this.getIndexByValue(indexValue)))) {\n                    data[dataIndex++] = value[index];\n                }\n            }\n            this.value = data.length > 0 ? data : null;\n        }\n    };\n    MultiSelect.prototype.checkInitialValue = function () {\n        var _this = this;\n        if (this.fields.disabled) {\n            this.removeDisabledItemsValue(this.value);\n        }\n        var isData = this.dataSource instanceof Array ? (this.dataSource.length > 0)\n            : !isNullOrUndefined(this.dataSource);\n        if (!(this.value && this.value.length) &&\n            isNullOrUndefined(this.text) &&\n            !isData &&\n            this.element.tagName === 'SELECT' &&\n            this.element.options.length > 0) {\n            var optionsElement = this.element.options;\n            var valueCol = [];\n            var textCol = '';\n            for (var index = 0, optionsLen = optionsElement.length; index < optionsLen; index++) {\n                var opt = optionsElement[index];\n                if (!isNullOrUndefined(opt.getAttribute('selected'))) {\n                    if (opt.getAttribute('value')) {\n                        var value = this.allowObjectBinding ? this.getDataByValue(opt.getAttribute('value')) : opt.getAttribute('value');\n                        valueCol.push(value);\n                    }\n                    else {\n                        textCol += (opt.text + this.delimiterChar);\n                    }\n                }\n            }\n            if (valueCol.length > 0) {\n                this.setProperties({ value: valueCol }, true);\n            }\n            else if (textCol !== '') {\n                this.setProperties({ text: textCol }, true);\n            }\n            if (valueCol.length > 0 || textCol !== '') {\n                this.refreshInputHight();\n                this.refreshPlaceHolder();\n            }\n        }\n        if ((this.value && this.value.length) || !isNullOrUndefined(this.text)) {\n            if (!this.list) {\n                _super.prototype.render.call(this);\n            }\n        }\n        if (this.fields.disabled) {\n            this.text = this.text && !this.isDisabledItemByIndex(this.getIndexByValue(this.getValueByText(this.text))) ? this.text : null;\n        }\n        if (!isNullOrUndefined(this.text) && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n            this.initialTextUpdate();\n        }\n        if (this.value && this.value.length) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var listItems_2;\n            if (this.enableVirtualization) {\n                var fields = (this.fields.value) ? this.fields.value : '';\n                var predicate = void 0;\n                for (var i = 0; i < this.value.length; i++) {\n                    var value = this.allowObjectBinding ?\n                        getValue((this.fields.value) ? this.fields.value : '', this.value[i]) :\n                        this.value[i];\n                    if (i === 0) {\n                        predicate = new Predicate(fields, 'equal', value);\n                    }\n                    else {\n                        predicate = predicate.or(fields, 'equal', value);\n                    }\n                }\n                if (this.dataSource instanceof DataManager) {\n                    this.dataSource.executeQuery(new Query().where(predicate))\n                        .then(function (e) {\n                        if (e.result.length > 0) {\n                            listItems_2 = e.result;\n                            _this.initStatus = false;\n                            setTimeout(function () {\n                                _this.initialValueUpdate(listItems_2, true);\n                                _this.initialUpdate();\n                            }, 100);\n                            _this.initStatus = true;\n                        }\n                    });\n                }\n                else {\n                    listItems_2 = new DataManager(this.dataSource).executeLocal(new Query().where(predicate));\n                }\n            }\n            if (!(this.dataSource instanceof DataManager)) {\n                this.initialValueUpdate(listItems_2);\n                this.initialUpdate();\n            }\n            else {\n                this.setInitialValue = function () {\n                    _this.initStatus = false;\n                    if (!_this.enableVirtualization || (_this.enableVirtualization && (!(_this.dataSource instanceof DataManager)))) {\n                        _this.initialValueUpdate(listItems_2);\n                    }\n                    _this.initialUpdate();\n                    _this.setInitialValue = null;\n                    _this.initStatus = true;\n                };\n            }\n            this.updateTempValue();\n        }\n        else {\n            this.initialUpdate();\n        }\n        this.initStatus = true;\n        this.checkAutoFocus();\n        if (!isNullOrUndefined(this.text)) {\n            this.element.setAttribute('data-initial-value', this.text);\n        }\n    };\n    MultiSelect.prototype.checkAutoFocus = function () {\n        if (this.element.hasAttribute('autofocus')) {\n            this.inputElement.focus();\n        }\n    };\n    MultiSelect.prototype.updatevirtualizationList = function () {\n        if (this.value && this.value.length) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var element = void 0;\n            for (var _i = 0, _a = this.value; _i < _a.length; _i++) {\n                var value = _a[_i];\n                var checkValue = this.allowObjectBinding ? getValue((this.fields.value) ?\n                    this.fields.value : '', value) : value;\n                element = this.getElementByValue(checkValue);\n                if (element) {\n                    this.addListSelection(element);\n                }\n            }\n            if (this.enableVirtualization && this.hideSelectedItem) {\n                var visibleListElements = this.list.querySelectorAll('li.'\n                    + dropDownBaseClasses.li\n                    + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)' + ':not(.e-virtual-list)');\n                if (visibleListElements.length) {\n                    var actualCount = this.virtualListHeight > 0 ? Math.floor(this.virtualListHeight / this.listItemHeight) : 0;\n                    if (visibleListElements.length < (actualCount + 2)) {\n                        var query = this.getForQuery(this.value).clone();\n                        query = query.skip(this.viewPortInfo.startIndex);\n                        this.resetList(this.dataSource, this.fields, query);\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.setFloatLabelType = function () {\n        removeFloating(this.overAllWrapper, this.componentWrapper, this.searchWrapper, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        if (this.floatLabelType !== 'Never') {\n            createFloatLabel(this.overAllWrapper, this.searchWrapper, this.element, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        }\n    };\n    MultiSelect.prototype.addValidInputClass = function () {\n        if (!isNullOrUndefined(this.overAllWrapper)) {\n            if ((!isNullOrUndefined(this.value) && this.value.length) || this.floatLabelType === 'Always') {\n                addClass([this.overAllWrapper], 'e-valid-input');\n            }\n            else {\n                removeClass([this.overAllWrapper], 'e-valid-input');\n            }\n        }\n    };\n    MultiSelect.prototype.dropDownIcon = function () {\n        if (this.showDropDownIcon) {\n            this.dropIcon = this.createElement('span', { className: dropdownIcon });\n            this.componentWrapper.appendChild(this.dropIcon);\n            addClass([this.componentWrapper], ['e-down-icon']);\n        }\n        else {\n            if (!isNullOrUndefined(this.dropIcon)) {\n                this.dropIcon.parentElement.removeChild(this.dropIcon);\n                removeClass([this.componentWrapper], ['e-down-icon']);\n            }\n        }\n    };\n    MultiSelect.prototype.initialUpdate = function () {\n        if (this.mode !== 'Box' && !(this.setDynValue && this.mode === 'Default' && this.inputFocus)) {\n            this.updateDelimView();\n        }\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.itemCount;\n        this.updateCssClass();\n        this.updateHTMLAttribute();\n        this.updateReadonly(this.readonly);\n        this.refreshInputHight();\n        this.checkPlaceholderSize();\n    };\n    /**\n     * Method to disable specific item in the popup.\n     *\n     * @param {string | number | object | HTMLLIElement} item - Specifies the item to be disabled.\n     * @returns {void}\n     * @deprecated\n     */\n    MultiSelect.prototype.disableItem = function (item) {\n        if (this.fields.disabled) {\n            if (!this.list) {\n                this.renderList();\n            }\n            var itemIndex = -1;\n            if (this.liCollections && this.liCollections.length > 0 && this.listData && this.fields.disabled) {\n                if (typeof (item) === 'string') {\n                    itemIndex = this.getIndexByValue(item);\n                }\n                else if (typeof item === 'object') {\n                    if (item instanceof HTMLLIElement) {\n                        for (var index = 0; index < this.liCollections.length; index++) {\n                            if (this.liCollections[index] === item) {\n                                itemIndex = this.getIndexByValue(item.getAttribute('data-value'));\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        var value = JSON.parse(JSON.stringify(item))[this.fields.value];\n                        for (var index = 0; index < this.listData.length; index++) {\n                            if (JSON.parse(JSON.stringify(this.listData[index]))[this.fields.value] === value) {\n                                itemIndex = this.getIndexByValue(value);\n                                break;\n                            }\n                        }\n                    }\n                }\n                else {\n                    itemIndex = item;\n                }\n                var isValidIndex = itemIndex < this.liCollections.length && itemIndex > -1;\n                if (isValidIndex && !(JSON.parse(JSON.stringify(this.listData[itemIndex]))[this.fields.disabled])) {\n                    var li = this.liCollections[itemIndex];\n                    if (li) {\n                        this.disableListItem(li);\n                        var parsedData = JSON.parse(JSON.stringify(this.listData[itemIndex]));\n                        parsedData[this.fields.disabled] = true;\n                        this.listData[itemIndex] = parsedData;\n                        if (li.classList.contains(dropDownBaseClasses.focus)) {\n                            this.removeFocus();\n                        }\n                        if (li.classList.contains(HIDE_LIST) || li.classList.contains(dropDownBaseClasses.selected)) {\n                            var oldValue = this.value;\n                            this.removeDisabledItemsValue(this.value);\n                            this.updateVal(this.value, oldValue, 'value');\n                        }\n                        if (this.mode === 'CheckBox' && this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n                            this.disableGroupHeader();\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    MultiSelect.prototype.destroy = function () {\n        // eslint-disable-next-line\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        if (!isNullOrUndefined(this.popupObj)) {\n            this.popupObj.hide();\n            this.popupObj.destroy();\n        }\n        this.notify(destroy, {});\n        this.unwireListEvents();\n        this.unWireEvent();\n        var temp = ['readonly', 'aria-disabled', 'placeholder', 'aria-label', 'aria-expanded'];\n        var length = temp.length;\n        if (!isNullOrUndefined(this.inputElement)) {\n            while (length > 0) {\n                this.inputElement.removeAttribute(temp[length - 1]);\n                length--;\n            }\n        }\n        if (!isNullOrUndefined(this.element)) {\n            this.element.removeAttribute('data-initial-value');\n            this.element.style.display = 'block';\n        }\n        if (this.overAllWrapper && this.overAllWrapper.parentElement) {\n            if (this.overAllWrapper.parentElement.tagName === this.getNgDirective()) {\n                remove(this.overAllWrapper);\n            }\n            else {\n                this.overAllWrapper.parentElement.insertBefore(this.element, this.overAllWrapper);\n                remove(this.overAllWrapper);\n            }\n        }\n        if (this.popupWrapper && this.popupWrapper.parentElement) {\n            this.popupWrapper.parentElement.remove();\n        }\n        while (this.searchWrapper && this.searchWrapper.firstChild) {\n            this.searchWrapper.removeChild(this.searchWrapper.firstChild);\n        }\n        if (this.searchWrapper && this.searchWrapper.parentElement) {\n            this.searchWrapper.parentElement.remove();\n        }\n        if (this.viewWrapper && this.viewWrapper.parentElement) {\n            this.viewWrapper.parentElement.remove();\n        }\n        if (this.overAllClear && this.overAllClear.parentElement) {\n            this.overAllClear.parentElement.remove();\n        }\n        if (this.delimiterWrapper && this.delimiterWrapper.parentElement) {\n            this.delimiterWrapper.parentElement.remove();\n        }\n        // Remove the select element if it exists\n        var selectElement = this.overAllWrapper.querySelector('select.e-multi-hidden');\n        if (selectElement && selectElement.parentElement) {\n            selectElement.parentElement.remove();\n        }\n        while (this.componentWrapper && this.componentWrapper.firstChild) {\n            this.componentWrapper.removeChild(this.componentWrapper.firstChild);\n        }\n        if (this.componentWrapper && this.componentWrapper.parentElement) {\n            this.componentWrapper.removeAttribute('class');\n            this.componentWrapper.parentElement.remove();\n        }\n        while (this.popupWrapper && this.popupWrapper.firstChild) {\n            this.popupWrapper.removeChild(this.popupWrapper.firstChild);\n        }\n        if (this.inputElement) {\n            var attrArray = ['readonly', 'aria-disabled', 'placeholder', 'aria-labelledby',\n                'aria-expanded', 'autocomplete', 'aria-readonly', 'autocapitalize',\n                'spellcheck', 'aria-autocomplete', 'aria-live', 'aria-label', 'aria-hidden', 'tabindex', 'aria-controls',\n                'aria-describedby', 'size', 'role', 'type', 'class'];\n            for (var i = 0; i < attrArray.length; i++) {\n                this.inputElement.removeAttribute(attrArray[i]);\n            }\n        }\n        if (this.inputElement) {\n            this.inputElement.remove();\n        }\n        this.list = null;\n        this.popupObj = null;\n        this.mainData = null;\n        this.filterParent = null;\n        this.ulElement = null;\n        this.componentWrapper = null;\n        this.overAllClear = null;\n        this.overAllWrapper = null;\n        this.hiddenElement = null;\n        this.searchWrapper = null;\n        this.viewWrapper = null;\n        this.chipCollectionWrapper = null;\n        this.targetInputElement = null;\n        this.popupWrapper = null;\n        this.inputElement = null;\n        this.delimiterWrapper = null;\n        this.liCollections = null;\n        this.header = null;\n        this.mainList = null;\n        this.mainListCollection = null;\n        this.footer = null;\n        this.selectAllEventEle = null;\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null, disabled: null }, FieldSettings)\n    ], MultiSelect.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], MultiSelect.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property('Request failed')\n    ], MultiSelect.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property('None')\n    ], MultiSelect.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property([])\n    ], MultiSelect.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"query\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], MultiSelect.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(1000)\n    ], MultiSelect.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property()\n    ], MultiSelect.prototype, \"locale\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"enableGroupCheckBox\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('100%')\n    ], MultiSelect.prototype, \"width\", void 0);\n    __decorate([\n        Property('300px')\n    ], MultiSelect.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], MultiSelect.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property({})\n    ], MultiSelect.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"isDeviceFullScreen\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"changeOnBlur\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"allowCustomValue\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(1000)\n    ], MultiSelect.prototype, \"maximumSelectionLength\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"allowObjectBinding\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"hideSelectedItem\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"closePopupOnSelect\", void 0);\n    __decorate([\n        Property('Default')\n    ], MultiSelect.prototype, \"mode\", void 0);\n    __decorate([\n        Property(',')\n    ], MultiSelect.prototype, \"delimiterChar\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"showDropDownIcon\", void 0);\n    __decorate([\n        Property('Never')\n    ], MultiSelect.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"showSelectAll\", void 0);\n    __decorate([\n        Property('Select All')\n    ], MultiSelect.prototype, \"selectAllText\", void 0);\n    __decorate([\n        Property('Unselect All')\n    ], MultiSelect.prototype, \"unSelectAllText\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"enableSelectionOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"openOnClick\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"addTagOnBlur\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"removed\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"beforeSelectAll\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"selectedAll\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"chipSelection\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"tagging\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"customValueSelection\", void 0);\n    MultiSelect = __decorate([\n        NotifyPropertyChanges\n    ], MultiSelect);\n    return MultiSelect;\n}(DropDownBase));\nexport { MultiSelect };\n","import { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { EventHandler, select, removeClass, addClass, detach, compile, L10n } from '@syncfusion/ej2-base';\nimport { Browser, attributes, isNullOrUndefined, append, closest, prepend } from '@syncfusion/ej2-base';\nimport { dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nvar ICON = 'e-icons';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar INDETERMINATE = 'e-stop';\nvar checkAllParent = 'e-selectall-parent';\nvar searchBackIcon = 'e-input-group-icon e-back-icon e-icons';\nvar filterBarClearIcon = 'e-input-group-icon e-clear-icon e-icons';\nvar filterInput = 'e-input-filter';\nvar filterParent = 'e-filter-parent';\nvar mobileFilter = 'e-ddl-device-filter';\nvar clearIcon = 'e-clear-icon';\nvar popupFullScreen = 'e-popup-full-page';\nvar device = 'e-ddl-device';\nvar FOCUS = 'e-input-focus';\n/**\n * The Multiselect enable CheckBoxSelection call this inject module.\n */\nvar CheckBoxSelection = /** @class */ (function () {\n    function CheckBoxSelection(parent) {\n        this.activeLi = [];\n        this.activeEle = [];\n        this.parent = parent;\n        this.removeEventListener();\n        this.addEventListener();\n    }\n    CheckBoxSelection.prototype.getModuleName = function () {\n        return 'CheckBoxSelection';\n    };\n    CheckBoxSelection.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('updatelist', this.listSelection, this);\n        this.parent.on('listoption', this.listOption, this);\n        this.parent.on('selectAll', this.setSelectAll, this);\n        this.parent.on('checkSelectAll', this.checkSelectAll, this);\n        this.parent.on('searchBox', this.setSearchBox, this);\n        this.parent.on('blur', this.onBlurHandler, this);\n        this.parent.on('targetElement', this.targetElement, this);\n        this.parent.on('deviceSearchBox', this.setDeviceSearchBox, this);\n        this.parent.on('inputFocus', this.getFocus, this);\n        this.parent.on('reOrder', this.setReorder, this);\n        this.parent.on('activeList', this.getActiveList, this);\n        this.parent.on('selectAllText', this.setLocale, this);\n        this.parent.on('filterBarPlaceholder', this.setPlaceholder, this);\n        EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n        this.parent.on('addItem', this.checboxCreate, this);\n        this.parent.on('popupFullScreen', this.setPopupFullScreen, this);\n    };\n    CheckBoxSelection.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updatelist', this.listSelection);\n        this.parent.off('listoption', this.listOption);\n        this.parent.off('selectAll', this.setSelectAll);\n        this.parent.off('checkSelectAll', this.checkSelectAll);\n        this.parent.off('searchBox', this.setSearchBox);\n        this.parent.off('blur', this.onBlurHandler);\n        this.parent.off('targetElement', this.targetElement);\n        this.parent.off('deviceSearchBox', this.setDeviceSearchBox);\n        this.parent.off('inputFocus', this.getFocus);\n        this.parent.off('reOrder', this.setReorder);\n        this.parent.off('activeList', this.getActiveList);\n        this.parent.off('selectAllText', this.setLocale);\n        this.parent.off('filterBarPlaceholder', this.setPlaceholder);\n        this.parent.off('addItem', this.checboxCreate);\n        this.parent.off('popupFullScreen', this.setPopupFullScreen);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxSelection.prototype.listOption = function (args) {\n        var _this = this;\n        if (isNullOrUndefined(this.parent.listCurrentOptions.itemCreated)) {\n            this.parent.listCurrentOptions.itemCreated = function (e) {\n                _this.checboxCreate(e);\n            };\n        }\n        else {\n            var itemCreated_1 = this.parent.listCurrentOptions.itemCreated;\n            this.parent.listCurrentOptions.itemCreated = function (e) {\n                _this.checboxCreate(e);\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n    };\n    CheckBoxSelection.prototype.setPlaceholder = function (props) {\n        Input.setPlaceholder(props.filterBarPlaceholder, this.filterInput);\n    };\n    CheckBoxSelection.prototype.checboxCreate = function (e) {\n        var item;\n        if (!isNullOrUndefined(e.item)) {\n            item = e.item;\n        }\n        else {\n            item = e;\n        }\n        if (this.parent.enableGroupCheckBox || (item.className !== 'e-list-group-item '\n            && item.className !== 'e-list-group-item')) {\n            var checkboxEle = createCheckBox(this.parent.createElement, true);\n            var icon = select('div.' + ICON, item);\n            item.insertBefore(checkboxEle, item.childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n            select('.' + CHECKBOXFRAME, checkboxEle);\n            if (this.parent.enableGroupCheckBox) {\n                this.parent.popupWrapper.classList.add('e-multiselect-group');\n            }\n            return item;\n        }\n        else {\n            return item;\n        }\n    };\n    CheckBoxSelection.prototype.setSelectAll = function () {\n        if (this.parent.showSelectAll) {\n            if (isNullOrUndefined(this.checkAllParent)) {\n                this.checkAllParent = this.parent.createElement('div', {\n                    className: checkAllParent\n                });\n                this.selectAllSpan = this.parent.createElement('span', {\n                    className: 'e-all-text'\n                });\n                this.selectAllSpan.textContent = '';\n                this.checkAllParent.appendChild(this.selectAllSpan);\n                this.setLocale();\n                this.checboxCreate(this.checkAllParent);\n                if (this.parent.headerTemplate) {\n                    if (!isNullOrUndefined(this.parent.filterParent)) {\n                        append([this.checkAllParent], this.parent.filterParent);\n                    }\n                    else {\n                        append([this.checkAllParent], this.parent.popupWrapper);\n                    }\n                }\n                if (!this.parent.headerTemplate) {\n                    if (!isNullOrUndefined(this.parent.filterParent)) {\n                        this.parent.filterParent.parentNode.insertBefore(this.checkAllParent, this.parent.filterParent.nextSibling);\n                    }\n                    else {\n                        prepend([this.checkAllParent], this.parent.popupWrapper);\n                    }\n                }\n                EventHandler.add(this.checkAllParent, 'mousedown', this.clickHandler, this);\n            }\n            if (this.parent.list.classList.contains('e-nodata') || (this.parent.listData && this.parent.listData.length <= 1 && !this.parent.enableVirtualization &&\n                !(this.parent.isDynamicDataChange)) || (this.parent.isDynamicDataChange &&\n                this.parent.listData && this.parent.listData.length <= 1)) {\n                this.checkAllParent.style.display = 'none';\n            }\n            else {\n                this.checkAllParent.style.display = 'block';\n            }\n            this.parent.selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n        }\n        else if (!isNullOrUndefined(this.checkAllParent)) {\n            this.checkAllParent.parentElement.removeChild(this.checkAllParent);\n            this.checkAllParent = null;\n        }\n    };\n    CheckBoxSelection.prototype.destroy = function () {\n        this.removeEventListener();\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.checkAllParent = null;\n        this.clearIconElement = null;\n        this.filterInput = null;\n        this.filterInputObj = null;\n        this.checkWrapper = null;\n        this.selectAllSpan = null;\n    };\n    CheckBoxSelection.prototype.listSelection = function (args) {\n        var target;\n        if (!isNullOrUndefined(args.e)) {\n            var frameElm = args.li.querySelector('.e-checkbox-wrapper .e-frame');\n            target = !isNullOrUndefined(args.e.target) ?\n                (args.e.target.classList.contains('e-frame')\n                    && (!this.parent.showSelectAll\n                        || (this.checkAllParent && !this.checkAllParent.contains(args.e.target)))) ?\n                    args.e.target : args.li.querySelector('.e-checkbox-wrapper').childNodes[1]\n                : args.li.querySelector('.e-checkbox-wrapper').childNodes[1];\n        }\n        else {\n            var checkboxWrapper = args.li.querySelector('.e-checkbox-wrapper');\n            target = checkboxWrapper ? checkboxWrapper.childNodes[1] : args.li.lastElementChild.childNodes[1];\n        }\n        if (this.parent.itemTemplate || this.parent.enableGroupCheckBox) {\n            target = args.li.firstElementChild.childNodes[1];\n        }\n        if (!isNullOrUndefined(target)) {\n            this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        }\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            var selectAll = false;\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), args.li, args.e, selectAll);\n        }\n    };\n    CheckBoxSelection.prototype.validateCheckNode = function (checkWrap, isCheck, li, e, selectAll) {\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true, selectAll);\n    };\n    CheckBoxSelection.prototype.clickHandler = function (e) {\n        var target;\n        if (e.currentTarget.classList.contains(this.checkAllParent.className) ||\n            (e.currentTarget.classList.value === this.checkAllParent.className)) {\n            target = e.currentTarget.firstElementChild.lastElementChild;\n        }\n        else {\n            target = e.currentTarget;\n        }\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        var selectAll = true;\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), null, e, selectAll);\n        }\n        e.preventDefault();\n    };\n    CheckBoxSelection.prototype.changeState = function (wrapper, state, e, isPrevent, selectAll) {\n        var ariaState;\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            ariaState = 'true';\n            if (selectAll) {\n                this.parent.selectAllItems(true, e);\n                this.setLocale(true);\n            }\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            ariaState = 'false';\n            if (selectAll) {\n                this.parent.selectAllItems(false, e);\n                this.setLocale();\n            }\n        }\n        else if (state === 'indeterminate' && !(frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK]);\n            frameSpan.classList.add(INDETERMINATE);\n            ariaState = 'false';\n            if (selectAll) {\n                this.parent.selectAllItems(false, e);\n                this.setLocale();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.setSearchBox = function (args) {\n        if (isNullOrUndefined(this.parent.filterParent)) {\n            this.parent.filterParent = this.parent.createElement('span', {\n                className: filterParent\n            });\n            this.filterInput = this.parent.createElement('input', {\n                attrs: { type: 'text' },\n                className: filterInput\n            });\n            this.parent.element.parentNode.insertBefore(this.filterInput, this.parent.element);\n            var backIcon = false;\n            if (Browser.isDevice && this.parent.isDeviceFullScreen) {\n                backIcon = true;\n                this.parent.mobFilter = false;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ? [searchBackIcon, filterBarClearIcon] : [filterBarClearIcon],\n                properties: { placeholder: this.parent.filterBarPlaceholder }\n            }, this.parent.createElement);\n            if (!isNullOrUndefined(this.parent.cssClass)) {\n                if (this.parent.cssClass.split(' ').indexOf('e-outline') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-outline');\n                }\n                else if (this.parent.cssClass.split(' ').indexOf('e-filled') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-filled');\n                }\n            }\n            append([this.filterInputObj.container], this.parent.filterParent);\n            prepend([this.parent.filterParent], args.popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'role': 'combobox',\n                'autocomplete': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false',\n                'aria-label': 'multiselect',\n                'aria-expanded': 'true',\n                'aria-controls': args.popupElement.id\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'mousedown', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            EventHandler.add(this.filterInput, 'input', this.parent.onInput, this.parent);\n            EventHandler.add(this.filterInput, 'keyup', this.parent.keyUp, this.parent);\n            EventHandler.add(this.filterInput, 'keydown', this.parent.onKeyDown, this.parent);\n            EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n            EventHandler.add(this.filterInput, 'paste', this.parent.pasteHandler, this.parent);\n            this.parent.searchBoxHeight = (this.filterInputObj.container.parentElement).getBoundingClientRect().height;\n            return this.filterInputObj;\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxSelection.prototype.clickOnBackIcon = function (e) {\n        this.parent.hidePopup();\n        removeClass([document.body, this.parent.popupObj.element], popupFullScreen);\n        this.parent.inputElement.focus();\n    };\n    CheckBoxSelection.prototype.clearText = function (e) {\n        this.parent.targetInputElement.value = '';\n        if (this.parent.allowFiltering && this.parent.targetInputElement.value === '') {\n            this.parent.search(null);\n        }\n        this.parent.refreshListItems(null);\n        this.parent.refreshPopup();\n        this.clearIconElement.style.visibility = 'hidden';\n        this.filterInput.focus();\n        this.setReorder(e);\n        this.boundPreventListSelection = this.preventListSelection.bind(this);\n        this.parent.popupWrapper.addEventListener('mouseup', this.boundPreventListSelection, true);\n        e.preventDefault();\n    };\n    CheckBoxSelection.prototype.preventListSelection = function (e) {\n        e.stopPropagation();\n        this.parent.popupWrapper.removeEventListener('mouseup', this.boundPreventListSelection, true);\n        this.boundPreventListSelection = null;\n    };\n    CheckBoxSelection.prototype.setDeviceSearchBox = function () {\n        this.parent.popupObj.element.classList.add(device);\n        this.parent.popupObj.element.classList.add(mobileFilter);\n        this.parent.popupObj.position = { X: 0, Y: 0 };\n        this.parent.popupObj.dataBind();\n        this.setSearchBoxPosition();\n        this.backIconElement = this.filterInputObj.container.querySelector('.e-back-icon');\n        this.clearIconElement = this.filterInputObj.container.querySelector('.' + clearIcon);\n        this.clearIconElement.style.visibility = 'hidden';\n        EventHandler.add(this.backIconElement, 'click', this.clickOnBackIcon, this);\n        EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n    };\n    CheckBoxSelection.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        var selectAllHeight = 0;\n        var footerHeight = 0;\n        var headerHeight = 0;\n        if (this.checkAllParent) {\n            selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n        }\n        if (this.parent.header) {\n            headerHeight = this.parent.header.getBoundingClientRect().height;\n        }\n        if (this.parent.footer) {\n            footerHeight = this.parent.footer.getBoundingClientRect().height;\n        }\n        this.parent.popupObj.element.style.maxHeight = '100%';\n        this.parent.popupObj.element.style.width = '100%';\n        this.parent.list.style.maxHeight = (window.innerHeight - searchBoxHeight - selectAllHeight - headerHeight - footerHeight) + 'px';\n        this.parent.list.style.height = (window.innerHeight - searchBoxHeight - selectAllHeight - headerHeight - footerHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    CheckBoxSelection.prototype.setPopupFullScreen = function () {\n        if (this.parent && this.parent.popupObj) {\n            attributes(this.parent.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n            addClass([document.body, this.parent.popupObj.element], popupFullScreen);\n            this.parent.popupObj.element.style.maxHeight = '100%';\n            this.parent.popupObj.element.style.width = '100%';\n        }\n    };\n    CheckBoxSelection.prototype.targetElement = function () {\n        if (!isNullOrUndefined(this.clearIconElement)) {\n            this.parent.targetInputElement = this.filterInput;\n            this.clearIconElement.style.visibility = this.parent.targetInputElement.value === '' ? 'hidden' : 'visible';\n        }\n        return this.parent.targetInputElement.value;\n    };\n    CheckBoxSelection.prototype.onBlurHandler = function (e) {\n        if (!this.parent.element.classList.contains('e-listbox')) {\n            var target = void 0;\n            if (this.parent.keyAction) {\n                return;\n            }\n            if (Browser.isIE) {\n                target = !isNullOrUndefined(e) && e.target;\n            }\n            if (!Browser.isIE) {\n                target = !isNullOrUndefined(e) && e.relatedTarget;\n            }\n            // eslint-disable-next-line max-len\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && this.parent.popupObj.element.contains(target)\n                && !Browser.isIE && this.filterInput) {\n                this.filterInput.focus();\n                return;\n            }\n            if (this.parent.scrollFocusStatus && this.filterInput) {\n                e.preventDefault();\n                this.filterInput.focus();\n                this.parent.scrollFocusStatus = false;\n                return;\n            }\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element)\n                && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n                this.parent.inputFocus = false;\n                this.parent.updateValueState(e, this.parent.value, this.parent.tempValues);\n                this.parent.dispatchEvent(this.parent.hiddenElement, 'change');\n            }\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) &&\n                !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n                this.parent.inputFocus = false;\n                this.parent.overAllWrapper.classList.remove(FOCUS);\n                this.parent.trigger('blur');\n                this.parent.focused = true;\n            }\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) &&\n                !this.parent.popupObj.element.classList.contains('e-popup-close') && !Browser.isDevice) {\n                this.parent.hidePopup();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.onDocumentClick = function (e) {\n        if (this.parent.getLocaleName() !== 'listbox') {\n            var target = e.target;\n            if (!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]')) {\n                if (!(this.filterInput && this.filterInput.value !== '')) {\n                    e.preventDefault();\n                }\n            }\n            if (!(!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]'))\n                && !isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target)) {\n                if (this.parent.overAllWrapper.classList.contains(dropDownBaseClasses.focus) || this.parent.isPopupOpen()) {\n                    this.parent.inputFocus = false;\n                    this.parent.scrollFocusStatus = false;\n                    this.parent.hidePopup();\n                    this.parent.onBlurHandler(e, true);\n                    this.parent.focused = true;\n                }\n            }\n            else {\n                this.parent.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') &&\n                    (document.activeElement === this.filterInput);\n            }\n            if (!isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target) && this.parent.overAllWrapper.classList.contains('e-input-focus') &&\n                !this.parent.isPopupOpen()) {\n                if (Browser.isIE) {\n                    this.parent.onBlurHandler();\n                }\n                else {\n                    this.parent.onBlurHandler(e);\n                }\n            }\n            if (this.filterInput === target) {\n                this.filterInput.focus();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.getFocus = function (e) {\n        this.parent.overAllWrapper.classList.remove(FOCUS);\n        if (this.parent.keyAction && e.value !== 'clear' && e.value !== 'focus') {\n            this.parent.keyAction = false;\n            return;\n        }\n        if (e.value === 'focus') {\n            this.filterInput.focus();\n            this.parent.removeFocus();\n            EventHandler.remove(this.parent.list, 'keydown', this.parent.onKeyDown);\n        }\n        if (e.value === 'clear') {\n            this.filterInput.value = '';\n            this.clearIconElement.style.visibility = 'hidden';\n        }\n    };\n    CheckBoxSelection.prototype.checkSelectAll = function (e) {\n        if (e.value === 'check') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale(true);\n        }\n        if (e.value === 'uncheck') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale();\n        }\n        if (e.value === 'indeterminate') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale();\n        }\n    };\n    CheckBoxSelection.prototype.setLocale = function (unSelect) {\n        if (this.parent.selectAllText !== 'Select All' || this.parent.unSelectAllText !== 'Unselect All') {\n            var template = unSelect ? this.parent.unSelectAllText : this.parent.selectAllText;\n            this.selectAllSpan.textContent = '';\n            var compiledString = compile(template);\n            var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n            for (var _i = 0, _a = compiledString({}, this.parent, templateName, null, !this.parent.isStringTemplate); _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.selectAllSpan.textContent = item.textContent;\n            }\n        }\n        else {\n            var l10nLocale = { selectAllText: 'Select All', unSelectAllText: 'Unselect All' };\n            var l10n = new L10n(this.parent.getLocaleName(), {}, this.parent.locale);\n            if (l10n.getConstant('selectAllText') === '') {\n                l10n = new L10n('dropdowns', l10nLocale, this.parent.locale);\n            }\n            if (!isNullOrUndefined(this.selectAllSpan)) {\n                this.selectAllSpan.textContent = unSelect ? l10n.getConstant('unSelectAllText') : l10n.getConstant('selectAllText');\n            }\n        }\n    };\n    CheckBoxSelection.prototype.getActiveList = function (args) {\n        if (args.li.classList.contains('e-active')) {\n            this.activeLi.push(args.li.cloneNode(true));\n        }\n        else {\n            this.activeLi.splice(args.index, 1);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxSelection.prototype.setReorder = function (args) {\n        if (this.parent.enableSelectionOrder && !isNullOrUndefined(this.parent.value)) {\n            var activeLiCount = this.parent.ulElement.querySelectorAll('li.e-active').length;\n            var remLi = void 0;\n            var ulEle_1 = this.parent.createElement('ul', {\n                className: 'e-list-parent e-ul e-reorder'\n            });\n            if (activeLiCount > 0) {\n                var activeListItems = this.parent.ulElement.querySelectorAll('li.e-active');\n                activeListItems.forEach(function (item) {\n                    ulEle_1.appendChild(item);\n                });\n                remLi = this.parent.ulElement.querySelectorAll('li.e-active');\n                addClass(remLi, 'e-reorder-hide');\n                if (this.parent.enableVirtualization) {\n                    var virtualUlElement = this.parent.list.querySelector('.e-virtual-ddl-content');\n                    prepend([ulEle_1], virtualUlElement);\n                }\n                else {\n                    prepend([ulEle_1], this.parent.list);\n                }\n            }\n            this.parent.focusAtFirstListItem();\n        }\n    };\n    return CheckBoxSelection;\n}());\nexport { CheckBoxSelection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { EventHandler, closest, removeClass, addClass, Complex, Property, ChildProperty, L10n, setValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, getComponent, Event, extend, detach, attributes } from '@syncfusion/ej2-base';\nimport { getUniqueID, Browser, formatUnit, isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { prepend, append } from '@syncfusion/ej2-base';\nimport { cssClass, Sortable, moveTo } from '@syncfusion/ej2-lists';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { createSpinner, showSpinner, hideSpinner, getZindexPartial } from '@syncfusion/ej2-popups';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\n/**\n * Defines the Selection settings of List Box.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Multiple')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"showCheckbox\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"showSelectAll\", void 0);\n    __decorate([\n        Property('Left')\n    ], SelectionSettings.prototype, \"checkboxPosition\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n/**\n * Defines the toolbar settings of List Box.\n */\nvar ToolbarSettings = /** @class */ (function (_super) {\n    __extends(ToolbarSettings, _super);\n    function ToolbarSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], ToolbarSettings.prototype, \"items\", void 0);\n    __decorate([\n        Property('Right')\n    ], ToolbarSettings.prototype, \"position\", void 0);\n    return ToolbarSettings;\n}(ChildProperty));\nexport { ToolbarSettings };\n/**\n * The ListBox is a graphical user interface component used to display a list of items.\n * Users can select one or more items in the list using a checkbox or by keyboard selection.\n * It supports sorting, grouping, reordering and drag and drop of items.\n * ```html\n * <select id=\"listbox\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n * <script>\n *   var listObj = new ListBox();\n *   listObj.appendTo(\"#listbox\");\n * </script>\n * ```\n */\nvar ListBox = /** @class */ (function (_super) {\n    __extends(ListBox, _super);\n    /**\n     * Constructor for creating the ListBox component.\n     *\n     * @param {ListBoxModel} options - Specifies ListBox model\n     * @param {string | HTMLElement} element - Specifies the element.\n     */\n    function ListBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isValidKey = false;\n        _this.isDataSourceUpdate = false;\n        _this.keyDownStatus = false;\n        return _this;\n    }\n    ListBox_1 = ListBox;\n    /**\n     * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}.\n     * @private\n     */\n    ListBox.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n        if (this.allowFiltering && this.filterInput.value !== '') {\n            this.filteringAction(this.jsonData, new Query(), this.fields);\n        }\n    };\n    /**\n     * Build and render the component.\n     *\n     * @private\n     * @returns {void}\n     */\n    ListBox.prototype.render = function () {\n        if (this.isAngular && this.allowFiltering) {\n            var originalElement = this.element;\n            var clonedElement = originalElement.cloneNode(true);\n            originalElement.parentNode.replaceChild(clonedElement, originalElement);\n            this.element = clonedElement;\n            setValue('ej2_instances', [this], this.element);\n        }\n        this.inputString = '';\n        this.initLoad = true;\n        this.isCustomFiltering = false;\n        this.initialSelectedOptions = this.value;\n        this.inputFormName = this.element.getAttribute('name');\n        _super.prototype.render.call(this);\n        this.setEnabled();\n        this.renderComplete();\n    };\n    ListBox.prototype.initWrapper = function () {\n        var hiddenSelect = this.createElement('select', { className: 'e-hidden-select', attrs: { 'multiple': '' } });\n        hiddenSelect.style.visibility = 'hidden';\n        this.list.classList.add('e-listbox-wrapper');\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.list.querySelector('.e-list-parent').setAttribute('role', 'presentation');\n        var groupHdrs = this.list.querySelectorAll('.e-list-group-item');\n        for (var i = 0; i < groupHdrs.length; i++) {\n            groupHdrs[i].removeAttribute('tabindex');\n            groupHdrs[i].setAttribute('role', 'option');\n        }\n        if (this.itemTemplate) {\n            this.list.classList.add('e-list-template');\n        }\n        this.list.classList.add('e-wrapper');\n        this.list.classList.add('e-lib');\n        if (this.element.tagName === 'EJS-LISTBOX') {\n            this.element.setAttribute('tabindex', '0');\n            if (this.initLoad) {\n                this.element.appendChild(this.list);\n            }\n        }\n        else {\n            if (this.initLoad && this.element.parentElement) {\n                this.element.parentElement.insertBefore(this.list, this.element);\n            }\n            this.list.insertBefore(this.element, this.list.firstChild);\n            this.element.style.display = 'none';\n        }\n        this.list.insertBefore(hiddenSelect, this.list.firstChild);\n        if (this.list.getElementsByClassName('e-list-item')[0]) {\n            this.list.getElementsByClassName('e-list-item')[0].classList.remove(dropDownBaseClasses.focus);\n        }\n        if (this.itemTemplate) {\n            this.renderReactTemplates();\n        }\n        removeClass([this.list], [dropDownBaseClasses.content, dropDownBaseClasses.root]);\n        this.validationAttribute(this.element, hiddenSelect);\n        this.list.setAttribute('role', 'listbox');\n        attributes(this.list, { 'role': 'listbox', 'aria-label': 'listbox', 'aria-multiselectable': this.selectionSettings.mode === 'Multiple' ? 'true' : 'false' });\n        this.updateSelectionSettings();\n    };\n    ListBox.prototype.updateSelectionSettings = function () {\n        if (this.selectionSettings.showCheckbox && this.selectionSettings.showSelectAll && this.liCollections.length) {\n            var l10nSelect = new L10n(this.getModuleName(), { selectAllText: 'Select All', unSelectAllText: 'Unselect All' }, this.locale);\n            this.showSelectAll = true;\n            this.selectAllText = l10nSelect.getConstant('selectAllText');\n            this.unSelectAllText = l10nSelect.getConstant('unSelectAllText');\n            this.popupWrapper = this.list;\n            this.checkBoxSelectionModule.checkAllParent = null;\n            this.notify('selectAll', {});\n        }\n    };\n    ListBox.prototype.initDraggable = function () {\n        var _this = this;\n        if (this.ulElement) {\n            this.ulElement.id = this.element.id + '_parent';\n        }\n        if (this.allowDragAndDrop) {\n            new Sortable(this.ulElement, {\n                scope: this.scope,\n                itemClass: 'e-list-item',\n                dragStart: this.triggerDragStart.bind(this),\n                drag: this.triggerDrag.bind(this),\n                beforeDrop: this.beforeDragEnd.bind(this),\n                drop: this.dragEnd.bind(this),\n                placeHolder: function () { return _this.createElement('span', { className: 'e-placeholder' }); },\n                helper: function (e) {\n                    var wrapper = _this.list.cloneNode();\n                    var ele = e.sender.cloneNode(true);\n                    wrapper.appendChild(ele);\n                    var refEle = _this.getItems()[0];\n                    wrapper.style.width = refEle.offsetWidth + 'px';\n                    wrapper.style.height = refEle.offsetHeight + 'px';\n                    if ((_this.value && _this.value.length) > 1 && _this.isSelected(ele)) {\n                        ele.appendChild(_this.createElement('span', {\n                            className: 'e-list-badge', innerHTML: _this.value.length + ''\n                        }));\n                    }\n                    wrapper.style.zIndex = getZindexPartial(_this.element) + '';\n                    return wrapper;\n                }\n            });\n        }\n    };\n    ListBox.prototype.updateActionCompleteData = function (li, item, index) {\n        this.jsonData.splice(index === null ? this.jsonData.length : index, 0, item);\n    };\n    ListBox.prototype.initToolbar = function () {\n        var pos = this.toolbarSettings.position;\n        var prevScope = this.element.getAttribute('data-value');\n        this.toolbarSettings.items = isNullOrUndefined(this.toolbarSettings.items) ? [] : this.toolbarSettings.items;\n        if (this.toolbarSettings.items.length) {\n            var toolElem = this.createElement('div', { className: 'e-listbox-tool', attrs: { 'role': 'toolbar' } });\n            var wrapper = this.createElement('div', {\n                className: 'e-listboxtool-wrapper e-lib e-' + pos.toLowerCase()\n            });\n            this.list.parentElement.insertBefore(wrapper, this.list);\n            wrapper.appendChild(pos === 'Right' ? this.list : toolElem);\n            wrapper.appendChild(pos === 'Right' ? toolElem : this.list);\n            this.createButtons(toolElem);\n            if (!this.element.id) {\n                this.element.id = getUniqueID('e-' + this.getModuleName());\n            }\n            if (this.scope) {\n                document.querySelector(this.scope).setAttribute('data-value', this.element.id);\n            }\n            else {\n                this.updateToolBarState();\n            }\n        }\n        var scope = this.element.getAttribute('data-value');\n        if (prevScope && scope && (prevScope !== scope)) {\n            this.tBListBox = getComponent(document.getElementById(prevScope), this.getModuleName());\n            this.tBListBox.updateToolBarState();\n        }\n        else if (scope) {\n            this.tBListBox = getComponent(document.getElementById(scope), this.getModuleName());\n            this.tBListBox.updateToolBarState();\n        }\n    };\n    ListBox.prototype.createButtons = function (toolElem) {\n        var _this = this;\n        var btn;\n        var ele;\n        var title;\n        var l10n = new L10n(this.getModuleName(), {\n            moveUp: 'Move Up', moveDown: 'Move Down', moveTo: 'Move To',\n            moveFrom: 'Move From', moveAllTo: 'Move All To', moveAllFrom: 'Move All From'\n        }, this.locale);\n        this.toolbarSettings.items.forEach(function (value) {\n            title = l10n.getConstant(value);\n            ele = _this.createElement('button', {\n                attrs: {\n                    'type': 'button',\n                    'data-value': value,\n                    'title': title,\n                    'aria-label': title\n                }\n            });\n            toolElem.appendChild(ele);\n            btn = new Button({ iconCss: 'e-icons e-' + value.toLowerCase() }, ele);\n            btn.createElement = _this.createElement;\n        });\n    };\n    ListBox.prototype.validationAttribute = function (input, hiddenSelect) {\n        if (this.inputFormName) {\n            input.setAttribute('name', this.inputFormName);\n        }\n        _super.prototype.validationAttribute.call(this, input, hiddenSelect);\n        hiddenSelect.required = input.required;\n        input.required = false;\n    };\n    ListBox.prototype.setHeight = function () {\n        var ele = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        ele.style.height = formatUnit(this.height);\n        if (this.allowFiltering && this.height.toString().indexOf('%') < 0) {\n            addClass([this.list], 'e-filter-list');\n        }\n        else {\n            removeClass([this.list], 'e-filter-list');\n        }\n    };\n    ListBox.prototype.setCssClass = function () {\n        var wrap = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        if (this.cssClass) {\n            addClass([wrap], this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n        }\n        if (this.enableRtl) {\n            addClass([this.list], 'e-rtl');\n        }\n    };\n    ListBox.prototype.setEnable = function () {\n        var ele = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        if (this.enabled) {\n            removeClass([ele], cssClass.disabled);\n        }\n        else {\n            addClass([ele], cssClass.disabled);\n        }\n    };\n    ListBox.prototype.showSpinner = function () {\n        if (!this.spinner) {\n            this.spinner = this.createElement('div', { className: 'e-listbox-wrapper' });\n        }\n        this.spinner.style.height = formatUnit(this.height);\n        if (this.element.parentElement) {\n            this.element.parentElement.insertBefore(this.spinner, this.element.nextSibling);\n        }\n        createSpinner({ target: this.spinner }, this.createElement);\n        showSpinner(this.spinner);\n    };\n    ListBox.prototype.hideSpinner = function () {\n        if (this.spinner.querySelector('.e-spinner-pane')) {\n            hideSpinner(this.spinner);\n        }\n        if (this.spinner.parentElement) {\n            detach(this.spinner);\n        }\n    };\n    ListBox.prototype.onInput = function () {\n        this.isDataSourceUpdate = false;\n        if (this.keyDownStatus) {\n            this.isValidKey = true;\n        }\n        else {\n            this.isValidKey = false;\n        }\n        this.keyDownStatus = false;\n        this.refreshClearIcon();\n    };\n    ListBox.prototype.clearText = function () {\n        this.filterInput.value = '';\n        this.refreshClearIcon();\n        var event = document.createEvent('KeyboardEvent');\n        this.isValidKey = true;\n        this.KeyUp(event);\n    };\n    ListBox.prototype.refreshClearIcon = function () {\n        if (this.filterInput.parentElement.querySelector('.' + listBoxClasses.clearIcon)) {\n            var clearElement = this.filterInput.parentElement.querySelector('.' + listBoxClasses.clearIcon);\n            clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n        }\n    };\n    ListBox.prototype.onActionComplete = function (ulElement, list, e) {\n        var searchEle;\n        var filterElem;\n        var txtLength;\n        if (this.allowFiltering && this.list.getElementsByClassName('e-filter-parent')[0]) {\n            searchEle = this.list.getElementsByClassName('e-filter-parent')[0].cloneNode(true);\n        }\n        if (list.length === 0) {\n            var noRecElem = ulElement.childNodes[0];\n            if (noRecElem) {\n                ulElement.removeChild(noRecElem);\n            }\n        }\n        if (this.allowFiltering) {\n            filterElem = this.list.getElementsByClassName('e-input-filter')[0];\n            if (filterElem) {\n                txtLength = filterElem.selectionStart;\n            }\n        }\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.allowFiltering && !isNullOrUndefined(searchEle)) {\n            this.list.insertBefore(searchEle, this.list.firstElementChild);\n            this.filterParent = this.list.getElementsByClassName('e-filter-parent')[0];\n            this.filterWireEvents(searchEle);\n            var inputSearch = searchEle.querySelector('.e-input-filter');\n            if (inputSearch) {\n                inputSearch.addEventListener('focus', function () {\n                    if (!searchEle.childNodes[0].classList.contains('e-input-focus')) {\n                        searchEle.childNodes[0].classList.add('e-input-focus');\n                    }\n                });\n                inputSearch.addEventListener('blur', function () {\n                    if (searchEle.childNodes[0].classList.contains('e-input-focus')) {\n                        searchEle.childNodes[0].classList.remove('e-input-focus');\n                    }\n                });\n            }\n        }\n        this.initWrapper();\n        this.setSelection(this.value, true, false, !this.isRendered);\n        this.initDraggable();\n        this.mainList = this.ulElement;\n        if (this.initLoad) {\n            this.jsonData = [];\n            extend(this.jsonData, list, []);\n            this.initToolbarAndStyles();\n            this.wireEvents();\n            if (this.showCheckbox) {\n                this.setCheckboxPosition();\n            }\n            if (this.allowFiltering) {\n                this.setFiltering();\n            }\n        }\n        else {\n            if (this.isDataSourceUpdate) {\n                this.jsonData = [];\n                extend(this.jsonData, list, []);\n                this.isDataSourceUpdate = false;\n            }\n            if (this.allowFiltering) {\n                filterElem = this.list.getElementsByClassName('e-input-filter')[0];\n                if (isNullOrUndefined(filterElem)) {\n                    return;\n                }\n                filterElem.selectionStart = txtLength;\n                filterElem.selectionEnd = txtLength;\n                if (filterElem.value !== '') {\n                    filterElem.focus();\n                }\n            }\n        }\n        if (this.toolbarSettings.items.length && this.scope && this.scope.indexOf('#') > -1 && !isNullOrUndefined(e)) {\n            var scope = this.scope.replace('#', '');\n            var scopedLB = getComponent(document.getElementById(scope), this.getModuleName());\n            scopedLB.initToolbar();\n        }\n        this.initLoad = false;\n    };\n    ListBox.prototype.initToolbarAndStyles = function () {\n        this.initToolbar();\n        this.setCssClass();\n        this.setEnable();\n        this.setHeight();\n    };\n    ListBox.prototype.triggerDragStart = function (args) {\n        var _this = this;\n        var badge;\n        args = extend(this.getDragArgs(args), { dragSelected: true });\n        if (Browser.isIos) {\n            this.list.style.overflow = 'hidden';\n        }\n        this.trigger('dragStart', args, function (dragEventArgs) {\n            _this.allowDragAll = dragEventArgs.dragSelected;\n            if (!_this.allowDragAll) {\n                badge = _this.ulElement.getElementsByClassName('e-list-badge')[0];\n                if (badge) {\n                    detach(badge);\n                }\n            }\n        });\n    };\n    ListBox.prototype.triggerDrag = function (args) {\n        var _this = this;\n        var scrollParent;\n        var boundRect;\n        var scrollMoved = 36;\n        var scrollHeight = 10;\n        if (this.itemTemplate && args.target) {\n            if (args.target && args.target.closest('.e-list-item')) {\n                scrollHeight = args.target.closest('.e-list-item').scrollHeight;\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var listItem = args.element.querySelector('.e-list-item');\n                if (listItem) {\n                    scrollHeight = listItem.scrollHeight;\n                }\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var event = args.event;\n        var wrapper;\n        this.stopTimer();\n        if (args.target && (args.target.classList.contains('e-listbox-wrapper') || args.target.classList.contains('e-list-item')\n            || args.target.classList.contains('e-filter-parent') || args.target.classList.contains('e-input-group')\n            || args.target.closest('.e-list-item'))) {\n            if (args.target.classList.contains('e-list-item') || args.target.classList.contains('e-filter-parent')\n                || args.target.classList.contains('e-input-group')\n                || args.target.closest('.e-list-item')) {\n                wrapper = args.target.closest('.e-listbox-wrapper');\n            }\n            else {\n                wrapper = args.target;\n            }\n            if (this.allowFiltering) {\n                scrollParent = wrapper.querySelector('.e-list-parent');\n            }\n            else {\n                scrollParent = wrapper;\n            }\n            if (scrollParent) {\n                boundRect = scrollParent.getBoundingClientRect();\n                if ((boundRect.y + scrollParent.offsetHeight) - (event.clientY + scrollMoved) < 1) {\n                    this.timer = window.setInterval(function () { _this.setScrollDown(scrollParent, scrollHeight, true); }, 70);\n                }\n                else if ((event.clientY - scrollMoved) - boundRect.y < 1) {\n                    this.timer = window.setInterval(function () { _this.setScrollDown(scrollParent, scrollHeight, false); }, 70);\n                }\n            }\n        }\n        if (args.target === null) {\n            return;\n        }\n        this.trigger('drag', this.getDragArgs(args));\n    };\n    ListBox.prototype.setScrollDown = function (scrollElem, scrollPixel, isScrollDown) {\n        if (isScrollDown) {\n            scrollElem.scrollTop = scrollElem.scrollTop + scrollPixel;\n        }\n        else {\n            scrollElem.scrollTop = scrollElem.scrollTop - scrollPixel;\n        }\n    };\n    ListBox.prototype.stopTimer = function () {\n        window.clearInterval(this.timer);\n    };\n    ListBox.prototype.beforeDragEnd = function (args) {\n        this.stopTimer();\n        var items = [];\n        this.dragValue = this.getFormattedValue(args.droppedElement.getAttribute('data-value'));\n        if (this.value.indexOf(this.dragValue) > -1) {\n            args.items = this.getDataByValues(this.value);\n        }\n        else {\n            args.items = this.getDataByValues([this.dragValue]);\n        }\n        extend(items, args.items);\n        this.trigger('beforeDrop', args);\n        if (JSON.stringify(args.items) !== JSON.stringify(items)) {\n            this.customDraggedItem = args.items;\n        }\n    };\n    ListBox.prototype.dragEnd = function (args) {\n        var _this = this;\n        var listData;\n        var liColl;\n        var jsonData;\n        var droppedData;\n        var selectedOptions;\n        var sortedData;\n        var dropValue = this.getFormattedValue(args.droppedElement.getAttribute('data-value'));\n        var listObj = this.getComponent(args.droppedElement);\n        var getArgs = this.getDragArgs({ target: args.droppedElement }, true);\n        var sourceArgs = { previousData: this.dataSource };\n        var destArgs = { previousData: listObj.dataSource };\n        var dragArgs = extend({}, getArgs, { target: args.target, source: { previousData: this.dataSource },\n            previousIndex: args.previousIndex, currentIndex: args.currentIndex });\n        if (listObj !== this) {\n            var sourceArgs1 = extend(sourceArgs, { currentData: this.listData });\n            dragArgs = extend(dragArgs, { source: sourceArgs1, destination: destArgs });\n        }\n        if (Browser.isIos) {\n            this.list.style.overflow = '';\n        }\n        var targetListObj = this.getComponent(args.target);\n        if (targetListObj && targetListObj.listData.length === 0) {\n            var noRecElem = targetListObj.ulElement.childNodes[0];\n            if (noRecElem) {\n                targetListObj.ulElement.removeChild(noRecElem);\n            }\n        }\n        if (listObj === this) {\n            var ul_1 = this.ulElement;\n            listData = [].slice.call(this.listData);\n            liColl = [].slice.call(this.liCollections);\n            jsonData = [].slice.call(this.jsonData);\n            sortedData = [].slice.call(this.sortedData);\n            var toSortIdx_1 = args.currentIndex;\n            var toIdx_1 = args.currentIndex = this.getCurIdx(this, args.currentIndex);\n            var rIdx = listData.indexOf(this.getDataByValue(dropValue));\n            var jsonIdx = jsonData.indexOf(this.getDataByValue(dropValue));\n            var sIdx = sortedData.indexOf(this.getDataByValue(dropValue));\n            listData.splice(toIdx_1, 0, listData.splice(rIdx, 1)[0]);\n            sortedData.splice(toSortIdx_1, 0, sortedData.splice(sIdx, 1)[0]);\n            jsonData.splice(toIdx_1, 0, jsonData.splice(jsonIdx, 1)[0]);\n            liColl.splice(toIdx_1, 0, liColl.splice(rIdx, 1)[0]);\n            if (this.allowDragAll) {\n                selectedOptions = this.value && Array.prototype.indexOf.call(this.value, dropValue) > -1 ? this.value : [dropValue];\n                if (!isNullOrUndefined(this.customDraggedItem)) {\n                    selectedOptions = [];\n                    this.customDraggedItem.forEach(function (item) {\n                        selectedOptions.push(getValue(_this.fields.value, item));\n                    });\n                }\n                selectedOptions.forEach(function (value) {\n                    if (value !== dropValue) {\n                        var idx = listData.indexOf(_this.getDataByValue(value));\n                        var jsonIdx_1 = jsonData.indexOf(_this.getDataByValue(value));\n                        var sIdx_1 = sortedData.indexOf(_this.getDataByValue(value));\n                        if (idx > toIdx_1) {\n                            toIdx_1++;\n                        }\n                        jsonData.splice(toIdx_1, 0, jsonData.splice(jsonIdx_1, 1)[0]);\n                        listData.splice(toIdx_1, 0, listData.splice(idx, 1)[0]);\n                        sortedData.splice(toSortIdx_1, 0, sortedData.splice(sIdx_1, 1)[0]);\n                        liColl.splice(toIdx_1, 0, liColl.splice(idx, 1)[0]);\n                        ul_1.insertBefore(_this.getItems()[_this.getIndexByValue(value)], ul_1.getElementsByClassName('e-placeholder')[0]);\n                    }\n                });\n            }\n            this.listData = listData;\n            this.jsonData = jsonData;\n            this.sortedData = sortedData;\n            this.liCollections = liColl;\n        }\n        else {\n            var li_1;\n            var fLiColl_1 = [].slice.call(this.liCollections);\n            var currIdx_1 = args.currentIndex = this.getCurIdx(listObj, args.currentIndex);\n            var ul_2 = listObj.ulElement;\n            listData = [].slice.call(listObj.listData);\n            liColl = [].slice.call(listObj.liCollections);\n            jsonData = [].slice.call(listObj.jsonData);\n            sortedData = [].slice.call(listObj.sortedData);\n            selectedOptions = (this.value && Array.prototype.indexOf.call(this.value, dropValue) > -1 && this.allowDragAll)\n                ? this.value : [dropValue];\n            if (!isNullOrUndefined(this.customDraggedItem)) {\n                selectedOptions = [];\n                this.customDraggedItem.forEach(function (item) {\n                    selectedOptions.push(getValue(_this.fields.value, item));\n                });\n            }\n            var fListData_1 = [].slice.call(this.listData);\n            var fSortData_1 = [].slice.call(this.sortedData);\n            selectedOptions.forEach(function (value) {\n                droppedData = _this.getDataByValue(value);\n                var srcIdx = _this.listData.indexOf(droppedData);\n                var jsonSrcIdx = _this.jsonData.indexOf(droppedData);\n                var sortIdx = _this.sortedData.indexOf(droppedData);\n                fListData_1.splice(srcIdx, 1);\n                _this.jsonData.splice(jsonSrcIdx, 1);\n                fSortData_1.splice(sortIdx, 1);\n                _this.listData = fListData_1;\n                _this.sortedData = fSortData_1;\n                var destIdx = value === dropValue ? args.currentIndex : currIdx_1;\n                listData.splice(destIdx, 0, droppedData);\n                jsonData.splice(destIdx, 0, droppedData);\n                sortedData.splice(destIdx, 0, droppedData);\n                liColl.splice(destIdx, 0, fLiColl_1.splice(srcIdx, 1)[0]);\n                if (!value) {\n                    var liCollElem_1 = _this.getItems();\n                    for (var i = 0; i < liCollElem_1.length; i++) {\n                        if (liCollElem_1[i].getAttribute('data-value') === null && liCollElem_1[i].classList.contains('e-list-item')) {\n                            li_1 = liCollElem_1[i];\n                            break;\n                        }\n                    }\n                }\n                else {\n                    li_1 = _this.getItems()[_this.getIndexByValue(value)];\n                }\n                if (!li_1) {\n                    li_1 = args.helper;\n                }\n                _this.removeSelected(_this, value === dropValue ? [args.droppedElement] : [li_1]);\n                ul_2.insertBefore(li_1, ul_2.getElementsByClassName('e-placeholder')[0]);\n                currIdx_1++;\n            });\n            if (this.fields.groupBy) {\n                var sourceElem = this.renderItems(this.listData, this.fields);\n                this.updateListItems(sourceElem, this.ulElement);\n                this.setSelection();\n            }\n            if (listObj.sortOrder !== 'None' || this.selectionSettings.showCheckbox\n                !== listObj.selectionSettings.showCheckbox || listObj.fields.groupBy || listObj.itemTemplate || this.itemTemplate) {\n                var sortable = getComponent(ul_2, 'sortable');\n                var sourceElem = listObj.renderItems(listData, listObj.fields);\n                listObj.updateListItems(sourceElem, ul_2);\n                this.setSelection();\n                if (sortable.placeHolderElement) {\n                    ul_2.appendChild(sortable.placeHolderElement);\n                }\n                ul_2.appendChild(args.helper);\n                listObj.setSelection();\n            }\n            this.liCollections = fLiColl_1;\n            listObj.liCollections = liColl;\n            listObj.jsonData = extend([], [], jsonData, false);\n            listObj.listData = extend([], [], listData, false);\n            listObj.sortedData = extend([], [], sortedData, false);\n            if (this.listData.length === 0) {\n                this.l10nUpdate();\n            }\n        }\n        if (this === listObj) {\n            var sourceArgs1 = extend(sourceArgs, { currentData: listData });\n            dragArgs = extend(dragArgs, { source: sourceArgs1 });\n        }\n        else {\n            var dragArgs1 = extend(destArgs, { currentData: listData });\n            dragArgs = extend(dragArgs, { destination: dragArgs1 });\n        }\n        if (!isNullOrUndefined(this.customDraggedItem)) {\n            dragArgs.items = this.customDraggedItem;\n        }\n        this.trigger('drop', dragArgs);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var liCollElem = dragArgs.elements;\n        if (liCollElem.length) {\n            for (var i = 0; i < liCollElem.length; i++) {\n                liCollElem[i].classList.remove('e-grabbed');\n            }\n        }\n        if (this.toolbarSettings.items.length > 0) {\n            this.updateToolBarState();\n        }\n        else if (this.tBListBox && this.tBListBox.toolbarSettings.items.length > 0) {\n            this.tBListBox.updateToolBarState();\n        }\n    };\n    ListBox.prototype.updateListItems = function (sourceElem, destElem) {\n        destElem.innerHTML = '';\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        destElem.append.apply(destElem, sourceElem.childNodes);\n    };\n    ListBox.prototype.removeSelected = function (listObj, elems) {\n        if (listObj.selectionSettings.showCheckbox) {\n            elems.forEach(function (ele) { ele.getElementsByClassName('e-frame')[0].classList.remove('e-check'); });\n        }\n        else {\n            removeClass(elems, cssClass.selected);\n        }\n    };\n    ListBox.prototype.getCurIdx = function (listObj, idx) {\n        if (listObj.fields.groupBy) {\n            idx -= [].slice.call(listObj.ulElement.children).slice(0, idx)\n                .filter(function (ele) { return ele.classList.contains(cssClass.group); }).length;\n        }\n        return idx;\n    };\n    ListBox.prototype.getComponent = function (li) {\n        var listObj;\n        var ele = (this.element.tagName === 'EJS-LISTBOX' ? closest(li, '.e-listbox')\n            : closest(li, '.e-listbox-wrapper') && closest(li, '.e-listbox-wrapper').querySelector('.e-listbox'));\n        if (ele) {\n            listObj = getComponent(ele, this.getModuleName());\n        }\n        return listObj;\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @returns {void}\n     */\n    ListBox.prototype.setEnabled = function () {\n        this.element.setAttribute('aria-disabled', (this.enabled) ? 'false' : 'true');\n    };\n    ListBox.prototype.listOption = function (dataSource, fields) {\n        this.listCurrentOptions = _super.prototype.listOption.call(this, dataSource, fields);\n        this.listCurrentOptions = extend({}, this.listCurrentOptions, { itemCreated: this.triggerBeforeItemRender.bind(this) }, true);\n        this.notify('listoption', { module: 'CheckBoxSelection' });\n        return this.listCurrentOptions;\n    };\n    ListBox.prototype.triggerBeforeItemRender = function (e) {\n        e.item.setAttribute('tabindex', '-1');\n        this.trigger('beforeItemRender', { element: e.item, item: e.curData });\n    };\n    ListBox.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.selectionSettings.showCheckbox) {\n            modules.push({\n                member: 'CheckBoxSelection',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * This method is used to enable or disable the items in the ListBox based on the items and enable argument.\n     *\n     * @param {string[]} items - Text items that needs to be enabled/disabled.\n     * @param {boolean} enable - Set `true`/`false` to enable/disable the list items.\n     * @param {boolean} isValue - Set `true` if `items` parameter is a array of unique values.\n     * @returns {void}\n     */\n    ListBox.prototype.enableItems = function (items, enable, isValue) {\n        var _this = this;\n        if (enable === void 0) { enable = true; }\n        var li;\n        items.forEach(function (item) {\n            var text = item;\n            li = _this.findListElement(_this.list, 'li', 'data-value', isValue ? text : _this.getValueByText(text));\n            if (!li) {\n                return;\n            }\n            if (enable) {\n                removeClass([li], cssClass.disabled);\n                li.removeAttribute('aria-disabled');\n            }\n            else {\n                addClass([li], cssClass.disabled);\n                li.setAttribute('aria-disabled', 'true');\n            }\n        });\n        if (this.allowFiltering && this.filterInput && this.filterInput.value !== '' && this.toolbarSettings.items.length > 0) {\n            var canDisable_1 = false;\n            this.ulElement.childNodes.forEach(function (li) { if (!li.classList.contains('e-disabled')) {\n                canDisable_1 = true;\n            } });\n            if (!canDisable_1) {\n                var wrap = this.list.parentElement.getElementsByClassName('e-listbox-tool')[0];\n                var btn = wrap.querySelector('[data-value=\"moveAllTo\"]');\n                btn.disabled = true;\n            }\n        }\n    };\n    /**\n     * Based on the state parameter, specified list item will be selected/deselected.\n     *\n     * @param {string[]} items - Array of text value of the item.\n     * @param {boolean} state - Set `true`/`false` to select/un select the list items.\n     * @param {boolean} isValue - Set `true` if `items` parameter is a array of unique values.\n     * @returns {void}\n     */\n    ListBox.prototype.selectItems = function (items, state, isValue) {\n        if (state === void 0) { state = true; }\n        if (state && !this.selectionSettings.showCheckbox && this.selectionSettings.mode === 'Single') {\n            this.getSelectedItems().forEach(function (li) {\n                li.classList.remove('e-active');\n                li.removeAttribute('aria-selected');\n                removeClass([li], cssClass.selected);\n            });\n        }\n        this.setSelection(items, state, !isValue);\n        this.updateSelectedOptions();\n        var selElems = [];\n        for (var i = 0; i < items.length; i++) {\n            var liColl = this.list.querySelectorAll('[aria-selected=\"true\"]');\n            for (var j = 0; j < liColl.length; j++) {\n                if (items[i] === this.getFormattedValue(liColl[j].getAttribute('data-value'))) {\n                    selElems.push(liColl[j]);\n                }\n            }\n        }\n        this.triggerChange(selElems, null);\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected/deselected.\n     *\n     * @param {boolean} state - Set `true`/`false` to select/un select the entire list items.\n     * @returns {void}\n     */\n    ListBox.prototype.selectAll = function (state) {\n        if (state === void 0) { state = true; }\n        this.selectAllItems(state);\n    };\n    /**\n     * Adds a new item to the list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the list.\n     * @returns {void}.\n     */\n    ListBox.prototype.addItems = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n        if (this.allowFiltering && this.filterInput.value !== '') {\n            this.filteringAction(this.jsonData, new Query(), this.fields);\n        }\n    };\n    /**\n     * Removes a item from the list. By default, removed the last item in the list,\n     * but you can remove based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to remove the item from the list.\n     * @returns {void}.\n     */\n    ListBox.prototype.removeItems = function (items, itemIndex) {\n        this.removeItem(items, itemIndex);\n    };\n    /**\n     * Removes a item from the list. By default, removed the last item in the list,\n     * but you can remove based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to remove the item from the list.\n     * @returns {void}.\n     */\n    ListBox.prototype.removeItem = function (items, itemIndex) {\n        var _this = this;\n        var liCollections = [];\n        var liElement = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        if (items) {\n            items = (items instanceof Array ? items : [items]);\n            var fields = this.fields;\n            var dataValue = void 0;\n            var objValue = {};\n            var dupData = [];\n            extend(dupData, [], this.jsonData);\n            var removeIdxes = [];\n            var removeLiIdxes = [];\n            for (var i = 0; i < dupData.length; i++) {\n                var value = (dupData[i] instanceof Object) ? dupData[i][fields.value] :\n                    dupData[i].toString();\n                objValue[value] = i;\n            }\n            for (var j = 0; j < items.length; j++) {\n                dataValue = (items[j] instanceof Object) ? items[j][fields.value] :\n                    items[j].toString();\n                if (Object.prototype.hasOwnProperty.call(objValue, dataValue)) {\n                    var idx = objValue[dataValue];\n                    liCollections.push(liElement[idx]);\n                    removeIdxes.push(idx);\n                    removeLiIdxes.push(idx);\n                }\n            }\n            var validRemoveIdxes = removeIdxes.sort(function (a, b) { return b - a; });\n            validRemoveIdxes.forEach(function (idx) {\n                _this.listData.splice(idx, 1);\n                _this.jsonData.splice(idx, 1);\n            });\n            for (var k = removeLiIdxes.length - 1; k >= 0; k--) {\n                this.updateLiCollection(removeLiIdxes[k]);\n            }\n        }\n        else {\n            itemIndex = itemIndex ? itemIndex : 0;\n            liCollections.push(liElement[itemIndex]);\n            this.listData.splice(itemIndex, 1);\n            this.jsonData.splice(itemIndex, 1);\n            this.updateLiCollection(itemIndex);\n        }\n        for (var i = 0; i < liCollections.length; i++) {\n            this.ulElement.removeChild(liCollections[i]);\n        }\n        if (this.listData.length === 0) {\n            this.l10nUpdate();\n        }\n        if (this.listData.length !== this.sortedData.length) {\n            this.sortedData = this.listData;\n        }\n        this.value = [];\n        this.updateToolBarState();\n    };\n    /**\n     * Gets the array of data Object that matches the given array of values.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the array value of the list item.\n     * @returns {object[]}.\n     */\n    ListBox.prototype.getDataByValues = function (value) {\n        var data = [];\n        for (var i = 0; i < value.length; i++) {\n            data.push(this.getDataByValue(value[i]));\n        }\n        return data;\n    };\n    /**\n     * Moves the given value(s) / selected value(s) upwards.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveUp = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(true, false, elem);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) downwards.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveDown = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(false, false, elem);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) in Top of the list.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveTop = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(null, false, elem, true);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) in bottom of the list.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveBottom = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(true, false, elem, false, true);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) to the given / default scoped ListBox.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value or array value of the list item.\n     * @param {number} index - Specifies the index.\n     * @param {string} targetId - Specifies the target id.\n     * @returns {void}\n     */\n    ListBox.prototype.moveTo = function (value, index, targetId) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        var tlistbox = (targetId) ? getComponent(targetId, ListBox_1) : this.getScopedListBox();\n        this.moveData(this, tlistbox, false, elem, index);\n    };\n    /**\n     * Moves all the values from one ListBox to the scoped ListBox.\n     *\n     * @param  { string } targetId - Specifies the scoped ListBox ID.\n     * @param  { string } index - Specifies the index to where the items moved.\n     * @returns {void}\n     */\n    ListBox.prototype.moveAllTo = function (targetId, index) {\n        this.toolbarAction = 'moveAllTo';\n        if (this.listData.length > 0) {\n            var tlistbox = (targetId) ? getComponent(targetId, ListBox_1) : this.getScopedListBox();\n            this.moveAllData(this, tlistbox, false, index);\n        }\n    };\n    /* eslint-disable */\n    /**\n     * Gets the updated dataSource in ListBox.\n     *\n     * @returns {{ [key: string]: Object }[] | string[] | boolean[] | number[]} - Updated DataSource.\n     */\n    /* eslint-enable */\n    ListBox.prototype.getDataList = function () {\n        return this.jsonData;\n    };\n    /* eslint-disable */\n    /**\n     * Returns the sorted Data in ListBox.\n     *\n     * @returns {{ [key: string]: Object }[] | string[] | boolean[] | number[]} - Sorted data\n     */\n    /* eslint-enable */\n    ListBox.prototype.getSortedList = function () {\n        var sortData;\n        var tempData;\n        sortData = tempData = this.sortedData;\n        if (this.fields.groupBy) {\n            sortData = [];\n            for (var i = 0; i < tempData.length; i++) {\n                if (tempData[i].isHeader) {\n                    continue;\n                }\n                sortData.push(tempData[i]);\n            }\n        }\n        return sortData;\n    };\n    ListBox.prototype.getElemByValue = function (value) {\n        var elem = [];\n        for (var i = 0; i < value.length; i++) {\n            elem.push(this.ulElement.querySelector('[data-value =\"' + value[i] + '\"]'));\n        }\n        return elem;\n    };\n    ListBox.prototype.updateLiCollection = function (index) {\n        var tempLi = [].slice.call(this.liCollections);\n        tempLi.splice(index, 1);\n        this.liCollections = tempLi;\n    };\n    ListBox.prototype.selectAllItems = function (state, event) {\n        var _this = this;\n        [].slice.call(this.getItems()).forEach(function (li) {\n            if (!li.classList.contains(cssClass.disabled)) {\n                if (_this.selectionSettings.showCheckbox) {\n                    var ele = li.getElementsByClassName('e-check')[0];\n                    if ((!ele && state) || (ele && !state)) {\n                        _this.notify('updatelist', { li: li, module: 'listbox' });\n                        if (_this.maximumSelectionLength >= _this.list.querySelectorAll('.e-list-item span.e-check').length) {\n                            _this.checkMaxSelection();\n                        }\n                    }\n                }\n                else {\n                    if (state) {\n                        li.classList.add(cssClass.selected);\n                    }\n                    else {\n                        li.classList.remove(cssClass.selected);\n                    }\n                }\n            }\n        });\n        this.updateSelectedOptions();\n        if (this.allowFiltering && this.selectionSettings.showCheckbox) {\n            var liEle = this.list.getElementsByTagName('li');\n            var index = 0;\n            if (state) {\n                var _loop_1 = function () {\n                    var dataValue1 = this_1.getFormattedValue(liEle[index].getAttribute('data-value'));\n                    if (!this_1.value.some(function (e) { return e === dataValue1; })) {\n                        this_1.value.push(this_1.getFormattedValue(liEle[index].getAttribute('data-value')));\n                    }\n                };\n                var this_1 = this;\n                for (index = 0; index < liEle.length; index++) {\n                    _loop_1();\n                }\n            }\n            else {\n                var _loop_2 = function () {\n                    var dataValue2 = this_2.getFormattedValue(liEle[index].getAttribute('data-value'));\n                    this_2.value = this_2.value.filter(function (e) { return e !== dataValue2; });\n                };\n                var this_2 = this;\n                for (index = 0; index < liEle.length; index++) {\n                    _loop_2();\n                }\n            }\n            if (document.querySelectorAll('ul').length < 2) {\n                this.updateMainList();\n            }\n        }\n        this.triggerChange(this.getSelectedItems(), event);\n    };\n    ListBox.prototype.updateMainList = function () {\n        var mainList = this.mainList.querySelectorAll('.e-list-item');\n        var ulList = this.ulElement.querySelectorAll('.e-list-item');\n        var mainCount = mainList.length;\n        var ulEleCount = ulList.length;\n        if (this.selectionSettings.showCheckbox || (document.querySelectorAll('ul').length > 1 || mainCount !== ulEleCount)) {\n            var listindex = 0;\n            var valueindex = 0;\n            var count = 0;\n            for (listindex; listindex < mainCount;) {\n                if (this.value) {\n                    for (valueindex; valueindex < this.value.length; valueindex++) {\n                        if (mainList[listindex].getAttribute('data-value') === this.value[valueindex]) {\n                            count++;\n                        }\n                    }\n                }\n                if (!count && this.selectionSettings.showCheckbox) {\n                    mainList[listindex].getElementsByClassName('e-frame')[0].classList.remove('e-check');\n                }\n                if (document.querySelectorAll('ul').length > 1 && count && mainCount !== ulEleCount) {\n                    this.mainList.removeChild(this.mainList.getElementsByTagName('li')[listindex]);\n                    listindex = 0;\n                }\n                else {\n                    listindex++;\n                }\n                count = 0;\n                valueindex = 0;\n            }\n        }\n    };\n    ListBox.prototype.wireEvents = function () {\n        var form = closest(this.element, 'form');\n        var wrapper = this.element.tagName === 'EJS-LISTBOX' ? this.element : this.list;\n        EventHandler.add(this.list, 'click', this.clickHandler, this);\n        EventHandler.add(wrapper, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(wrapper, 'focusout', this.focusOutHandler, this);\n        this.wireToolbarEvent();\n        if (this.selectionSettings.showCheckbox) {\n            EventHandler.remove(document, 'mousedown', this.checkBoxSelectionModule.onDocumentClick);\n        }\n        if (this.fields.groupBy || this.element.querySelector('select>optgroup')) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n        }\n        if (form) {\n            EventHandler.add(form, 'reset', this.formResetHandler, this);\n        }\n        window.addEventListener('resize', this.resizeHandler.bind(this));\n    };\n    ListBox.prototype.wireToolbarEvent = function () {\n        if (this.toolbarSettings.items.length) {\n            EventHandler.add(this.getToolElem(), 'click', this.toolbarClickHandler, this);\n        }\n    };\n    ListBox.prototype.unwireEvents = function () {\n        var form = closest(this.element, 'form');\n        var wrapper = this.element.tagName === 'EJS-LISTBOX' ? this.element : this.list;\n        EventHandler.remove(this.list, 'click', this.clickHandler);\n        EventHandler.remove(wrapper, 'keydown', this.keyDownHandler);\n        EventHandler.remove(wrapper, 'focusout', this.focusOutHandler);\n        if (this.allowFiltering && this.clearFilterIconElem) {\n            EventHandler.remove(this.clearFilterIconElem, 'click', this.clearText);\n        }\n        if (this.toolbarSettings.items.length) {\n            EventHandler.remove(this.getToolElem(), 'click', this.toolbarClickHandler);\n        }\n        if (form) {\n            EventHandler.remove(form, 'reset', this.formResetHandler);\n        }\n        window.removeEventListener('resize', this.resizeHandler.bind(this));\n    };\n    ListBox.prototype.clickHandler = function (e) {\n        var li = closest(e.target, '.' + 'e-list-item');\n        if (isNullOrUndefined(li)) {\n            return;\n        }\n        this.selectHandler(e);\n    };\n    ListBox.prototype.checkSelectAll = function () {\n        var searchCount = 0;\n        var liItems = this.list.querySelectorAll('li.' + dropDownBaseClasses.li);\n        for (var i = 0; i < liItems.length; i++) {\n            if (!liItems[i].classList.contains('e-disabled')) {\n                searchCount++;\n            }\n        }\n        var len = this.getSelectedItems().length;\n        if (this.showSelectAll && searchCount) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection',\n                value: (searchCount === len) ? 'check' : (len === 0) ? 'uncheck' : 'indeterminate' });\n        }\n    };\n    ListBox.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        if (this.allowFiltering) {\n            var filterType = this.inputString === '' ? 'contains' : this.filterType;\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (dataType === null) {\n                dataType = this.typeOfData(this.jsonData).typeof;\n            }\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, this.inputString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var fields = (this.fields.text) ? this.fields.text : '';\n                filterQuery.where(fields, filterType, this.inputString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        else {\n            filterQuery = query ? query : this.query ? this.query : new Query();\n        }\n        return filterQuery;\n    };\n    ListBox.prototype.setFiltering = function () {\n        var filterInputObj;\n        if (this.initLoad || isNullOrUndefined(this.filterParent)) {\n            this.filterParent = this.createElement('span', {\n                className: listBoxClasses.filterParent\n            });\n            this.filterInput = this.createElement('input', {\n                attrs: { type: 'text' },\n                className: listBoxClasses.filterInput\n            });\n            this.element.parentNode.insertBefore(this.filterInput, this.element);\n            filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: [listBoxClasses.filterBarClearIcon],\n                properties: { placeholder: this.filterBarPlaceholder }\n            }, this.createElement);\n            append([filterInputObj.container], this.filterParent);\n            prepend([this.filterParent], this.list);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'aria-label': 'search list item',\n                'autocomplete': 'off',\n                'autocorrect': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false',\n                'role': 'textbox'\n            });\n            if (this.height.toString().indexOf('%') < 0) {\n                addClass([this.list], 'e-filter-list');\n            }\n            else if (this.height.toString().indexOf('%') > 0) {\n                this.ulElement.style.height = (this.ulElement.offsetHeight - this.filterParent.offsetHeight) + 'px';\n            }\n            this.inputString = this.filterInput.value;\n            this.filterWireEvents();\n            this.ulElement.style.setProperty('height', 'calc(100% - ' + (this.filterParent.offsetHeight) + 'px)', 'important');\n            return filterInputObj;\n        }\n    };\n    ListBox.prototype.filterWireEvents = function (filterElem) {\n        if (filterElem) {\n            this.filterInput = filterElem.querySelector('.e-input-filter');\n        }\n        this.clearFilterIconElem = this.filterInput.parentElement.querySelector('.' + listBoxClasses.clearIcon);\n        if (this.clearFilterIconElem) {\n            EventHandler.add(this.clearFilterIconElem, 'click', this.clearText, this);\n            if (!filterElem) {\n                this.clearFilterIconElem.style.visibility = 'hidden';\n            }\n        }\n        EventHandler.add(this.filterInput, 'input', this.onInput, this);\n        EventHandler.add(this.filterInput, 'keyup', this.KeyUp, this);\n        EventHandler.add(this.filterInput, 'keydown', this.onKeyDown, this);\n    };\n    ListBox.prototype.selectHandler = function (e, isKey) {\n        var isSelect = true;\n        var currSelIdx;\n        var li = closest(e.target, '.' + 'e-list-item');\n        var selectedLi = [li];\n        if (li && li.parentElement) {\n            currSelIdx = [].slice.call(li.parentElement.children).indexOf(li);\n            if (!this.selectionSettings.showCheckbox) {\n                if ((e.ctrlKey || e.metaKey || Browser.isDevice) && this.isSelected(li)) {\n                    li.classList.remove(cssClass.selected);\n                    li.removeAttribute('aria-selected');\n                    isSelect = false;\n                }\n                else if (!(this.selectionSettings.mode === 'Multiple' && (e.ctrlKey || e.metaKey || Browser.isDevice))) {\n                    this.getSelectedItems().forEach(function (ele) {\n                        ele.removeAttribute('aria-selected');\n                    });\n                    removeClass(this.getSelectedItems(), cssClass.selected);\n                }\n            }\n            else {\n                isSelect = !li.getElementsByClassName('e-frame')[0].classList.contains('e-check');\n            }\n            if (e.shiftKey && !this.selectionSettings.showCheckbox && this.selectionSettings.mode !== 'Single') {\n                selectedLi = [].slice.call(li.parentElement.children)\n                    .slice(Math.min(currSelIdx, this.prevSelIdx), Math.max(currSelIdx, this.prevSelIdx) + 1)\n                    .filter(function (ele) { return ele.classList.contains('e-list-item'); });\n            }\n            else {\n                this.prevSelIdx = [].slice.call(li.parentElement.children).indexOf(li);\n            }\n            if (isSelect) {\n                if (!this.selectionSettings.showCheckbox) {\n                    addClass(selectedLi, cssClass.selected);\n                }\n                selectedLi.forEach(function (ele) {\n                    ele.setAttribute('aria-selected', 'true');\n                });\n                this.list.setAttribute('aria-activedescendant', li.id);\n            }\n            else {\n                selectedLi.forEach(function (ele) {\n                    ele.setAttribute('aria-selected', 'false');\n                });\n            }\n            if (!isKey && (this.maximumSelectionLength > (this.value && this.value.length) || !isSelect) &&\n                (this.maximumSelectionLength >= (this.value && this.value.length) || !isSelect) &&\n                !(this.maximumSelectionLength < (this.value && this.value.length))) {\n                this.notify('updatelist', { li: li, e: e, module: 'listbox' });\n            }\n            if (this.allowFiltering && !isKey) {\n                var liDataValue_1 = this.getFormattedValue(li.getAttribute('data-value'));\n                if (!isSelect) {\n                    this.value = this.value.filter(function (value1) {\n                        return value1 !== liDataValue_1;\n                    });\n                }\n                else {\n                    var values = [];\n                    extend(values, this.value);\n                    values.push(liDataValue_1);\n                    this.value = values;\n                }\n                if (document.querySelectorAll('ul').length < 2) {\n                    this.updateMainList();\n                }\n            }\n            this.updateSelectedOptions();\n            this.triggerChange(this.getSelectedItems(), e);\n            if (this.list) {\n                this.checkMaxSelection();\n            }\n        }\n    };\n    ListBox.prototype.triggerChange = function (selectedLis, event) {\n        this.trigger('change', { elements: selectedLis, items: this.getDataByElements(selectedLis), value: this.value, event: event });\n    };\n    ListBox.prototype.getDataByElems = function (elems) {\n        var data = [];\n        var len = elems.length;\n        for (var i = 0; i < len; i++) {\n            var elem = elems[i];\n            var value = elem.getAttribute('data-value');\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var formattedValue = this.getFormattedValue(value);\n            data.push(this.getDataByValue(formattedValue));\n        }\n        return data;\n    };\n    ListBox.prototype.getDataByElements = function (elems) {\n        var data = [];\n        var value;\n        var sIdx = 0;\n        if (!isNullOrUndefined(this.listData)) {\n            var type = this.typeOfData(this.listData).typeof;\n            if (type === 'string' || type === 'number' || type === 'boolean') {\n                for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    for (var i = sIdx, len = elems.length; i < len; i++) {\n                        value = this.getFormattedValue(elems[i].getAttribute('data-value'));\n                        if (!isNullOrUndefined(item) && item === value) {\n                            sIdx = i;\n                            data.push(item);\n                            break;\n                        }\n                    }\n                    if (elems.length === data.length) {\n                        break;\n                    }\n                }\n            }\n            else {\n                for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    for (var i = sIdx, len = elems.length; i < len; i++) {\n                        value = this.getFormattedValue(elems[i].getAttribute('data-value'));\n                        if (!isNullOrUndefined(item) && getValue((this.fields.value ? this.fields.value : 'value'), item) === value) {\n                            sIdx = i;\n                            data.push(item);\n                            break;\n                        }\n                    }\n                    if (elems.length === data.length) {\n                        break;\n                    }\n                }\n            }\n            return data;\n        }\n        return null;\n    };\n    ListBox.prototype.checkMaxSelection = function () {\n        var limit = this.list.querySelectorAll('.e-list-item span.e-check').length;\n        if (this.selectionSettings.showCheckbox) {\n            var index = 0;\n            var liCollElem = this.list.getElementsByClassName('e-list-item');\n            for (index; index < liCollElem.length; index++) {\n                if (!liCollElem[index].querySelector('.e-frame.e-check')) {\n                    if (limit === this.maximumSelectionLength) {\n                        liCollElem[index].classList.add('e-disable');\n                    }\n                    else if (liCollElem[index].classList.contains('e-disable')) {\n                        liCollElem[index].classList.remove('e-disable');\n                    }\n                }\n            }\n        }\n    };\n    ListBox.prototype.toolbarClickHandler = function (e) {\n        var btn = closest(e.target, 'button');\n        if (btn) {\n            this.toolbarAction = btn.getAttribute('data-value');\n            if (btn.disabled) {\n                return;\n            }\n            switch (this.toolbarAction) {\n                case 'moveUp':\n                    this.moveUpDown(true);\n                    break;\n                case 'moveDown':\n                    this.moveUpDown();\n                    break;\n                case 'moveTo':\n                    this.moveItemTo();\n                    break;\n                case 'moveFrom':\n                    this.moveItemFrom();\n                    break;\n                case 'moveAllTo':\n                    this.moveAllItemTo();\n                    break;\n                case 'moveAllFrom':\n                    this.moveAllItemFrom();\n                    break;\n                default:\n                    this.trigger('actionBegin', { cancel: false, items: this.getDataByElems(this.getSelectedItems()),\n                        eventName: this.toolbarAction });\n                    break;\n            }\n        }\n    };\n    ListBox.prototype.moveUpDown = function (isUp, isKey, value, isTop, isBottom) {\n        var _this = this;\n        var elems = this.getSelectedItems();\n        if (value) {\n            elems = value;\n        }\n        if (((isUp && this.isSelected(this.ulElement.firstElementChild))\n            || (!isUp && this.isSelected(this.ulElement.lastElementChild))) && !value) {\n            return;\n        }\n        var tempItems = this.getDataByElems(elems);\n        var localDataArgs = { cancel: false, items: tempItems, eventName: this.toolbarAction };\n        this.trigger('actionBegin', localDataArgs);\n        if (localDataArgs.cancel) {\n            return;\n        }\n        (isUp ? elems : elems.reverse()).forEach(function (ele) {\n            var jsonToIdx = Array.prototype.indexOf.call(_this.ulElement.querySelectorAll('.e-list-item'), ele);\n            var idx = Array.prototype.indexOf.call(_this.ulElement.children, ele);\n            if (isTop) {\n                moveTo(_this.ulElement, _this.ulElement, [idx], 0);\n                _this.changeData(idx, 0, jsonToIdx, ele);\n            }\n            else if (isBottom) {\n                moveTo(_this.ulElement, _this.ulElement, [idx], _this.ulElement.querySelectorAll('.e-list-item').length);\n                _this.changeData(idx, _this.ulElement.querySelectorAll('.e-list-item').length, jsonToIdx, ele);\n            }\n            else {\n                moveTo(_this.ulElement, _this.ulElement, [idx], isUp ? idx - 1 : idx + 2);\n                _this.changeData(idx, isUp ? idx - 1 : idx + 1, isUp ? jsonToIdx - 1 : jsonToIdx + 1, ele);\n            }\n        });\n        this.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n        elems[0].focus();\n        if (!isKey && this.toolbarSettings.items.length) {\n            this.getToolElem().querySelector('[data-value=' + (isUp ? 'moveUp' : 'moveDown') + ']').focus();\n        }\n        this.updateToolBarState();\n    };\n    ListBox.prototype.moveItemTo = function () {\n        this.moveData(this, this.getScopedListBox());\n    };\n    ListBox.prototype.moveItemFrom = function () {\n        this.moveData(this.getScopedListBox(), this);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {ListBox} fListBox - Specifies the from listbox.\n     * @param {ListBox} tListBox - Specifies the to listbox.\n     * @param {boolean} isKey - Specifies the key.\n     * @param {Element[]} value - Specifies the value.\n     * @param {number} index - Specifies the index.\n     * @returns {void}\n     * @private\n     */\n    ListBox.prototype.moveData = function (fListBox, tListBox, isKey, value, index) {\n        var idx = [];\n        var dataIdx = [];\n        var jsonIdx = [];\n        var sortIdx = [];\n        var listData = [].slice.call(fListBox.listData);\n        var tListData = [].slice.call(tListBox.listData);\n        var sortData = [].slice.call(fListBox.sortedData);\n        var tSortData = [].slice.call(tListBox.sortedData);\n        var fliCollections = [].slice.call(fListBox.liCollections);\n        var dataLiIdx = [];\n        var tliCollections = [].slice.call(tListBox.liCollections);\n        var tempItems = [];\n        var data = [];\n        var elems = fListBox.getSelectedItems();\n        if (value) {\n            elems = value;\n        }\n        var isRefresh = tListBox.sortOrder !== 'None' || (tListBox.selectionSettings.showCheckbox !==\n            fListBox.selectionSettings.showCheckbox) || tListBox.fields.groupBy || tListBox.itemTemplate || fListBox.itemTemplate;\n        fListBox.value = [];\n        if (elems.length) {\n            this.removeSelected(fListBox, elems);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var ulChildren_1 = Array.prototype.slice.call(fListBox.ulElement.children);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var listItems_1 = Array.prototype.slice.call(fListBox.ulElement.querySelectorAll('.e-list-item'));\n            var lData_1 = fListBox.listData;\n            var sData_1 = fListBox.sortedData;\n            var jData_1 = fListBox.jsonData;\n            var eData_1;\n            var listDataMap_1 = {};\n            if (elems.length > 199) {\n                for (var _i = 0, _a = fListBox.listData; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    if (!isNullOrUndefined(item)) {\n                        var key = fListBox.getFormattedValue(getValue((fListBox.fields.value ? fListBox.fields.value : 'value'), item));\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        listDataMap_1[key] = item;\n                    }\n                }\n            }\n            elems.forEach(function (ele) {\n                if (elems.length < 200) {\n                    eData_1 = fListBox.getDataByElems([ele])[0];\n                }\n                else {\n                    var value_1 = ele.getAttribute('data-value');\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    var formattedValue = fListBox.getFormattedValue(value_1);\n                    eData_1 = listDataMap_1[formattedValue];\n                }\n                idx.push(ulChildren_1.indexOf(ele));\n                dataLiIdx.push(listItems_1.indexOf(ele));\n                dataIdx.push(lData_1.indexOf(eData_1));\n                sortIdx.push(sData_1.indexOf(eData_1));\n                jsonIdx.push(jData_1.indexOf(eData_1));\n            });\n            if (this.sortOrder !== 'None') {\n                sortIdx.forEach(function (i) {\n                    tempItems.push(fListBox.sortedData[i]);\n                });\n            }\n            else {\n                jsonIdx.forEach(function (i) {\n                    tempItems.push(fListBox.jsonData[i]);\n                });\n            }\n            var localDataArgs = { cancel: false, items: tempItems, eventName: this.toolbarAction };\n            fListBox.trigger('actionBegin', localDataArgs);\n            if (localDataArgs.cancel) {\n                return;\n            }\n            var rLiCollection_1 = [];\n            dataLiIdx.sort(function (n1, n2) { return n1 - n2; }).reverse().forEach(function (i) {\n                rLiCollection_1.push(fliCollections.splice(i, 1)[0]);\n            });\n            fListBox.liCollections = fliCollections;\n            if (index) {\n                var toColl = tliCollections.splice(0, index);\n                tListBox.liCollections = toColl.concat(rLiCollection_1.reverse()).concat(tliCollections);\n            }\n            else {\n                tListBox.liCollections = tliCollections.concat(rLiCollection_1.reverse());\n            }\n            if (tListBox.listData.length === 0) {\n                var noRecElem = tListBox.ulElement.childNodes[0];\n                if (noRecElem) {\n                    tListBox.ulElement.removeChild(noRecElem);\n                }\n            }\n            dataIdx.sort(function (n1, n2) { return n2 - n1; }).forEach(function (i) {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                listData.splice(i, 1)[0];\n            });\n            sortIdx.sort(function (n1, n2) { return n2 - n1; }).forEach(function (i) {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                sortData.splice(i, 1)[0];\n            });\n            jsonIdx.slice().reverse().forEach(function (i) {\n                data.push(fListBox.jsonData.splice(i, 1)[0]);\n            });\n            if (isRefresh) {\n                if (fListBox.fields.groupBy) {\n                    var sourceElem = fListBox.renderItems(listData, fListBox.fields);\n                    fListBox.updateListItems(sourceElem, fListBox.ulElement);\n                }\n                else {\n                    elems.forEach(function (ele) { detach(ele); });\n                }\n            }\n            else {\n                moveTo(fListBox.ulElement, tListBox.ulElement, idx, index);\n                fListBox.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n            }\n            if (tListBox.mainList.childElementCount !== tListBox.jsonData.length) {\n                tListBox.mainList = tListBox.ulElement;\n            }\n            var tJsonData = [].slice.call(tListBox.jsonData);\n            tSortData = [].slice.call(tListBox.sortedData);\n            this.selectNextList(elems, dataLiIdx, dataIdx, fListBox);\n            if (isKey) {\n                this.list.focus();\n            }\n            fListBox.listData = listData;\n            fListBox.sortedData = sortData;\n            index = (index) ? index : tListData.length;\n            for (var i = tempItems.length - 1; i >= 0; i--) {\n                tListData.splice(index, 0, tempItems[i]);\n                tJsonData.splice(index, 0, tempItems[i]);\n                tSortData.splice(index, 0, tempItems[i]);\n            }\n            tListBox.listData = tListData;\n            tListBox.jsonData = tJsonData;\n            tListBox.sortedData = tSortData;\n            if (isRefresh) {\n                var sourceElem = tListBox.renderItems(tListData, tListBox.fields);\n                tListBox.updateListItems(sourceElem, tListBox.ulElement);\n                tListBox.setSelection();\n                fListBox.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n            }\n            fListBox.updateSelectedOptions();\n            if (fListBox.listData.length === 0) {\n                fListBox.l10nUpdate();\n            }\n        }\n        if (fListBox.value.length === 1 && fListBox.getSelectedItems().length) {\n            fListBox.value[0] = fListBox.getFormattedValue(fListBox.getSelectedItems()[0].getAttribute('data-value'));\n        }\n        if (fListBox.liCollections.length === fListBox.ulElement.querySelectorAll('.e-disabled').length) {\n            var wrap = this.list.parentElement.getElementsByClassName('e-listbox-tool')[0];\n            var toolbarAction = this.toolbarAction === 'moveFrom' ? 'moveAllFrom' : 'moveAllTo';\n            var btn = wrap.querySelector('[data-value=\"' + toolbarAction + '\"]');\n            btn.disabled = true;\n        }\n    };\n    ListBox.prototype.selectNextList = function (elems, dataLiIdx, dataIdx, inst) {\n        var childCnt = inst.ulElement.querySelectorAll('.e-list-item').length;\n        var ele;\n        var liIdx;\n        var validIdx = -1;\n        if (elems.length === 1 && childCnt && !inst.selectionSettings.showCheckbox) {\n            liIdx = childCnt <= dataLiIdx[0] ? childCnt - 1 : dataLiIdx[0];\n            ele = inst.ulElement.querySelectorAll('.e-list-item')[liIdx];\n            validIdx = inst.getValidIndex(ele, liIdx, childCnt === dataIdx[0] ? 38 : 40);\n            if (validIdx > -1) {\n                (inst.ulElement.querySelectorAll('.e-list-item')[validIdx].classList.add(cssClass.selected));\n            }\n        }\n    };\n    ListBox.prototype.moveAllItemTo = function () {\n        this.moveAllData(this, this.getScopedListBox());\n    };\n    ListBox.prototype.moveAllItemFrom = function () {\n        this.moveAllData(this.getScopedListBox(), this);\n    };\n    ListBox.prototype.moveAllData = function (fListBox, tListBox, isKey, index) {\n        var listData = [].slice.call(tListBox.listData);\n        var jsonData = [].slice.call(tListBox.jsonData);\n        var isRefresh = tListBox.sortOrder !== 'None' || (tListBox.selectionSettings.showCheckbox !==\n            fListBox.selectionSettings.showCheckbox) || tListBox.fields.groupBy || tListBox.itemTemplate || fListBox.itemTemplate;\n        var tempLiColl = [];\n        var tempData = [];\n        var flistboxarray = [];\n        this.removeSelected(fListBox, fListBox.getSelectedItems());\n        var tempItems = [].slice.call(fListBox.listData);\n        var localDataArgs = { cancel: false, items: tempItems, eventName: this.toolbarAction };\n        fListBox.trigger('actionBegin', localDataArgs);\n        if (localDataArgs.cancel) {\n            return;\n        }\n        if (tListBox.listData.length === 0) {\n            var noRecElem = tListBox.ulElement.childNodes[0];\n            if (noRecElem) {\n                tListBox.ulElement.removeChild(noRecElem);\n            }\n        }\n        if (fListBox.listData.length > 0) {\n            // eslint-disable-next-line prefer-spread\n            flistboxarray = Array.apply(null, { length: fListBox.ulElement.childElementCount }).map(Number.call, Number);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var childNodes = fListBox.ulElement.childNodes;\n        var childElementCount = fListBox.ulElement.childElementCount;\n        var newFlistboxArray = [];\n        for (var i = 0; i < childElementCount; i++) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var childNode = childNodes[i];\n            if (childNode.classList.contains('e-disabled')) {\n                tempLiColl.push(childNode);\n                if (this.sortOrder != null) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    tempData.push(fListBox.sortedData[i]);\n                }\n                else {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    tempData.push(fListBox.listData[i]);\n                }\n            }\n            else {\n                newFlistboxArray.push(i);\n            }\n        }\n        flistboxarray = newFlistboxArray;\n        moveTo(fListBox.ulElement, tListBox.ulElement, flistboxarray, index);\n        fListBox.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n        if (isKey) {\n            this.list.focus();\n        }\n        index = (index) ? index : listData.length;\n        for (var i = 0; i < flistboxarray.length; i++) {\n            if (this.sortOrder != null) {\n                listData.splice(index + i, 0, fListBox.sortedData[flistboxarray[i]]);\n            }\n            else {\n                listData.splice(index + i, 0, fListBox.listData[flistboxarray[i]]);\n            }\n        }\n        for (var i = 0; i < flistboxarray.length; i++) {\n            jsonData.splice(index + i, 0, fListBox.jsonData[flistboxarray[i]]);\n        }\n        var fliCollections = [];\n        if (tempLiColl.length > 0) {\n            fListBox.liCollections = tempLiColl;\n            fliCollections = [].slice.call(fListBox.liCollections);\n        }\n        else {\n            fliCollections = [].slice.call(fListBox.liCollections);\n            fListBox.liCollections = [];\n        }\n        var tliCollections = [].slice.call(tListBox.liCollections);\n        if (index) {\n            var toColl = tliCollections.splice(0, index);\n            tListBox.liCollections = toColl.concat(fliCollections).concat(tliCollections);\n        }\n        else {\n            tListBox.liCollections = tliCollections.concat(fliCollections);\n        }\n        fListBox.value = [];\n        listData = listData.filter(function (data) { return (data !== undefined); });\n        listData = listData\n            .filter(function (data) { return data.isHeader !== true; });\n        var sortedData = listData.filter(function (val) {\n            return tListBox.jsonData.indexOf(val) === -1;\n        });\n        for (var i = 0; i < sortedData.length; i++) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            tListBox.jsonData.splice(index + i, 0, sortedData[i]);\n        }\n        tListBox.listData = listData;\n        if (fListBox.listData.length === fListBox.jsonData.length) {\n            fListBox.listData = fListBox.sortedData = fListBox.jsonData = tempData;\n        }\n        else if (fListBox.allowFiltering) {\n            var disabledData_1 = [];\n            if (tempLiColl.length > 0) {\n                for (var i = 0; i < tempLiColl.length; i++) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    disabledData_1.push(fListBox.getDataByValue(tempLiColl[i].getAttribute('data-value')));\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                fListBox.listData = fListBox.listData.filter(function (obj1) {\n                    return !disabledData_1.some(function (obj2) { return obj1 === obj2; });\n                });\n            }\n            for (var i = 0; i < fListBox.listData.length; i++) {\n                for (var j = 0; j < fListBox.jsonData.length; j++) {\n                    if (fListBox.listData[i] === fListBox.jsonData[j]) {\n                        fListBox.jsonData.splice(j, 1);\n                    }\n                }\n            }\n            if (tempLiColl.length > 0) {\n                fListBox.listData = disabledData_1;\n                fListBox.sortedData = [];\n            }\n            else {\n                fListBox.listData = fListBox.sortedData = [];\n            }\n        }\n        if (isRefresh) {\n            var sourceElem = tListBox.renderItems(listData, tListBox.fields);\n            tListBox.updateListItems(sourceElem, tListBox.ulElement);\n        }\n        else {\n            tListBox.sortedData = listData;\n        }\n        fListBox.updateSelectedOptions();\n        if (tempLiColl.length > 0) {\n            var wrap = this.list.parentElement.getElementsByClassName('e-listbox-tool')[0];\n            var btn = wrap.querySelector('[data-value=\"' + this.toolbarAction + '\"]');\n            btn.disabled = true;\n        }\n        if (fListBox.listData.length === 0 && tempLiColl.length === 0) {\n            fListBox.l10nUpdate();\n        }\n    };\n    ListBox.prototype.changeData = function (fromIdx, toIdx, jsonToIdx, ele) {\n        var listData = [].slice.call(this.listData);\n        var jsonData = [].slice.call(this.jsonData);\n        var sortData = [].slice.call(this.sortedData);\n        var jsonIdx = Array.prototype.indexOf.call(this.jsonData, this.getDataByElems([ele])[0]);\n        var sortIdx = Array.prototype.indexOf.call(this.sortedData, this.getDataByElems([ele])[0]);\n        var liColl = [].slice.call(this.liCollections);\n        listData.splice(toIdx, 0, listData.splice(fromIdx, 1)[0]);\n        jsonData.splice(jsonToIdx, 0, jsonData.splice(jsonIdx, 1)[0]);\n        sortData.splice(toIdx, 0, sortData.splice(sortIdx, 1)[0]);\n        liColl.splice(toIdx, 0, liColl.splice(fromIdx, 1)[0]);\n        this.listData = listData;\n        this.jsonData = jsonData;\n        this.liCollections = liColl;\n        this.sortedData = sortData;\n    };\n    ListBox.prototype.getSelectedItems = function () {\n        var ele = [];\n        if (this.selectionSettings.showCheckbox) {\n            [].slice.call(this.ulElement.getElementsByClassName('e-check')).forEach(function (cbox) {\n                ele.push(closest(cbox, '.' + 'e-list-item'));\n            });\n        }\n        else {\n            ele = [].slice.call(this.ulElement.getElementsByClassName(cssClass.selected));\n        }\n        return ele;\n    };\n    ListBox.prototype.getScopedListBox = function () {\n        var _this = this;\n        var listObj;\n        if (this.scope) {\n            [].slice.call(document.querySelectorAll(this.scope)).forEach(function (ele) {\n                if (getComponent(ele, _this.getModuleName())) {\n                    listObj = getComponent(ele, _this.getModuleName());\n                }\n            });\n        }\n        return listObj;\n    };\n    ListBox.prototype.getGrabbedItems = function (args) {\n        var grabbItems = false;\n        for (var i = 0; i < this.value.length; i++) {\n            if (this.value[i] === this.getFormattedValue(args.target.getAttribute('data-value'))) {\n                grabbItems = true;\n                break;\n            }\n        }\n        if (grabbItems) {\n            for (var i = 0; i < this.value.length; i++) {\n                var liColl = this.list.querySelectorAll('[aria-selected=\"true\"]');\n                for (var j = 0; j < liColl.length; j++) {\n                    if (this.value[i] === this.getFormattedValue(liColl[j].getAttribute('data-value'))) {\n                        liColl[j].classList.add('e-grabbed');\n                    }\n                }\n            }\n        }\n        var elems;\n        if (this.isAngular) {\n            elems = Array.prototype.slice.call(this.element.getElementsByClassName('e-list-parent')[0].querySelectorAll('.e-grabbed'));\n        }\n        else {\n            elems = Array.prototype.slice.call(this.element.nextElementSibling.querySelectorAll('.e-grabbed'));\n        }\n        return elems;\n    };\n    ListBox.prototype.getDragArgs = function (args, isDragEnd) {\n        var elems = this.getGrabbedItems(args);\n        if (elems.length) {\n            if (isDragEnd) {\n                elems.push(args.target);\n            }\n        }\n        else {\n            elems = [args.target];\n        }\n        return { elements: elems, event: args.event, items: this.getDataByElems(elems) };\n    };\n    ListBox.prototype.onKeyDown = function (e) {\n        this.keyDownHandler(e);\n        e.stopPropagation();\n    };\n    ListBox.prototype.keyDownHandler = function (e) {\n        if ([32, 35, 36, 37, 38, 39, 40, 65].indexOf(e.keyCode) > -1 && (!this.allowFiltering ||\n            (this.allowFiltering && e.target !== this.filterInput))) {\n            if (e.target && e.target.className.indexOf('e-edit-template') > -1) {\n                return;\n            }\n            e.preventDefault();\n            if (e.keyCode === 32 && this.ulElement.children.length) {\n                this.selectHandler({\n                    target: this.ulElement.getElementsByClassName('e-focused')[0],\n                    ctrlKey: e.ctrlKey, shiftKey: e.shiftKey\n                });\n            }\n            else if (e.keyCode === 65 && e.ctrlKey) {\n                this.selectAll();\n            }\n            else if ((e.keyCode === 38 || e.keyCode === 40) && e.ctrlKey && e.shiftKey) {\n                this.moveUpDown(e.keyCode === 38 ? true : false, true);\n            }\n            else if ((this.toolbarSettings.items.length || this.tBListBox) && (e.keyCode === 39 || e.keyCode === 37) && e.ctrlKey) {\n                var listObj = this.tBListBox || this.getScopedListBox();\n                if (e.keyCode === 39) {\n                    if (e.shiftKey) {\n                        this.moveAllData(this, listObj, true);\n                    }\n                    else {\n                        this.moveData(this, listObj, true);\n                    }\n                }\n                else {\n                    if (e.shiftKey) {\n                        this.moveAllData(listObj, this, true);\n                    }\n                    else {\n                        this.moveData(listObj, this, true);\n                    }\n                }\n            }\n            else if (e.keyCode !== 37 && e.keyCode !== 39 && e.code !== 'KeyA') {\n                this.upDownKeyHandler(e);\n            }\n        }\n        else if (this.allowFiltering) {\n            if (e.keyCode === 40 || e.keyCode === 38) {\n                this.upDownKeyHandler(e);\n            }\n        }\n    };\n    ListBox.prototype.upDownKeyHandler = function (e) {\n        var ul = this.ulElement;\n        var defaultIdx = (e.keyCode === 40 || e.keyCode === 36) ? 0 : ul.childElementCount - 1;\n        var fliIdx = defaultIdx;\n        var fli = ul.getElementsByClassName('e-focused')[0] || ul.getElementsByClassName(cssClass.selected)[0];\n        if (fli) {\n            if (e.keyCode !== 35 && e.keyCode !== 36) {\n                fliIdx = Array.prototype.indexOf.call(ul.children, fli);\n                if (e.keyCode === 40) {\n                    fliIdx++;\n                }\n                else {\n                    fliIdx--;\n                }\n                if (fliIdx < 0 || fliIdx > ul.childElementCount - 1) {\n                    return;\n                }\n            }\n            removeClass([fli], 'e-focused');\n        }\n        var cli = ul.children[fliIdx];\n        if (cli) {\n            fliIdx = this.getValidIndex(cli, fliIdx, e.keyCode);\n            if (fliIdx === -1) {\n                addClass([fli], 'e-focused');\n                return;\n            }\n            ul.children[fliIdx].focus();\n            ul.children[fliIdx].classList.add('e-focused');\n            if (!e.ctrlKey || !this.selectionSettings.showCheckbox && e.shiftKey && (e.keyCode === 36 || e.keyCode === 35)) {\n                this.selectHandler({ target: ul.children[fliIdx], ctrlKey: e.ctrlKey, shiftKey: e.shiftKey }, true);\n            }\n            if (this.selectionSettings.showCheckbox && e.ctrlKey && e.shiftKey && (e.keyCode === 36 || e.keyCode === 35)) {\n                var selectedidx = Array.prototype.indexOf.call(ul.children, fli);\n                var sidx = e.code === 'Home' ? 0 : selectedidx;\n                var eidx = e.code === 'Home' ? selectedidx : ul.children.length - 1;\n                for (var i = sidx; i <= eidx; i++) {\n                    var item = ul.children[i];\n                    this.notify('updatelist', { li: item, e: {\n                            target: this.ulElement.getElementsByClassName('e-focused')[0],\n                            ctrlKey: e.ctrlKey, shiftKey: e.shiftKey\n                        }, module: 'listbox' });\n                }\n            }\n        }\n    };\n    ListBox.prototype.KeyUp = function (e) {\n        var _this = this;\n        if (this.allowFiltering && e.ctrlKey && e.keyCode === 65) {\n            e.preventDefault();\n            return;\n        }\n        var char = String.fromCharCode(e.keyCode);\n        var isWordCharacter = char.match(/\\w/);\n        if (!isNullOrUndefined(isWordCharacter)) {\n            this.isValidKey = true;\n        }\n        this.isValidKey = (e.keyCode === 8) || (e.keyCode === 46) || this.isValidKey;\n        if (this.isValidKey) {\n            this.isValidKey = false;\n            switch (e.keyCode) {\n                default:\n                    if (this.allowFiltering) {\n                        var eventArgsData_1 = {\n                            preventDefaultAction: false,\n                            text: this.targetElement(),\n                            updateData: function (dataSource, query, fields) {\n                                if (eventArgsData_1.cancel) {\n                                    return;\n                                }\n                                _this.isFiltered = true;\n                                _this.remoteFilterAction = true;\n                                _this.preventDefActionFilter = eventArgsData_1.preventDefaultAction;\n                                _this.dataUpdater(dataSource, query, fields);\n                                _this.preventDefActionFilter = false;\n                            },\n                            event: e,\n                            cancel: false\n                        };\n                        this.trigger('filtering', eventArgsData_1, function (args) {\n                            _this.isDataFetched = false;\n                            if (args.cancel || (_this.filterInput.value !== '' && _this.isFiltered)) {\n                                return;\n                            }\n                            _this.preventDefActionFilter = false;\n                            if (!args.cancel && !_this.isCustomFiltering && !args.preventDefaultAction) {\n                                _this.inputString = _this.filterInput.value;\n                                _this.filteringAction(_this.jsonData, new Query(), _this.fields);\n                                if (_this.toolbarSettings.items.length > 0) {\n                                    _this.updateToolBarState();\n                                }\n                            }\n                            if (!_this.isFiltered && !_this.isCustomFiltering && !args.preventDefaultAction) {\n                                _this.dataUpdater(_this.jsonData, new Query(), _this.fields);\n                            }\n                        });\n                    }\n            }\n        }\n    };\n    /**\n     * To filter the data from given data source by using query.\n     *\n     * @param  {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}.\n     */\n    ListBox.prototype.filter = function (dataSource, query, fields) {\n        this.isCustomFiltering = true;\n        this.filteringAction(dataSource, query, fields);\n    };\n    ListBox.prototype.filteringAction = function (dataSource, query, fields) {\n        this.resetList(dataSource, fields, query);\n    };\n    ListBox.prototype.targetElement = function () {\n        this.targetInputElement = this.list.getElementsByClassName('e-input-filter')[0];\n        return isNullOrUndefined(this.targetInputElement) ? null : this.targetInputElement.value;\n    };\n    ListBox.prototype.dataUpdater = function (dataSource, query, fields) {\n        this.isDataFetched = false;\n        var backCommand = true;\n        if (this.targetElement() && this.targetElement().trim() === '') {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            if (backCommand) {\n                this.remoteCustomValue = false;\n                if (this.isAngular && this.itemTemplate) {\n                    list = this.renderItems(this.listData, fields);\n                }\n                this.onActionComplete(list, this.jsonData);\n                this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.selectionSettings.showCheckbox, e: this });\n            }\n        }\n        else {\n            this.resetList(dataSource, fields, query);\n        }\n    };\n    ListBox.prototype.focusOutHandler = function () {\n        var ele = this.list.getElementsByClassName('e-focused')[0];\n        if (ele) {\n            ele.classList.remove('e-focused');\n        }\n        if (this.allowFiltering) {\n            this.refreshClearIcon();\n        }\n    };\n    ListBox.prototype.resizeHandler = function () {\n        if (this.list && !(this.cssClass && this.cssClass.indexOf('e-horizontal-listbox') > -1)) {\n            if (this.list.getElementsByClassName('e-filter-parent').length > 0 && this.allowFiltering) {\n                this.ulElement.style.setProperty('height', 'calc(100% - ' + (this.filterParent.offsetHeight) + 'px)', 'important');\n            }\n        }\n    };\n    ListBox.prototype.getValidIndex = function (cli, index, keyCode) {\n        var cul = this.ulElement;\n        if (cli.classList.contains('e-disabled') || cli.classList.contains(cssClass.group)) {\n            if (keyCode === 40 || keyCode === 36) {\n                index++;\n            }\n            else {\n                index--;\n            }\n        }\n        if (index < 0 || index === cul.childElementCount) {\n            return -1;\n        }\n        cli = cul.childNodes[index];\n        if (cli.classList.contains('e-disabled') || cli.classList.contains(cssClass.group)) {\n            index = this.getValidIndex(cli, index, keyCode);\n        }\n        return index;\n    };\n    ListBox.prototype.updateSelectedOptions = function () {\n        var _this = this;\n        var selectedOptions = [];\n        var values = [];\n        extend(values, this.value);\n        this.getSelectedItems().forEach(function (ele) {\n            if (!ele.classList.contains('e-grabbed')) {\n                selectedOptions.push(_this.getFormattedValue(ele.getAttribute('data-value')));\n            }\n        });\n        if (this.mainList.childElementCount === this.ulElement.childElementCount) {\n            if (this.allowFiltering && this.selectionSettings.showCheckbox) {\n                for (var i = 0; i < selectedOptions.length; i++) {\n                    if (values.indexOf(selectedOptions[i]) > -1) {\n                        continue;\n                    }\n                    else {\n                        values.push(selectedOptions[i]);\n                    }\n                }\n                this.setProperties({ value: values }, true);\n            }\n            else {\n                this.setProperties({ value: selectedOptions }, true);\n            }\n        }\n        this.updateSelectTag();\n        this.updateToolBarState();\n        if (this.tBListBox) {\n            this.tBListBox.updateToolBarState();\n        }\n    };\n    ListBox.prototype.clearSelection = function (values) {\n        var _this = this;\n        if (values === void 0) { values = this.value; }\n        if (this.selectionSettings.showCheckbox) {\n            var dvalue_1;\n            this.getSelectedItems().forEach(function (li) {\n                dvalue_1 = _this.getFormattedValue(li.getAttribute('data-value'));\n                if (values.indexOf(dvalue_1) < 0) {\n                    li.getElementsByClassName('e-check')[0].classList.remove('e-check');\n                    li.removeAttribute('aria-selected');\n                }\n            });\n        }\n    };\n    ListBox.prototype.setSelection = function (\n    // eslint-disable-next-line max-len\n    values, isSelect, isText, canFocus) {\n        var _this = this;\n        if (values === void 0) { values = this.value; }\n        if (isSelect === void 0) { isSelect = true; }\n        if (isText === void 0) { isText = false; }\n        if (canFocus === void 0) { canFocus = true; }\n        var li;\n        var liselect;\n        if (values) {\n            values.forEach(function (value) {\n                var text;\n                if (isText) {\n                    text = _this.getValueByText(value);\n                }\n                else {\n                    text = value;\n                }\n                if (typeof (text) === 'string') {\n                    text = text.split('\\\\').join('\\\\\\\\');\n                    li = _this.list.querySelector('[data-value=\"' + text.replace(/\"/g, '\\\\\"') + '\"]');\n                }\n                else {\n                    li = _this.list.querySelector('[data-value=\"' + text + '\"]');\n                }\n                if (li) {\n                    if (_this.selectionSettings.showCheckbox && !li.classList.contains('e-disabled')) {\n                        liselect = li.getElementsByClassName('e-frame')[0].classList.contains('e-check');\n                    }\n                    else {\n                        liselect = li.classList.contains('e-selected');\n                    }\n                    if (!isSelect && liselect || isSelect && !liselect && li) {\n                        if (_this.selectionSettings.showCheckbox && !li.classList.contains('e-disabled')) {\n                            _this.notify('updatelist', { li: li, module: 'listbox' });\n                            if (canFocus) {\n                                li.focus();\n                            }\n                        }\n                        else {\n                            if (isSelect && !li.classList.contains('e-disabled')) {\n                                li.classList.add(cssClass.selected);\n                                li.setAttribute('aria-selected', 'true');\n                                if (canFocus) {\n                                    li.focus();\n                                }\n                            }\n                            else {\n                                li.classList.remove(cssClass.selected);\n                                li.removeAttribute('aria-selected');\n                            }\n                        }\n                    }\n                }\n            });\n        }\n        this.updateSelectTag();\n    };\n    ListBox.prototype.updateSelectTag = function () {\n        var ele = this.getSelectTag();\n        var innerHTML = '';\n        if (isNullOrUndefined(ele)) {\n            return;\n        }\n        ele.innerHTML = '';\n        if (this.value) {\n            for (var i = 0, len = this.value.length; i < len; i++) {\n                innerHTML += '<option selected>' + this.value[i] + '</option>';\n            }\n            ele.innerHTML += innerHTML;\n            for (var i = 0, len = ele.childNodes.length; i < len; i++) {\n                ele.childNodes[i].setAttribute('value', this.value[i].toString());\n            }\n        }\n        this.checkSelectAll();\n    };\n    ListBox.prototype.checkDisabledState = function (inst) {\n        if (isNullOrUndefined(inst.ulElement)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (!isNullOrUndefined(this.dataSource) && isNullOrUndefined(this.dataSource.length)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            if (inst.ulElement.querySelectorAll('.e-disabled').length > 0) {\n                return inst.liCollections.length === inst.ulElement.querySelectorAll('.e-disabled').length;\n            }\n            return inst.ulElement.querySelectorAll('.' + cssClass.li).length === 0;\n        }\n    };\n    ListBox.prototype.updateToolBarState = function () {\n        var _this = this;\n        if (this.toolbarSettings.items.length) {\n            var listObj_1 = this.getScopedListBox();\n            var wrap_1 = this.list.parentElement.getElementsByClassName('e-listbox-tool')[0];\n            this.toolbarSettings.items.forEach(function (value) {\n                var btn = wrap_1.querySelector('[data-value=\"' + value + '\"]');\n                switch (value) {\n                    case 'moveAllTo':\n                        btn.disabled = _this.checkDisabledState(_this);\n                        break;\n                    case 'moveAllFrom':\n                        btn.disabled = _this.checkDisabledState(listObj_1);\n                        break;\n                    case 'moveFrom':\n                        btn.disabled = listObj_1.value && listObj_1.value.length ? false : true;\n                        break;\n                    case 'moveUp':\n                        btn.disabled = _this.value && _this.value.length\n                            && !_this.isSelected(_this.ulElement.children[0]) ? false : true;\n                        break;\n                    case 'moveDown':\n                        btn.disabled = _this.value && _this.value.length\n                            && !_this.isSelected(_this.ulElement.children[_this.ulElement.childElementCount - 1]) ? false : true;\n                        break;\n                    default:\n                        btn.disabled = _this.value && _this.value.length ? false : true;\n                        break;\n                }\n            });\n        }\n    };\n    ListBox.prototype.setCheckboxPosition = function () {\n        var listWrap = this.list;\n        if (!this.initLoad && this.selectionSettings.checkboxPosition === 'Left') {\n            listWrap.classList.remove('e-right');\n        }\n        if (this.selectionSettings.checkboxPosition === 'Right') {\n            listWrap.classList.add('e-right');\n        }\n    };\n    ListBox.prototype.showCheckbox = function (showCheckbox) {\n        var index = 0;\n        var liColl = this.list.lastElementChild.querySelectorAll('li');\n        var liCollLen = this.list.lastElementChild.getElementsByClassName('e-list-item').length;\n        if (showCheckbox) {\n            this.ulElement = this.renderItems(this.listData, this.fields);\n            this.mainList = this.ulElement;\n            this.list.removeChild(this.list.getElementsByTagName('ul')[0]);\n            this.list.appendChild(this.ulElement);\n            if (this.selectionSettings.showSelectAll && !this.list.getElementsByClassName('e-selectall-parent')[0]) {\n                var l10nShow = new L10n(this.getModuleName(), { selectAllText: 'Select All', unSelectAllText: 'Unselect All' }, this.locale);\n                this.showSelectAll = true;\n                this.selectAllText = l10nShow.getConstant('selectAllText');\n                this.unSelectAllText = l10nShow.getConstant('unSelectAllText');\n                this.popupWrapper = this.list;\n                this.checkBoxSelectionModule.checkAllParent = null;\n                this.notify('selectAll', {});\n                this.checkSelectAll();\n            }\n        }\n        else {\n            if (this.list.getElementsByClassName('e-selectall-parent')[0]) {\n                this.list.removeChild(this.list.getElementsByClassName('e-selectall-parent')[0]);\n            }\n            for (index; index < liCollLen; index++) {\n                if (liColl[index].classList.contains('e-list-item')) {\n                    liColl[index].removeChild(liColl[index].getElementsByClassName('e-checkbox-wrapper')[0]);\n                }\n                if (liColl[index].hasAttribute('aria-selected')) {\n                    liColl[index].removeAttribute('aria-selected');\n                }\n            }\n            this.mainList = this.ulElement;\n        }\n        this.value = [];\n    };\n    ListBox.prototype.isSelected = function (ele) {\n        if (!isNullOrUndefined(ele)) {\n            return ele.classList.contains(cssClass.selected) || ele.querySelector('.e-check') !== null;\n        }\n        else {\n            return false;\n        }\n    };\n    ListBox.prototype.getSelectTag = function () {\n        return this.list.getElementsByClassName('e-hidden-select')[0];\n    };\n    ListBox.prototype.getToolElem = function () {\n        return this.list.parentElement.getElementsByClassName('e-listbox-tool')[0];\n    };\n    ListBox.prototype.formResetHandler = function () {\n        this.value = this.initialSelectedOptions;\n    };\n    /**\n     * Return the module name.\n     *\n     * @private\n     * @returns {string} - Module name\n     */\n    ListBox.prototype.getModuleName = function () {\n        return 'listbox';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    ListBox.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ListBox.prototype.getLocaleName = function () {\n        return 'listbox';\n    };\n    ListBox.prototype.destroy = function () {\n        this.unwireEvents();\n        if (this.element.tagName === 'EJS-LISTBOX') {\n            this.element.innerHTML = '';\n        }\n        else {\n            this.element.style.display = 'inline-block';\n            if (this.toolbarSettings.items.length) {\n                this.list.parentElement.parentElement.insertBefore(this.list, this.list.parentElement);\n                detach(this.list.nextElementSibling);\n            }\n            this.list.parentElement.insertBefore(this.element, this.list);\n        }\n        _super.prototype.destroy.call(this);\n        this.enableRtlElements = [];\n        this.liCollections = null;\n        this.list = null;\n        this.ulElement = null;\n        this.mainList = null;\n        this.spinner = null;\n        this.rippleFun = null;\n        if (this.itemTemplate) {\n            this.clearTemplate();\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {ListBoxModel} newProp - Specifies the new properties.\n     * @param {ListBoxModel} oldProp - Specifies the old properties.\n     * @returns {void}\n     * @private\n     */\n    ListBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrap = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([wrap], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([wrap], newProp.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.list.classList.add('e-rtl');\n                    }\n                    else {\n                        this.list.classList.remove('e-rtl');\n                    }\n                    break;\n                case 'value':\n                    removeClass(this.list.querySelectorAll('.' + cssClass.selected), cssClass.selected);\n                    this.clearSelection(this.value);\n                    this.setSelection();\n                    break;\n                case 'height':\n                    this.setHeight();\n                    break;\n                case 'enabled':\n                    this.setEnable();\n                    break;\n                case 'allowDragAndDrop':\n                    if (newProp.allowDragAndDrop) {\n                        this.initDraggable();\n                    }\n                    else {\n                        if (this.ulElement.classList.contains('e-sortable')) {\n                            getComponent(this.ulElement, 'sortable').destroy();\n                        }\n                    }\n                    break;\n                case 'allowFiltering':\n                    if (this.allowFiltering) {\n                        this.setFiltering();\n                    }\n                    else {\n                        this.list.removeChild(this.list.getElementsByClassName('e-filter-parent')[0]);\n                        this.filterParent = null;\n                        removeClass([this.list], 'e-filter-list');\n                    }\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this.allowFiltering) {\n                        if (this.filterInput) {\n                            Input.setPlaceholder(newProp.filterBarPlaceholder, this.filterInput);\n                        }\n                    }\n                    break;\n                case 'scope':\n                    if (this.allowDragAndDrop) {\n                        getComponent(this.ulElement, 'sortable').scope = newProp.scope;\n                    }\n                    if (this.toolbarSettings.items.length) {\n                        if (oldProp.scope) {\n                            getComponent(document.querySelector(oldProp.scope), this.getModuleName())\n                                .tBListBox = null;\n                        }\n                        if (newProp.scope) {\n                            getComponent(document.querySelector(newProp.scope), this.getModuleName())\n                                .tBListBox = this;\n                        }\n                    }\n                    break;\n                case 'toolbarSettings': {\n                    var ele = void 0;\n                    var pos = newProp.toolbarSettings.position;\n                    var toolElem = this.getToolElem();\n                    if (pos) {\n                        removeClass([wrap], ['e-right', 'e-left']);\n                        wrap.classList.add('e-' + pos.toLowerCase());\n                        if (pos === 'Left') {\n                            wrap.insertBefore(toolElem, this.list);\n                        }\n                        else {\n                            wrap.appendChild(toolElem);\n                        }\n                    }\n                    if (newProp.toolbarSettings.items) {\n                        oldProp.toolbarSettings.items = isNullOrUndefined(oldProp.toolbarSettings.items) ? [] : oldProp.toolbarSettings.items;\n                        if (oldProp.toolbarSettings && oldProp.toolbarSettings.items.length) {\n                            ele = this.list.parentElement;\n                            ele.parentElement.insertBefore(this.list, ele);\n                            detach(ele);\n                        }\n                        this.initToolbarAndStyles();\n                        this.wireToolbarEvent();\n                    }\n                    break;\n                }\n                case 'selectionSettings': {\n                    var showSelectAll = newProp.selectionSettings.showSelectAll;\n                    var showCheckbox = newProp.selectionSettings.showCheckbox;\n                    if (!isNullOrUndefined(showSelectAll)) {\n                        this.showSelectAll = showSelectAll;\n                        if (this.showSelectAll) {\n                            var l10nSel = new L10n(this.getModuleName(), { selectAllText: 'Select All', unSelectAllText: 'Unselect All' }, this.locale);\n                            this.checkBoxSelectionModule.checkAllParent = null;\n                            this.showSelectAll = true;\n                            this.selectAllText = l10nSel.getConstant('selectAllText');\n                            this.unSelectAllText = l10nSel.getConstant('selectAllText');\n                            this.popupWrapper = this.list;\n                        }\n                        this.notify('selectAll', {});\n                        this.checkSelectAll();\n                    }\n                    if (!isNullOrUndefined(showCheckbox)) {\n                        this.showCheckbox(showCheckbox);\n                    }\n                    if (this.selectionSettings.showCheckbox) {\n                        this.setCheckboxPosition();\n                    }\n                    break;\n                }\n                case 'dataSource':\n                    this.isDataSourceUpdate = true;\n                    this.jsonData = [].slice.call(this.dataSource);\n                    break;\n            }\n        }\n    };\n    var ListBox_1;\n    __decorate([\n        Property('')\n    ], ListBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property([])\n    ], ListBox.prototype, \"value\", void 0);\n    __decorate([\n        Property('')\n    ], ListBox.prototype, \"height\", void 0);\n    __decorate([\n        Property(true)\n    ], ListBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property(1000)\n    ], ListBox.prototype, \"maximumSelectionLength\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property('')\n    ], ListBox.prototype, \"scope\", void 0);\n    __decorate([\n        Property(true)\n    ], ListBox.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(null)\n    ], ListBox.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property('None')\n    ], ListBox.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"beforeDrop\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"drop\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"dataBound\", void 0);\n    __decorate([\n        Property(null)\n    ], ListBox.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('Request failed')\n    ], ListBox.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property(1000)\n    ], ListBox.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Complex({}, ToolbarSettings)\n    ], ListBox.prototype, \"toolbarSettings\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], ListBox.prototype, \"selectionSettings\", void 0);\n    ListBox = ListBox_1 = __decorate([\n        NotifyPropertyChanges\n    ], ListBox);\n    return ListBox;\n}(DropDownBase));\nexport { ListBox };\nvar listBoxClasses = {\n    backIcon: 'e-input-group-icon e-back-icon e-icons',\n    filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n    filterInput: 'e-input-filter',\n    filterParent: 'e-filter-parent',\n    clearIcon: 'e-clear-icon'\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { compile, Property, EventHandler, Animation, formatUnit, append, attributes } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, detach, Event, Complex, addClass, removeClass, closest, isUndefined, getValue, NotifyPropertyChanges, Browser } from '@syncfusion/ej2-base';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { Popup, isCollide, createSpinner, showSpinner, hideSpinner, getZindexPartial } from '@syncfusion/ej2-popups';\nimport { highlightSearch, revertHighlightSearch } from '../common/highlight-search';\n/**\n * The Mention component is used to list someone or something based on user input in textarea, input,\n * or any other editable element from which the user can select.\n */\nvar Mention = /** @class */ (function (_super) {\n    __extends(Mention, _super);\n    /**\n     * * Constructor for creating the widget\n     *\n     * @param {MentionModel} options - Specifies the MentionComponent model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function Mention(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n     *\n     * @param {MentionModel} newProp - Returns the dynamic property value of the component.\n     * @param {MentionModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    Mention.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'minLength':\n                    this.minLength = newProp.minLength;\n                    break;\n                case 'suffixText':\n                    this.suffixText = newProp.suffixText;\n                    break;\n                case 'allowSpaces':\n                    this.allowSpaces = newProp.allowSpaces;\n                    break;\n                case 'mentionChar':\n                    this.mentionChar = newProp.mentionChar;\n                    break;\n                case 'showMentionChar':\n                    this.showMentionChar = newProp.showMentionChar;\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n            }\n        }\n    };\n    Mention.prototype.updateCssClass = function (newClass, oldClass) {\n        if (!isNullOrUndefined(oldClass)) {\n            oldClass = (oldClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newClass)) {\n            newClass = (newClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.setCssClass(newClass, [this.inputElement], oldClass);\n        if (this.popupObj) {\n            this.setCssClass(newClass, [this.popupObj.element], oldClass);\n        }\n    };\n    Mention.prototype.setCssClass = function (cssClass, elements, oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNullOrUndefined(cssClass) && cssClass !== '') {\n            addClass(elements, cssClass.split(' '));\n        }\n    };\n    Mention.prototype.initializeData = function () {\n        this.isSelected = false;\n        this.isFiltered = false;\n        this.beforePopupOpen = false;\n        this.initRemoteRender = false;\n        this.isListResetted = false;\n        this.isPopupOpen = false;\n        this.isCollided = false;\n        this.lineBreak = false;\n        this.isRTE = false;\n        this.keyEventName = 'mousedown';\n    };\n    /**\n     * Execute before render the list items\n     *\n     * @private\n     * @returns {void}\n     */\n    Mention.prototype.preRender = function () {\n        this.initializeData();\n        _super.prototype.preRender.call(this);\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    Mention.prototype.render = function () {\n        var isSelector = typeof this.target === 'string';\n        this.inputElement = !isNullOrUndefined(this.target) ?\n            this.checkAndUpdateInternalComponent(isSelector\n                ? document.querySelector(this.target)\n                : this.target) : this.element;\n        if (this.isContentEditable(this.inputElement)) {\n            this.inputElement.setAttribute('contenteditable', 'true');\n            addClass([this.inputElement], ['e-mention']);\n            if (isNullOrUndefined(this.target)) {\n                addClass([this.inputElement], ['e-editable-element']);\n            }\n        }\n        this.inputElement.setAttribute('role', 'textbox');\n        this.inputElement.setAttribute('aria-label', 'mention');\n        this.queryString = this.elementValue();\n        this.wireEvent();\n    };\n    Mention.prototype.wireEvent = function () {\n        EventHandler.add(this.inputElement, 'keyup', this.onKeyUp, this);\n        this.bindCommonEvent();\n    };\n    Mention.prototype.unWireEvent = function () {\n        EventHandler.remove(this.inputElement, 'keyup', this.onKeyUp);\n        this.unBindCommonEvent();\n    };\n    Mention.prototype.bindCommonEvent = function () {\n        if (!Browser.isDevice) {\n            this.inputElement.addEventListener('keydown', this.keyDownHandler.bind(this), !this.isRTE);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @private\n     * @returns {void}\n     */\n    Mention.prototype.hideSpinner = function () {\n        this.hideWaitingSpinner();\n    };\n    Mention.prototype.hideWaitingSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n        }\n        if (!isNullOrUndefined(this.spinnerTemplate) && !isNullOrUndefined(this.spinnerTemplateElement)) {\n            detach(this.spinnerTemplateElement);\n        }\n    };\n    Mention.prototype.checkAndUpdateInternalComponent = function (targetElement) {\n        if (!this.isVue && targetElement.classList.contains('e-richtexteditor')) {\n            return targetElement.querySelector('.e-content');\n        }\n        if (this.isVue && targetElement.nodeName === 'TEXTAREA' && targetElement.classList.contains('e-rte-hidden')) {\n            var parentElement = targetElement.parentElement;\n            if (parentElement && parentElement.classList.contains('e-richtexteditor')) {\n                return parentElement.querySelector('.e-content');\n            }\n        }\n        if (targetElement && targetElement.parentElement && targetElement.parentElement.classList.contains('e-rte-content')) {\n            this.isRTE = true;\n            this.keyEventName = 'click';\n        }\n        return targetElement;\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.showWaitingSpinner = function () {\n        if (!isNullOrUndefined(this.popupObj)) {\n            if (isNullOrUndefined(this.spinnerTemplate) && isNullOrUndefined(this.spinnerElement)) {\n                this.spinnerElement = this.popupObj.element;\n                createSpinner({\n                    target: this.spinnerElement,\n                    width: Browser.isDevice ? '16px' : '14px'\n                }, this.createElement);\n                showSpinner(this.spinnerElement);\n            }\n            if (!isNullOrUndefined(this.spinnerTemplate)) {\n                this.setSpinnerTemplate();\n            }\n        }\n    };\n    Mention.prototype.keyDownHandler = function (e) {\n        var isKeyAction = true;\n        switch (e.keyCode) {\n            case 38:\n                e.action = e.altKey ? 'hide' : 'up';\n                break;\n            case 40:\n                e.action = e.altKey ? 'open' : 'down';\n                break;\n            case 33:\n                e.action = 'pageUp';\n                break;\n            case 34:\n                e.action = 'pageDown';\n                break;\n            case 36:\n                e.action = 'home';\n                break;\n            case 35:\n                e.action = 'end';\n                break;\n            case 9:\n                e.action = e.shiftKey ? 'close' : 'tab';\n                break;\n            case 27:\n                e.action = 'escape';\n                break;\n            case 32:\n                e.action = 'space';\n                break;\n            case 13:\n                e.action = 'enter';\n                break;\n            default:\n                isKeyAction = false;\n                break;\n        }\n        if (isKeyAction) {\n            this.keyActionHandler(e);\n        }\n    };\n    Mention.prototype.keyActionHandler = function (e) {\n        var isNavigation = (e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown'\n            || e.action === 'home' || e.action === 'end');\n        var isTabAction = e.action === 'tab' || e.action === 'close';\n        if (this.list === undefined && !this.isRequested && !isTabAction && e.action !== 'escape' && e.action !== 'space' && this.mentionChar.charCodeAt(0) === this.getLastLetter(this.getTextRange()).charCodeAt(0)) {\n            this.renderList();\n        }\n        if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n            isNavigation && this.liCollections.length === 0) || this.isRequested) {\n            return;\n        }\n        if (e.action === 'escape') {\n            e.preventDefault();\n        }\n        this.isSelected = e.action === 'escape' ? false : this.isSelected;\n        switch (e.action) {\n            case 'down':\n            case 'up':\n                this.isUpDownKey = true;\n                this.updateUpDownAction(e);\n                break;\n            case 'tab':\n                if (this.isPopupOpen) {\n                    e.preventDefault();\n                    var li = this.list.querySelector('.' + dropDownBaseClasses.selected);\n                    if (li) {\n                        this.setSelection(li, e);\n                    }\n                    if (this.isPopupOpen) {\n                        this.hidePopup(e);\n                    }\n                }\n                break;\n            case 'enter':\n                if (this.isPopupOpen) {\n                    e.preventDefault();\n                    if (this.popupObj && this.popupObj.element.contains(this.selectedLI)) {\n                        this.updateSelectedItem(this.selectedLI, e, false, true);\n                    }\n                }\n                break;\n            case 'escape':\n                if (this.isPopupOpen) {\n                    this.hidePopup(e);\n                }\n                break;\n        }\n    };\n    Mention.prototype.updateUpDownAction = function (e) {\n        if (this.fields.disabled && this.list && this.list.querySelectorAll('.e-list-item:not(.e-disabled)').length === 0) {\n            return;\n        }\n        var focusEle = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (this.isSelectFocusItem(focusEle)) {\n            this.setSelection(focusEle, e);\n        }\n        else if (!isNullOrUndefined(this.liCollections)) {\n            var li = this.list.querySelector('.' + dropDownBaseClasses.selected);\n            if (!isNullOrUndefined(li)) {\n                var value = this.getFormattedValue(li.getAttribute('data-value'));\n                this.activeIndex = this.getIndexByValue(value);\n            }\n            var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n            var startIndex = 0;\n            startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n            index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n            var nextItem = isNullOrUndefined(this.activeIndex) ?\n                this.liCollections[startIndex] : this.liCollections[index];\n            if (!isNullOrUndefined(nextItem)) {\n                this.setSelection(nextItem, e);\n            }\n        }\n        var itemIndex;\n        for (var index = 0; index < this.liCollections.length; index++) {\n            if (this.liCollections[index].classList.contains(dropDownBaseClasses.focus)\n                || this.liCollections[index].classList.contains(dropDownBaseClasses.selected)) {\n                itemIndex = index;\n                break;\n            }\n        }\n        if (itemIndex != null && this.isDisabledElement(this.liCollections[itemIndex])) {\n            this.updateUpDownAction(e);\n        }\n        if (this.isPopupOpen) {\n            e.preventDefault();\n        }\n    };\n    Mention.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    Mention.prototype.unBindCommonEvent = function () {\n        if (!Browser.isDevice) {\n            this.inputElement.removeEventListener('keydown', this.keyDownHandler.bind(this), !this.isRTE);\n        }\n    };\n    Mention.prototype.onKeyUp = function (e) {\n        var rangetextContent;\n        if (this.isUpDownKey && this.isPopupOpen && e.keyCode === 229) {\n            this.isUpDownKey = false;\n            return;\n        }\n        this.isTyped = e.code !== 'Enter' && e.code !== 'Space' && e.code !== 'ArrowDown' && e.code !== 'ArrowUp' ? true : false;\n        var isRteImage = document.activeElement.parentElement && document.activeElement.parentElement.querySelector('.e-rte-image') ? true : false;\n        if (document.activeElement !== this.inputElement && !isRteImage) {\n            this.inputElement.focus();\n        }\n        if (this.isContentEditable(this.inputElement)) {\n            this.range = this.getCurrentRange();\n            rangetextContent = this.range.startContainer.textContent.split('');\n        }\n        var currentRange = this.getTextRange();\n        var lastWordRange = this.getLastLetter(currentRange);\n        var lastTwoLetters = this.mentionChar.toString() + this.mentionChar.toString();\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        var Regex = new RegExp(this.mentionChar.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&'), 'g');\n        var charRegex = new RegExp('[a-zA-Z]', 'g');\n        if (e.key === 'Shift' || e.keyCode === 37 || e.keyCode === 39) {\n            return;\n        }\n        if (this.beforePopupOpen && this.isPopupOpen && lastWordRange === lastTwoLetters) {\n            this.hidePopup();\n            return;\n        }\n        if ((!currentRange || !lastWordRange) || e.code === 'Enter' || e.keyCode === 27 ||\n            (lastWordRange.match(Regex) && lastWordRange.match(Regex).length > 1) ||\n            (this.isContentEditable(this.inputElement) && this.range.startContainer &&\n                this.range.startContainer.previousElementSibling && this.range.startContainer.previousElementSibling.tagName !== 'BR' && this.range.startContainer.textContent.split('').length > 0 &&\n                (rangetextContent.length === 1 || rangetextContent[rangetextContent.length - 2].indexOf('') === -1 ||\n                    this.range.startContainer.nodeType === 1))) {\n            if (this.isPopupOpen && this.allowSpaces && currentRange && currentRange.trim() !== '' && charRegex.test(currentRange) && currentRange.indexOf(this.mentionChar) !== -1\n                && !this.isMatchedText() && (currentRange.length > 1 && currentRange.replace(/\\u00A0/g, ' ').charAt(currentRange.length - 2) !== ' ') &&\n                (this.list && this.list.querySelectorAll('ul').length > 0) && e.code !== 'Enter') {\n                this.queryString = currentRange.substring(currentRange.lastIndexOf(this.mentionChar) + 1).replace('\\u00a0', ' ');\n                this.searchLists(e);\n            }\n            else if (this.isPopupOpen && (!this.allowSpaces || !lastWordRange) && (e.code !== 'ArrowDown' && e.code !== 'ArrowUp')) {\n                this.hidePopup();\n                this.lineBreak = true;\n            }\n            return;\n        }\n        if (lastWordRange.includes(this.mentionChar)) {\n            this.queryString = lastWordRange.replace(this.mentionChar, '');\n        }\n        if (this.mentionChar.charCodeAt(0) === lastWordRange.charCodeAt(0) &&\n            this.queryString !== '' && e.keyCode !== 38 && e.keyCode !== 40 && !this.lineBreak) {\n            this.searchLists(e);\n            if (!this.isPopupOpen && this.queryString.length >= this.minLength) {\n                if (!this.isContentEditable(this.inputElement)) {\n                    this.showPopup();\n                }\n                else if (this.isContentEditable(this.inputElement) && this.range &&\n                    this.range.startContainer !== this.inputElement && e.keyCode !== 9) {\n                    this.showPopup();\n                }\n            }\n        }\n        else if (lastWordRange.indexOf(this.mentionChar) === 0 && !this.isPopupOpen && e.keyCode !== 8 && (!this.popupObj ||\n            (isNullOrUndefined(this.target) && !document.body.contains(this.popupObj.element) ||\n                !isNullOrUndefined(this.target) && document.body.contains(this.popupObj.element)))) {\n            if (this.initRemoteRender && this.list && this.list.classList.contains('e-nodata')) {\n                this.searchLists(e);\n            }\n            this.resetList(this.dataSource, this.fields);\n            if (isNullOrUndefined(this.list)) {\n                this.initValue();\n            }\n            if (!this.isPopupOpen && e.keyCode !== 38 && e.keyCode !== 40 && this.queryString.length >= this.minLength) {\n                this.didPopupOpenByTypingInitialChar = true;\n                this.showPopup();\n                if (this.initRemoteRender && this.list.querySelectorAll('li').length === 0) {\n                    this.showWaitingSpinner();\n                }\n                this.lineBreak = false;\n            }\n        }\n        else if (this.allowSpaces && this.queryString !== '' && currentRange && currentRange.trim() !== '' && currentRange.replace('\\u00a0', ' ').lastIndexOf(' ') < currentRange.length - 1 &&\n            e.keyCode !== 38 && e.keyCode !== 40 && e.keyCode !== 8 && (this.mentionChar.charCodeAt(0) === lastWordRange.charCodeAt(0) ||\n            (this.liCollections && this.liCollections.length > 0))) {\n            this.queryString = currentRange.substring(currentRange.lastIndexOf(this.mentionChar) + 1).replace('\\u00a0', ' ');\n            this.searchLists(e);\n        }\n        else if (this.queryString === '' && this.isPopupOpen && e.keyCode !== 38 && e.keyCode !== 40 && this.mentionChar.charCodeAt(0) === lastWordRange.charCodeAt(0)) {\n            this.searchLists(e);\n            if (!this.isListResetted) {\n                this.resetList(this.dataSource, this.fields);\n            }\n        }\n        this.isListResetted = false;\n    };\n    Mention.prototype.isMatchedText = function () {\n        var isMatched = false;\n        for (var i = 0; i < (this.liCollections && this.liCollections.length); i++) {\n            if (this.getTextRange() &&\n                this.getTextRange().substring(this.getTextRange().lastIndexOf(this.mentionChar) + 1).replace('\\u00a0', ' ').trim() === this.liCollections[i].getAttribute('data-value').toLowerCase()) {\n                isMatched = true;\n            }\n        }\n        return isMatched;\n    };\n    Mention.prototype.getCurrentRange = function () {\n        this.range = this.inputElement.ownerDocument.getSelection().getRangeAt(0);\n        return this.range;\n    };\n    Mention.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isDataFetched = false;\n        if (isNullOrUndefined(this.list)) {\n            _super.prototype.render.call(this);\n            this.unWireListEvents();\n            this.wireListEvents();\n        }\n        if (e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38)) {\n            this.queryString = this.queryString === '' ? null : this.queryString;\n            this.beforePopupOpen = true;\n            this.resetList(this.dataSource, this.fields);\n            return;\n        }\n        this.isSelected = false;\n        this.activeIndex = null;\n        var eventArgs = {\n            preventDefaultAction: false,\n            text: this.queryString,\n            updateData: function (dataSource, query, fields) {\n                if (eventArgs.cancel) {\n                    return;\n                }\n                _this.isFiltered = true;\n                _this.filterAction(dataSource, query, fields);\n            },\n            cancel: false\n        };\n        this.trigger('filtering', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && !_this.isFiltered && !eventArgs.preventDefaultAction) {\n                _this.filterAction(_this.dataSource, null, _this.fields);\n            }\n        });\n    };\n    Mention.prototype.filterAction = function (dataSource, query, fields) {\n        this.beforePopupOpen = true;\n        if (this.queryString.length >= this.minLength) {\n            this.resetList(dataSource, fields, query);\n            this.isListResetted = true;\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            this.beforePopupOpen = false;\n        }\n        this.setDataIndex();\n        this.renderReactTemplates();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Mention.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.isActive) {\n            if (!isNullOrUndefined(ulElement)) {\n                attributes(ulElement, { 'id': this.inputElement.id + '_options', 'role': 'listbox', 'aria-hidden': 'false' });\n                var isRTESlashMenuPopup = this.isRTE && this.cssClass && this.cssClass.indexOf('e-slash-menu') > -1;\n                if (isRTESlashMenuPopup) {\n                    ulElement.id = this.inputElement.id + '_slash_menu_options';\n                }\n            }\n            var focusItem = this.fields.disabled ? ulElement.querySelector('.' + dropDownBaseClasses.li + ':not(.e-disabled)') : ulElement.querySelector('.' + dropDownBaseClasses.li);\n            if (focusItem) {\n                focusItem.classList.add(dropDownBaseClasses.selected);\n                this.selectedLI = focusItem;\n                var value = this.getFormattedValue(focusItem.getAttribute('data-value'));\n                this.selectEventCallback(focusItem, this.getDataByValue(value), value, true);\n            }\n            if (this.beforePopupOpen && this.isPopupOpen) {\n                if (!isNullOrUndefined(this.popupObj.element)) {\n                    this.popupObj.element.remove();\n                }\n                this.renderPopup();\n            }\n        }\n    };\n    Mention.prototype.setDataIndex = function () {\n        for (var i = 0; this.liCollections && i < this.liCollections.length; i++) {\n            this.liCollections[i].setAttribute('data-index', i.toString());\n        }\n    };\n    Mention.prototype.listOption = function (dataSource, fieldsSettings) {\n        var _this = this;\n        var fields = _super.prototype.listOption.call(this, dataSource, fieldsSettings);\n        if (isNullOrUndefined(fields.itemCreated)) {\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    if (_this.inputElement.tagName === _this.getNgDirective() && _this.itemTemplate) {\n                        setTimeout(function () {\n                            highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                        }, 0);\n                    }\n                    else {\n                        highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                    }\n                }\n            };\n        }\n        else {\n            var itemCreated_1 = fields.itemCreated;\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                }\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n        return fields;\n    };\n    Mention.prototype.elementValue = function () {\n        if (!this.isContentEditable(this.inputElement)) {\n            return this.inputElement.value.replace(this.mentionChar, '');\n        }\n        else {\n            return this.inputElement.textContent.replace(this.mentionChar, '');\n        }\n    };\n    Mention.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        var filterType = (this.queryString === '' && !isNullOrUndefined(this.elementValue())) ? 'equal' : this.filterType;\n        var queryString = (this.queryString === '' && !isNullOrUndefined(this.elementValue())) ?\n            this.elementValue() : this.queryString;\n        if (this.isFiltered) {\n            return filterQuery;\n        }\n        if (this.queryString !== null && this.queryString !== '') {\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var mapping = !isNullOrUndefined(this.fields.text) ? this.fields.text : '';\n                filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        if (!isNullOrUndefined(this.suggestionCount)) {\n            // Since defualt value of suggestioncount is 25, checked the condition\n            if (this.suggestionCount !== 25) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        filterQuery.queries.splice(queryElements, 1);\n                    }\n                }\n            }\n            filterQuery.take(this.suggestionCount);\n        }\n        return filterQuery;\n    };\n    Mention.prototype.renderHightSearch = function () {\n        if (this.highlight) {\n            for (var i = 0; i < this.liCollections.length; i++) {\n                var isHighlight = this.ulElement.querySelector('.e-active');\n                if (!isHighlight) {\n                    revertHighlightSearch(this.liCollections[i]);\n                    highlightSearch(this.liCollections[i], this.queryString, this.ignoreCase, this.filterType);\n                }\n            }\n        }\n    };\n    Mention.prototype.getTextRange = function () {\n        var text;\n        if (!this.isContentEditable(this.inputElement)) {\n            var component = this.inputElement;\n            if (!isNullOrUndefined(component)) {\n                var startPos = component.selectionStart;\n                if (component.value && startPos >= 0) {\n                    text = component.value.substring(0, startPos);\n                }\n            }\n        }\n        else {\n            if (this.range) {\n                var selectedElem = this.range.startContainer;\n                if (!isNullOrUndefined(selectedElem)) {\n                    var workingNodeContent = selectedElem.textContent;\n                    var selectStartOffset = this.range.startOffset;\n                    if (workingNodeContent && selectStartOffset >= 0) {\n                        text = workingNodeContent.substring(0, selectStartOffset);\n                    }\n                }\n            }\n        }\n        return text;\n    };\n    Mention.prototype.getLastLetter = function (text) {\n        if (isNullOrUndefined(text)) {\n            return '';\n        }\n        var textValue = text.indexOf('\\u200B') > -1 ? text.replace(/\\u200B/g, '').replace(/\\u00A0/g, ' ') : text.replace(/\\u00A0/g, ' ');\n        var words = textValue.split(/\\s+/);\n        var wordCnt = words.length - 1;\n        return words[wordCnt].trim();\n    };\n    Mention.prototype.isContentEditable = function (element) {\n        return element && element.nodeName !== 'INPUT' && element.nodeName !== 'TEXTAREA';\n    };\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.showPopup = function () {\n        this.beforePopupOpen = true;\n        if (document.activeElement !== this.inputElement) {\n            this.inputElement.focus();\n        }\n        this.queryString = this.didPopupOpenByTypingInitialChar ? this.queryString : '';\n        this.didPopupOpenByTypingInitialChar = false;\n        if (this.isContentEditable(this.inputElement)) {\n            this.range = this.getCurrentRange();\n        }\n        if (!this.isTyped) {\n            this.resetList(this.dataSource, this.fields);\n        }\n        if (isNullOrUndefined(this.list)) {\n            this.initValue();\n        }\n        this.renderPopup();\n        attributes(this.inputElement, { 'aria-activedescendant': this.selectedElementID });\n        if (this.selectedElementID == null) {\n            this.inputElement.removeAttribute('aria-activedescendant');\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in an open state.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.hidePopup = function (e) {\n        this.removeSelection();\n        this.closePopup(0, e);\n    };\n    Mention.prototype.closePopup = function (delay, e) {\n        var _this = this;\n        if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n            return;\n        }\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.inputElement.removeAttribute('aria-owns');\n        this.inputElement.removeAttribute('aria-activedescendant');\n        this.beforePopupOpen = false;\n        var animModel = {\n            name: 'FadeOut',\n            duration: 100,\n            delay: delay ? delay : 0\n        };\n        var popupInstance = this.popupObj;\n        var eventArgs = { popup: popupInstance, cancel: false, animation: animModel, event: e || null };\n        this.trigger('closed', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && _this.popupObj) {\n                if (_this.isPopupOpen) {\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                }\n                else {\n                    _this.destroyPopup();\n                }\n            }\n        });\n    };\n    Mention.prototype.renderPopup = function () {\n        var _this = this;\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                var popupEle_1;\n                if (isNullOrUndefined(_this.target)) {\n                    popupEle_1 = _this.createElement('div', {\n                        id: _this.inputElement.id + '_popup', className: 'e-mention e-popup ' + (_this.cssClass != null ? _this.cssClass : '')\n                    });\n                }\n                else {\n                    popupEle_1 = _this.element;\n                    if (_this.cssClass != null) {\n                        addClass([popupEle_1], _this.cssClass.split(' '));\n                    }\n                }\n                var isRTESlashMenuPopup = _this.isRTE && _this.cssClass && _this.cssClass.indexOf('e-slash-menu') > -1;\n                if (isRTESlashMenuPopup) {\n                    popupEle_1.id = _this.inputElement.id + '_slash_menu_popup';\n                }\n                else {\n                    if (!isNullOrUndefined(_this.target)) {\n                        popupEle_1.id = _this.inputElement.id + '_popup';\n                    }\n                }\n                _this.listHeight = formatUnit(_this.popupHeight);\n                if (!isNullOrUndefined(_this.list.querySelector('li')) && !_this.initRemoteRender) {\n                    var li = _this.list.querySelector('.' + dropDownBaseClasses.focus);\n                    if (!isNullOrUndefined(li)) {\n                        _this.selectedLI = li;\n                        var value = _this.getFormattedValue(li.getAttribute('data-value'));\n                        _this.selectEventCallback(li, _this.getDataByValue(value), value, true);\n                    }\n                }\n                append([_this.list], popupEle_1);\n                if (_this.inputElement.parentElement) {\n                    var rteRootElement = _this.inputElement.parentElement.closest('.e-richtexteditor');\n                    if (rteRootElement && popupEle_1.firstElementChild && popupEle_1.firstElementChild.childElementCount > 0) {\n                        popupEle_1.firstElementChild.setAttribute('aria-owns', rteRootElement.id);\n                        addClass([popupEle_1], 'e-rte-elements');\n                    }\n                }\n                if ((!_this.popupObj || !document.body.contains(_this.popupObj.element)) ||\n                    !document.contains(popupEle_1) && isNullOrUndefined(_this.target)) {\n                    document.body.appendChild(popupEle_1);\n                }\n                var coordinates_1;\n                popupEle_1.style.visibility = 'hidden';\n                _this.setHeight(popupEle_1);\n                var offsetValue = 0;\n                var left = 0;\n                _this.initializePopup(popupEle_1, offsetValue, left);\n                _this.checkCollision(popupEle_1);\n                popupEle_1.style.visibility = 'visible';\n                var popupLeft_1 = popupEle_1.parentElement.offsetWidth - popupEle_1.offsetWidth;\n                var popupHeight_1 = popupEle_1.offsetHeight;\n                addClass([popupEle_1], ['e-mention', 'e-popup', 'e-popup-close']);\n                if (!isNullOrUndefined(_this.list)) {\n                    _this.unWireListEvents();\n                    _this.wireListEvents();\n                }\n                _this.selectedElementID = _this.selectedLI ? _this.selectedLI.id : null;\n                attributes(_this.inputElement, { 'aria-owns': _this.inputElement.id + '_options', 'aria-activedescendant': _this.selectedElementID });\n                if (_this.selectedElementID == null) {\n                    _this.inputElement.removeAttribute('aria-activedescendant');\n                }\n                var animModel = { name: 'FadeIn', duration: 100 };\n                _this.beforePopupOpen = true;\n                var popupInstance = _this.popupObj;\n                var eventArgs = { popup: popupInstance, cancel: false, animation: animModel };\n                _this.trigger('opened', eventArgs, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        _this.renderReactTemplates();\n                        if (_this.popupObj) {\n                            _this.popupObj.show(new Animation(eventArgs.animation), (_this.zIndex === 1000) ? _this.inputElement : null);\n                        }\n                        if (isNullOrUndefined(_this.getTriggerCharPosition())) {\n                            return;\n                        }\n                        coordinates_1 = _this.getCoordinates(_this.inputElement, _this.getTriggerCharPosition());\n                        if (!_this.isCollided) {\n                            popupEle_1.style.cssText = 'top: '.concat(coordinates_1.top.toString(), 'px;\\n left: ').concat(coordinates_1.left.toString(), 'px;\\nposition: absolute;\\n display: block;');\n                        }\n                        else {\n                            if (_this.collision.length > 0 && _this.collision.indexOf('right') > -1 && _this.collision.indexOf('bottom') === -1) {\n                                popupEle_1.style.cssText = 'top: '.concat(coordinates_1.top.toString(), 'px;\\n left: ').concat(popupLeft_1.toString(), 'px;\\nposition: absolute;\\n display: block;');\n                            }\n                            else if (_this.collision && _this.collision.length > 0 && _this.collision.indexOf('bottom') > -1 && _this.collision.indexOf('right') === -1) {\n                                popupEle_1.style.left = formatUnit(coordinates_1.left);\n                                popupEle_1.style.top = formatUnit(coordinates_1.top - parseInt(popupHeight_1.toString(), 10));\n                            }\n                            else if (_this.collision && _this.collision.length > 0 && _this.collision.indexOf('bottom') > -1 && _this.collision.indexOf('right') > -1) {\n                                popupEle_1.style.left = formatUnit(popupLeft_1);\n                                popupEle_1.style.top = formatUnit(coordinates_1.top - parseInt(popupHeight_1.toString(), 10));\n                            }\n                            else {\n                                popupEle_1.style.left = formatUnit(coordinates_1.left);\n                                popupEle_1.style.top = formatUnit(coordinates_1.top - parseInt(_this.popupHeight.toString(), 10));\n                            }\n                            _this.isCollided = false;\n                            _this.collision = [];\n                        }\n                        popupEle_1.style.width = _this.popupWidth !== '100%' && !isNullOrUndefined(_this.popupWidth) ? formatUnit(_this.popupWidth) : 'auto';\n                        _this.setHeight(popupEle_1);\n                        popupEle_1.style.zIndex = _this.zIndex === 1000 ? getZindexPartial(popupEle_1).toString() : _this.zIndex.toString();\n                    }\n                    else {\n                        _this.beforePopupOpen = false;\n                        _this.destroyPopup();\n                    }\n                });\n            }\n            else {\n                _this.beforePopupOpen = false;\n            }\n        });\n    };\n    Mention.prototype.setHeight = function (popupEle) {\n        if (this.popupHeight !== 'auto' && this.list) {\n            this.list.style.maxHeight = (parseInt(this.listHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n            popupEle.style.maxHeight = formatUnit(this.popupHeight);\n        }\n        else {\n            popupEle.style.height = 'auto';\n        }\n    };\n    Mention.prototype.checkCollision = function (popupEle) {\n        if (!Browser.isDevice || (Browser.isDevice && !(this.getModuleName() === 'mention'))) {\n            var coordinates = this.getCoordinates(this.inputElement, this.getTriggerCharPosition());\n            this.collision = isCollide(popupEle, null, coordinates.left, coordinates.top);\n            if (this.collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n                this.isCollided = true;\n            }\n            this.popupObj.resolveCollision();\n        }\n    };\n    Mention.prototype.getTriggerCharPosition = function () {\n        var mostRecentTriggerCharPos;\n        var currentRange = this.getTextRange();\n        if (currentRange !== undefined && currentRange !== null) {\n            mostRecentTriggerCharPos = 0;\n            var idx = currentRange.lastIndexOf(this.mentionChar);\n            if (idx >= mostRecentTriggerCharPos) {\n                mostRecentTriggerCharPos = idx;\n            }\n        }\n        return mostRecentTriggerCharPos ? mostRecentTriggerCharPos : 0;\n    };\n    Mention.prototype.initializePopup = function (element, offsetValue, left) {\n        var _this = this;\n        this.popupObj = new Popup(element, {\n            width: this.setWidth(), targetType: 'relative',\n            relateTo: this.inputElement, collision: { X: 'flip', Y: 'flip' }, offsetY: offsetValue,\n            enableRtl: this.enableRtl, offsetX: left, position: { X: 'left', Y: 'bottom' }, actionOnScroll: 'hide',\n            zIndex: this.zIndex,\n            close: function () {\n                _this.destroyPopup();\n            },\n            open: function () {\n                EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                _this.isPopupOpen = true;\n                _this.setDataIndex();\n            }\n        });\n    };\n    Mention.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.inputElement.offsetWidth * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    Mention.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        this.popupObj.destroy();\n        if (isNullOrUndefined(this.target)) {\n            detach(this.popupObj.element);\n        }\n        else {\n            this.popupObj.element.innerHTML = '';\n            this.popupObj.element.removeAttribute('style');\n            this.popupObj.element.removeAttribute('aria-disabled');\n        }\n        if (this.list.classList.contains('e-nodata')) {\n            this.list = null;\n        }\n    };\n    Mention.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!(!isNullOrUndefined(this.popupObj) && closest(target, '#' + this.popupObj.element.id))) {\n            this.hidePopup(e);\n        }\n    };\n    Mention.prototype.getCoordinates = function (element, position) {\n        var properties = ['direction', 'boxSizing', 'width', 'height', 'overflowX', 'overflowY', 'borderTopWidth', 'borderRightWidth', 'borderBottomWidth', 'borderLeftWidth', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft', 'fontStyle', 'fontVariant', 'fontWeight', 'fontStretch', 'fontSize', 'fontSizeAdjust', 'lineHeight', 'fontFamily', 'textAlign', 'textTransform', 'textIndent', 'textDecoration', 'letterSpacing', 'wordSpacing'];\n        var div;\n        var span;\n        var range;\n        var globalRange;\n        var coordinates;\n        var computed;\n        var rect;\n        if (!this.isContentEditable(this.inputElement)) {\n            div = this.createElement('div', { className: 'e-form-mirror-div' });\n            document.body.appendChild(div);\n            computed = getComputedStyle(element);\n            div.style.position = 'absolute';\n            div.style.visibility = 'hidden';\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            properties.forEach(function (prop) {\n                // eslint-disable-next-line security/detect-object-injection\n                div.style[prop] = computed[prop];\n            });\n            div.textContent = element.value.substring(0, position);\n            if (this.inputElement.nodeName === 'INPUT') {\n                div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n            }\n            span = this.createElement('span');\n            span.textContent = element.value.substring(position) || '.';\n            div.appendChild(span);\n            rect = element.getBoundingClientRect();\n        }\n        else {\n            var selectedNodePosition = this.getTriggerCharPosition();\n            globalRange = this.range;\n            range = document.createRange();\n            if (this.getTextRange() && this.getTextRange().lastIndexOf(this.mentionChar) !== -1) {\n                range.setStart(globalRange.startContainer, selectedNodePosition);\n                range.setEnd(globalRange.startContainer, selectedNodePosition);\n            }\n            else {\n                range.setStart(globalRange.startContainer, globalRange.startOffset);\n                range.setEnd(globalRange.startContainer, globalRange.endOffset);\n            }\n            this.isTyped = false;\n            range.collapse(false);\n            rect = range.getBoundingClientRect().top === 0 ? range.startContainer.getClientRects()[0] :\n                range.getBoundingClientRect();\n        }\n        var rectTop = rect.top;\n        var rectLeft = rect.left;\n        var iframes = document.querySelectorAll('iframe');\n        if (iframes.length > 0) {\n            for (var i = 0; i < iframes.length; i++) {\n                // eslint-disable-next-line security/detect-object-injection\n                var iframe = iframes[i];\n                if (iframe.contentDocument && iframe.contentDocument.contains(element)) {\n                    var iframeRect = iframe.getBoundingClientRect();\n                    rectTop += iframeRect.top;\n                    rectLeft += iframeRect.left;\n                }\n            }\n        }\n        var doc = document.documentElement;\n        var windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n        var windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n        var width = 0;\n        if (!isNullOrUndefined(range) && range.getBoundingClientRect().top === 0) {\n            for (var i = 0; i < this.range.startContainer.childNodes.length; i++) {\n                if (this.range.startContainer.childNodes[i].nodeType !== Node.TEXT_NODE && this.range.startContainer.childNodes[i].textContent.trim() !== '') {\n                    width += this.range.startContainer.childNodes[i].getClientRects()[0].width;\n                }\n                else if (this.range.startContainer.childNodes[i].textContent !== '') {\n                    var span_1 = document.createElement('span');\n                    span_1.innerHTML = this.range.startContainer.childNodes[i].nodeValue;\n                    document.body.appendChild(span_1);\n                    var textNodeWidth = span_1.offsetWidth;\n                    document.body.removeChild(span_1);\n                    width += textNodeWidth;\n                }\n            }\n        }\n        if (!this.isContentEditable(this.inputElement)) {\n            coordinates = {\n                top: rectTop + windowTop + span.offsetTop + parseInt(computed.borderTopWidth, 10) +\n                    parseInt(computed.fontSize, 10) + 3 - element.scrollTop -\n                    (this.isCollided ? 10 : 0),\n                left: rectLeft + windowLeft + span.offsetLeft + parseInt(computed.borderLeftWidth, 10)\n            };\n            document.body.removeChild(div);\n        }\n        else {\n            if (this.collision && this.collision.length > 0 && this.collision.indexOf('right') > -1 && this.collision.indexOf('bottom') === -1) {\n                coordinates = {\n                    top: rectTop + windowTop + parseInt(getComputedStyle(this.inputElement).fontSize, 10),\n                    left: rectLeft + windowLeft + width\n                };\n            }\n            else {\n                coordinates = {\n                    top: rectTop + windowTop + parseInt(getComputedStyle(this.inputElement).fontSize, 10) - (this.isCollided ? 10 : 0),\n                    left: rectLeft + windowLeft + width\n                };\n            }\n        }\n        return coordinates;\n    };\n    Mention.prototype.initValue = function () {\n        this.isDataFetched = false;\n        this.renderList();\n        if (this.dataSource instanceof DataManager) {\n            this.initRemoteRender = true;\n        }\n        else {\n            this.updateValues();\n        }\n    };\n    Mention.prototype.updateValues = function () {\n        var li = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (!isNullOrUndefined(li)) {\n            this.setSelection(li, null);\n        }\n    };\n    Mention.prototype.renderList = function () {\n        _super.prototype.render.call(this);\n        this.unWireListEvents();\n        this.wireListEvents();\n    };\n    /**\n     * Event binding for list\n     *\n     * @returns {void}\n     */\n    Mention.prototype.wireListEvents = function () {\n        EventHandler.add(this.list, this.keyEventName, this.onMouseClick, this);\n        EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n    };\n    /**\n     * Event un binding for list items.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.unWireListEvents = function () {\n        EventHandler.remove(this.list, this.keyEventName, this.onMouseClick);\n        EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n    };\n    Mention.prototype.onMouseClick = function (e) {\n        var target = e.target;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (!this.isValidLI(li) || this.isDisabledElement(li)) {\n            return;\n        }\n        this.isSelected = true;\n        this.setSelection(li, e);\n        var delay = 100;\n        this.closePopup(delay, e);\n        this.inputElement.focus();\n        if (!this.isRTE) {\n            e.preventDefault();\n        }\n    };\n    Mention.prototype.updateSelectedItem = function (li, e, preventSelect, isSelection) {\n        var _this = this;\n        this.removeSelection();\n        li.classList.add(dropDownBaseClasses.selected);\n        this.removeHover();\n        var value = this.getFormattedValue(li.getAttribute('data-value'));\n        var selectedData = this.getDataByValue(value);\n        if (!preventSelect && !isNullOrUndefined(e) && !(e.action === 'down' || e.action === 'up')) {\n            var items = this.detachChanges(selectedData);\n            this.isSelected = true;\n            var eventArgs = {\n                e: e,\n                item: li,\n                itemData: items,\n                isInteracted: e ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    li.classList.remove(dropDownBaseClasses.selected);\n                    _this.isSelected = false;\n                    _this.isSelectCancel = true;\n                }\n                else {\n                    _this.selectEventCallback(li, selectedData, value);\n                    if (isSelection) {\n                        _this.setSelectOptions(li, e);\n                    }\n                }\n            });\n        }\n        else {\n            this.selectEventCallback(li, selectedData, value);\n            if (isSelection) {\n                this.setSelectOptions(li, e);\n            }\n        }\n    };\n    Mention.prototype.setSelection = function (li, e) {\n        if (this.isValidLI(li) && (!li.classList.contains(dropDownBaseClasses.selected) || (this.isPopupOpen && this.isSelected\n            && li.classList.contains(dropDownBaseClasses.selected)))) {\n            this.updateSelectedItem(li, e, false, true);\n        }\n        else {\n            this.setSelectOptions(li, e);\n        }\n    };\n    Mention.prototype.setSelectOptions = function (li, e) {\n        if (this.list) {\n            this.removeHover();\n        }\n        this.previousSelectedLI = (!isNullOrUndefined(this.selectedLI)) ? this.selectedLI : null;\n        this.selectedLI = li;\n        if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI)) {\n            this.setScrollPosition(e);\n        }\n        if (e && (e.keyCode === 38 || e.keyCode === 40)) {\n            return;\n        }\n        if (isNullOrUndefined(e) || this.setValue(e)) {\n            return;\n        }\n    };\n    Mention.prototype.setScrollPosition = function (e) {\n        if (!isNullOrUndefined(e)) {\n            switch (e.action) {\n                case 'pageDown':\n                case 'down':\n                case 'end':\n                    this.scrollBottom();\n                    break;\n                default:\n                    this.scrollTop();\n                    break;\n            }\n        }\n        else {\n            this.scrollBottom(true);\n        }\n    };\n    Mention.prototype.scrollBottom = function (isInitial) {\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var currentOffset = this.list.offsetHeight;\n            var nextBottom = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n            var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n            nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 : nextOffset;\n            var boxRange = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n            if (this.activeIndex === 0) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = nextOffset;\n            }\n        }\n    };\n    Mention.prototype.scrollTop = function () {\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var nextOffset = this.selectedLI.offsetTop - this.list.scrollTop;\n            nextOffset = this.fields.groupBy && nextOffset;\n            var boxRange = (this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop);\n            if (this.activeIndex === 0) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextOffset < 0) {\n                this.list.scrollTop = this.list.scrollTop + nextOffset;\n            }\n            else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = this.selectedLI.offsetTop;\n            }\n        }\n    };\n    Mention.prototype.selectEventCallback = function (li, selectedData, value, selectLi) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        this.item = li;\n        this.itemData = selectedData;\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (focusedItem) {\n            removeClass([focusedItem], dropDownBaseClasses.focus);\n        }\n        if (selectLi) {\n            addClass([li], dropDownBaseClasses.selected);\n        }\n        li.setAttribute('aria-selected', 'true');\n        this.activeIndex = this.getIndexByValue(value);\n    };\n    Mention.prototype.detachChanges = function (value) {\n        var items;\n        if (typeof value === 'string' ||\n            typeof value === 'boolean' ||\n            typeof value === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: value,\n                    enumerable: true\n                },\n                text: {\n                    value: value,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = value;\n        }\n        return items;\n    };\n    Mention.prototype.setValue = function (e) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            if (!isNullOrUndefined(this.displayTemplate)) {\n                this.setDisplayTemplate();\n            }\n            this.updateMentionValue(e);\n            return true;\n        }\n        else {\n            if (!isNullOrUndefined(this.displayTemplate)) {\n                this.setDisplayTemplate(e);\n            }\n            else {\n                this.updateMentionValue(e);\n            }\n            return true;\n        }\n    };\n    Mention.prototype.updateMentionValue = function (e) {\n        var dataItem = this.getItemData();\n        var textSuffix = typeof this.suffixText === 'string' ? this.suffixText : '';\n        var value;\n        var endPos;\n        var range;\n        var globalRange;\n        var selection = this.inputElement.ownerDocument.getSelection();\n        var startPos = this.getTriggerCharPosition();\n        if (this.isSelectCancel) {\n            this.isSelectCancel = false;\n            return;\n        }\n        if (dataItem.text !== null) {\n            value = this.mentionVal(dataItem.text);\n        }\n        if (!this.isContentEditable(this.inputElement)) {\n            var myField = this.inputElement;\n            var currentTriggerSnippet = this.getTextRange().substring(startPos + this.mentionChar.length, this.getTextRange().length);\n            value += textSuffix;\n            endPos = startPos + this.mentionChar.length;\n            endPos += currentTriggerSnippet.length;\n            myField.value = myField.value.substring(0, startPos) + value + myField.value.substring(endPos, myField.value.length);\n            myField.selectionStart = startPos + value.length;\n            myField.selectionEnd = startPos + value.length;\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            this.onChangeEvent(e);\n        }\n        else {\n            endPos = this.getTriggerCharPosition() + this.mentionChar.length;\n            if (this.range && (this.range.startContainer.textContent.trim() !== this.mentionChar)) {\n                endPos = this.range.endOffset;\n            }\n            globalRange = this.range;\n            range = document.createRange();\n            if (((this.getTextRange() && this.getTextRange().lastIndexOf(this.mentionChar) !== -1) || this.getTextRange() &&\n                this.getTextRange().trim() === this.mentionChar)) {\n                range.setStart(globalRange.startContainer, startPos);\n                range.setEnd(globalRange.startContainer, endPos);\n            }\n            else {\n                if (globalRange.commonAncestorContainer.textContent.trim() !== '' && !isNullOrUndefined(globalRange.commonAncestorContainer.textContent.trim()) && this.getTextRange() && this.getTextRange().lastIndexOf(this.mentionChar) !== -1) {\n                    range.setStart(globalRange.startContainer, globalRange.startOffset - 1);\n                    range.setEnd(globalRange.startContainer, globalRange.endOffset - 1);\n                }\n                else {\n                    range.setStart(globalRange.startContainer, globalRange.startOffset);\n                    range.setEnd(globalRange.startContainer, globalRange.endOffset);\n                }\n            }\n            this.isTyped = false;\n            range.deleteContents();\n            range.startContainer.parentElement.normalize();\n            var element = this.createElement('div');\n            element.innerHTML = value;\n            var frag = document.createDocumentFragment();\n            var node = void 0;\n            var lastNode = void 0;\n            // eslint-disable-next-line no-cond-assign\n            while (node = element.firstChild) {\n                lastNode = frag.appendChild(node);\n            }\n            range.insertNode(frag);\n            if (lastNode) {\n                range = range.cloneRange();\n                if (this.isRTE) {\n                    range.setStart(lastNode, 0);\n                    range.setEnd(lastNode, lastNode.textContent.length);\n                }\n                else {\n                    range.setStartAfter(lastNode);\n                }\n                range.collapse(true);\n                selection.removeAllRanges();\n                selection.addRange(range);\n            }\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            //New event to update the RichTextEditor value, when a mention item is selected using mouse click action.\n            if (!isNullOrUndefined(e.pointerType) && e.pointerType === 'mouse') {\n                var event_1 = new CustomEvent('content-changed', { detail: { click: true } });\n                this.inputElement.dispatchEvent(event_1);\n            }\n            this.onChangeEvent(e);\n        }\n    };\n    Mention.prototype.mentionVal = function (value) {\n        var showChar = this.showMentionChar ? this.mentionChar : '';\n        if (!isNullOrUndefined(this.displayTemplate) && !isNullOrUndefined(this.displayTempElement)) {\n            value = this.displayTempElement.innerHTML;\n        }\n        if (this.isContentEditable(this.inputElement)) {\n            if (Browser.isAndroid) {\n                return '<span contenteditable=\"true\" class=\"e-mention-chip\">' + showChar + value + '</span>'.concat(typeof this.suffixText === 'string' ? this.suffixText : '&#8203;');\n            }\n            else {\n                return '<span contenteditable=\"false\" class=\"e-mention-chip\">' + showChar + value + '</span>'.concat(typeof this.suffixText === 'string' ? this.suffixText : '&#8203;');\n            }\n        }\n        else {\n            return showChar + value;\n        }\n    };\n    Mention.prototype.setDisplayTemplate = function (e) {\n        var _this = this;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['displayTemplate']);\n            if (this.displayTempElement) {\n                detach(this.displayTempElement);\n                this.displayTempElement = null;\n            }\n        }\n        if (!this.displayTempElement) {\n            this.displayTempElement = this.createElement('div');\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.displayTempElement.innerHTML = '';\n        }\n        var compiledString = compile(this.displayTemplate);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var displayCompTemp = compiledString(this.itemData, this, 'displayTemplate', this.displayTemplateId, this.isStringTemplate, null, this.displayTempElement);\n        if (displayCompTemp && displayCompTemp.length > 0) {\n            append(displayCompTemp, this.displayTempElement);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.renderTemplates();\n        }\n        else {\n            this.renderTemplates(function () {\n                _this.updateMentionValue(e);\n            });\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Mention.prototype.renderTemplates = function (callBack) {\n        this.renderReactTemplates(callBack);\n    };\n    Mention.prototype.setSpinnerTemplate = function () {\n        var _this = this;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['spinnerTemplate']);\n            if (this.spinnerTemplateElement) {\n                detach(this.spinnerTemplateElement);\n                this.spinnerTemplateElement = null;\n            }\n        }\n        if (!this.spinnerTemplateElement) {\n            this.spinnerTemplateElement = this.createElement('div');\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.spinnerTemplateElement.innerHTML = '';\n        }\n        var compiledString = compile(this.spinnerTemplate);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var spinnerCompTemp = compiledString(null, this, 'spinnerTemplate', this.spinnerTemplateId, this.isStringTemplate, null, this.spinnerTemplateElement);\n        if (spinnerCompTemp && spinnerCompTemp.length > 0) {\n            for (var i = 0; i < spinnerCompTemp.length; i++) {\n                this.spinnerTemplateElement.appendChild(spinnerCompTemp[i]);\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.renderTemplates();\n            this.popupObj.element.appendChild(this.spinnerTemplateElement);\n        }\n        else {\n            this.renderTemplates(function () {\n                _this.popupObj.element.appendChild(_this.spinnerTemplateElement);\n            });\n        }\n    };\n    Mention.prototype.onChangeEvent = function (eve) {\n        this.isSelected = false;\n        var items = this.detachMentionChanges(this.itemData);\n        var preItems;\n        if (typeof this.previousItemData === 'string' ||\n            typeof this.previousItemData === 'boolean' ||\n            typeof this.previousItemData === 'number') {\n            preItems = Object.defineProperties({}, {\n                value: {\n                    value: this.previousItemData,\n                    enumerable: true\n                },\n                text: {\n                    value: this.previousItemData,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            preItems = this.previousItemData;\n        }\n        var eventArgs = {\n            e: eve,\n            item: this.item,\n            itemData: items,\n            previousItem: this.previousSelectedLI,\n            previousItemData: preItems,\n            isInteracted: eve ? true : false,\n            value: this.item.innerHTML,\n            element: this.inputElement\n        };\n        this.trigger('change', eventArgs);\n    };\n    Mention.prototype.detachMentionChanges = function (value) {\n        var items;\n        if (typeof value === 'string' ||\n            typeof value === 'boolean' ||\n            typeof value === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: value,\n                    enumerable: true\n                },\n                text: {\n                    value: value,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = value;\n        }\n        return items;\n    };\n    Mention.prototype.getItemData = function () {\n        var fields = this.fields;\n        var dataItem = null;\n        dataItem = this.itemData;\n        var dataValue;\n        var dataText;\n        if (!isNullOrUndefined(dataItem)) {\n            dataValue = getValue(fields.value, dataItem);\n            dataText = getValue(fields.text, dataItem);\n        }\n        var value = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataValue : dataItem);\n        var text = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataText : dataItem);\n        return { value: value, text: text };\n    };\n    Mention.prototype.removeSelection = function () {\n        if (this.list) {\n            var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n            if (selectedItems.length) {\n                removeClass(selectedItems, dropDownBaseClasses.selected);\n                selectedItems[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    Mention.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        this.setHover(currentLi);\n    };\n    Mention.prototype.setHover = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n    };\n    Mention.prototype.removeHover = function () {\n        if (this.list) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.hover);\n            }\n        }\n    };\n    Mention.prototype.isValidLI = function (li) {\n        return (li && li.hasAttribute('role') && li.getAttribute('role') === 'option');\n    };\n    Mention.prototype.onMouseLeave = function () {\n        this.removeHover();\n    };\n    /**\n     * Search the entered text and show it in the suggestion list if available.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.search = function (text, positionX, positionY) {\n        if (this.isContentEditable(this.inputElement)) {\n            this.range = this.getCurrentRange();\n        }\n        var currentRange = this.getTextRange();\n        var lastWordRange = this.getLastLetter(currentRange);\n        if ((this.ignoreCase && (text === lastWordRange || text === lastWordRange.toLowerCase()))\n            || !this.ignoreCase && text === lastWordRange) {\n            this.resetList(this.dataSource, this.fields);\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            return;\n        }\n        if (isNullOrUndefined(this.list)) {\n            this.renderList();\n            this.renderPopup();\n        }\n        else {\n            this.showPopup();\n        }\n        this.popupObj.element.style.left = formatUnit(positionX);\n        this.popupObj.element.style.top = formatUnit(positionY);\n    };\n    /**\n     * Method to disable specific item in the popup.\n     *\n     * @param {string | number | object | HTMLLIElement} item - Specifies the item to be disabled.\n     * @returns {void}\n     * @deprecated\n     */\n    Mention.prototype.disableItem = function (item) {\n        if (this.fields.disabled) {\n            if (!this.list) {\n                this.renderList();\n            }\n            var itemIndex = -1;\n            if (this.liCollections && this.liCollections.length > 0 && this.listData && this.fields.disabled) {\n                if (typeof (item) === 'string') {\n                    itemIndex = this.getIndexByValue(item);\n                }\n                else if (typeof item === 'object') {\n                    if (item instanceof HTMLLIElement) {\n                        for (var index = 0; index < this.liCollections.length; index++) {\n                            if (this.liCollections[index] === item) {\n                                itemIndex = this.getIndexByValue(item.getAttribute('data-value'));\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        var value = JSON.parse(JSON.stringify(item))[this.fields.value];\n                        for (var index = 0; index < this.listData.length; index++) {\n                            if (JSON.parse(JSON.stringify(this.listData[index]))[this.fields.value] === value) {\n                                itemIndex = this.getIndexByValue(value);\n                                break;\n                            }\n                        }\n                    }\n                }\n                else {\n                    itemIndex = item;\n                }\n                var isValidIndex = itemIndex < this.liCollections.length && itemIndex > -1;\n                if (isValidIndex && !(JSON.parse(JSON.stringify(this.listData[itemIndex]))[this.fields.disabled])) {\n                    var li = this.liCollections[itemIndex];\n                    if (li) {\n                        this.disableListItem(li);\n                        var parsedData = JSON.parse(JSON.stringify(this.listData[itemIndex]));\n                        parsedData[this.fields.disabled] = true;\n                        this.listData[itemIndex] = parsedData;\n                        this.dataSource = this.listData;\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    Mention.prototype.destroy = function () {\n        this.hidePopup();\n        this.unWireEvent();\n        if (this.list) {\n            this.unWireListEvents();\n        }\n        if (this.inputElement && !this.inputElement.classList.contains('e-' + this.getModuleName())) {\n            return;\n        }\n        this.previousSelectedLI = null;\n        this.item = null;\n        this.selectedLI = null;\n        this.popupObj = null;\n        _super.prototype.destroy.call(this);\n    };\n    Mention.prototype.getLocaleName = function () {\n        return 'mention';\n    };\n    Mention.prototype.getNgDirective = function () {\n        return 'EJS-MENTION';\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    Mention.prototype.getModuleName = function () {\n        return 'mention';\n    };\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('@')\n    ], Mention.prototype, \"mentionChar\", void 0);\n    __decorate([\n        Property(false)\n    ], Mention.prototype, \"showMentionChar\", void 0);\n    __decorate([\n        Property(false)\n    ], Mention.prototype, \"allowSpaces\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"suffixText\", void 0);\n    __decorate([\n        Property(25)\n    ], Mention.prototype, \"suggestionCount\", void 0);\n    __decorate([\n        Property(0)\n    ], Mention.prototype, \"minLength\", void 0);\n    __decorate([\n        Property('None')\n    ], Mention.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], Mention.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], Mention.prototype, \"highlight\", void 0);\n    __decorate([\n        Property()\n    ], Mention.prototype, \"locale\", void 0);\n    __decorate([\n        Property('auto')\n    ], Mention.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property('300px')\n    ], Mention.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"displayTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], Mention.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"spinnerTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Mention.prototype, \"target\", void 0);\n    __decorate([\n        Property([])\n    ], Mention.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"query\", void 0);\n    __decorate([\n        Property('Contains')\n    ], Mention.prototype, \"filterType\", void 0);\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], Mention.prototype, \"fields\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"opened\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"closed\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"destroyed\", void 0);\n    Mention = __decorate([\n        NotifyPropertyChanges\n    ], Mention);\n    return Mention;\n}(DropDownBase));\nexport { Mention };\n","import * as index from './index';\nindex.DropDownList.Inject(index.VirtualScroll);\nindex.ComboBox.Inject(index.VirtualScroll);\nindex.AutoComplete.Inject(index.VirtualScroll);\nindex.MultiSelect.Inject(index.CheckBoxSelection, index.VirtualScroll);\nindex.ListBox.Inject(index.CheckBoxSelection);\nexport * from './index';\n"],"names":["incrementalSearch","keyCode","items","selectedIndex","ignoreCase","elementId","queryStringUpdated","currentValue","isVirtual","refresh","queryString","prevString","tempQueryString","String","fromCharCode","setTimeout","index","toLowerCase","prevElementId","listItems","strLength","length","item","i","matches","innerText","substr","push","indexUpdated","i_1","textContent","classList","contains","activeClass","Search","inputVal","searchType","dataSource","fields","type","undefined","itemData","queryStr","toLocaleLowerCase","escapeCharRegExp","itemsData","state_1","filterValue","checkField_1","fieldValue_1","text","split","filter","data","Array","prototype","slice","call","forEach","value","isHeader","toString","indexOf","getAttribute","replace","RegExp","test","resetIncrementalSearchValues","highlightSearch","element","query","match","charCodeAt","ignoreRegex","replaceQuery","findTextNode","pattern","childNodes","nodeType","trim","nodeValue","innerHTML","revertHighlightSearch","content","contentElement","querySelectorAll","parent_1","parentNode","document","createTextNode","replaceChild","createFloatLabel","overAllWrapper","searchWrapper","inputElement","floatLabelType","placeholder","floatLinelement","createElement","className","FLOATLINE","floatLabelElement","FLOATTEXT","id","getUniqueID","isNullOrUndefined","setAttribute","attributes","aria-labelledby","encodePlaceholder","removeAttribute","appendChild","add","updateFloatLabelState","LABELBOTTOM","removeClass","addClass","LABELTOP","label","removeFloating","componentWrapper","placeholderText","placeholderElement","querySelector","floatLine","setPlaceHolder","detach","remove","floatLabelFocus","floatLabelBlur","result","spanElement","children","__assign","Object","assign","t","s","n","arguments","p","hasOwnProperty","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","__generator","body","verb","v","op","f","TypeError","_","y","ops","pop","trys","g","sent","throw","return","Symbol","iterator","VirtualScroll","parent","_this","sentinelInfo","up","check","rect","info","top","containerElementRect","entered","listItemHeight","virtualItemCount","axis","down","bottom","removeEventListener","addEventListener","isDestroyed","on","observe","setGeneratedData","dataProcessAsync","setCurrentViewDataAsync","bindScrollEvent","off","component","scrollArgs","scrollListener","callback","popupContentElement","getBoundingClientRect","EventHandler","popupScrollHandler","touchModule","Touch","scroll","bind","virtualScrollHandler","getModuleName","isMouseScrollAction","isPreventScrollAction","getPageQuery","virtualStartIndex","virtualEndIndex","allowFiltering","skip","qStartIndex","recentlyGeneratedData","loopIteration","endIndex","listData","virtualItemStartIndex","generatedDataObject","slicedData","generateAndExecuteQueryAsync","virtualItemEndIndex","isQueryGenerated","newQuery","removeSkipAndTakeEvents","clone","tempCustomFilter","isCustomFilter","totalData","DataManager","json","totalItemCount","typedString","resetList","queries","event","fn","currentData","isResetListCalled","isListUpdated","viewPortInfo","mode","isArray","enableSelectionOrder","startIndex","updateVirtualReOrderList","itemCount","oldUlElement","list","removeChild","getForQuery","take","appendUncheckList","setCurrentView","reOrderList","skipvalue","totalItemsCount","alreadyAddedData","hideSelectedItem","getValue","allowCustomValue","virtualCustomData","splice","virtualCustomSelectData","concat","renderItems","updatevirtualizationList","getSkeletonCount","skeletonCount","virtualTrackElement","getElementsByClassName","style","GetVirtualTrackHeight","popupWrapper","virualElement","styles","UpdateSkeleton","liCollections","virtualContentElement","getTransformValues","groupBy","scrollStop","isScrollChanged","currentFocuedListElement","currentSelectElem","getElementByValue","addListFocus","generateQueryAndSetQueryIndexAsync","isPopupOpen","isStartIndexInitialised","queryStartIndex","queryEndIndex","vEndIndex","isRequesting","isOpenPopup","selectedValueInfo","Query","virtualScrollRefreshAsync","_a","isTyped","filterInput","dataCount","keyboardEvent","handleVirtualKeyboardActions","pageCount","customFilterQuery","isVirtualTrackHeight","preventSetCurrentData","sentinel","pStartIndex","previousStartIndex","getInfoFromView","direction","offset","isUpwardScrolling","isKeyBoardAction","isScrollActionTriggered","isPreventKeyAction","currentPageNumber","virtualListInfo","isVirtualScrolling","getPageCount","popupObj","select","updateSelectionList","getItems","previousInfo","isscrollAction","infoType","offsets","previousEndIndex","vHeight","height","rowHeight","exactTopIndex","infoViewIndices","exactEndIndex","pageSizeBy4","sIndex","Math","round","floor","eIndex","ceil","idxAddedToExactTop","scrollPreStartIndex","delay","Browser","name","prevTop","debounced100","debounce","debounced50","target","scrollTop","left","scrollLeft","current","pstartIndex","scrollOffsetargs","transform","debounceFunction","focusElement","activeElement","destroy","__extends","extendStatics","d","b","setPrototypeOf","__proto__","__","constructor","create","__decorate","decorators","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","FieldSettings","_super","Property","ChildProperty","dropDownBaseClasses","root","rtl","selected","hover","noData","fixedHead","focus","li","group","disabled","grouping","virtualList","DropDownBase","options","preventChange","isPreventChange","isDynamicDataChange","addedNewItem","isAddNewItemTemplate","isVirtualizationEnabled","isCustomDataUpdated","isAllowFiltering","virtualizedItemsCount","isCheckBoxSelection","remoteDataCount","isRemoteDataUpdated","isIncrementalRequest","virtualListHeight","virtualSelectAll","incrementalQueryString","incrementalEndIndex","incrementalStartIndex","incrementalPreQueryString","isObjectCustomValue","getInitialData","preventPopupOpen","virtualSelectAllState","CurrentEvent","isDynamicData","getPropObject","prop","newProp","oldProp","newProperty","oldProperty","propName","getValueByText","ignoreAccent","checkValueCase","isTextByValue","typeOfData","typeof","_i","dataSource_1","checkingAccent","checkIgnoreCase","getItemValue","checkNonIgnoreCase","itemValue","compareValue_1","dataItem","DataUtil","ignoreDiacritics","textItem","typedText","getFormattedValue","templateCompiler","baseTemplate","checkTemplate","selectAll","exception","l10nUpdate","actionFailure","ele","ulElement","noRecordsTemplate","actionFailureTemplate","template","compiledString","templateId","actionFailureTemplateId","noRecordsTemplateId","tempaltecheck","compile","templateName","noDataElement","isStringTemplate","nodeName","liElem","HTMLElement","Text","renderReactTemplates","l10nLocale","componentLocale","L10n","getLocaleName","locale","getConstant","l10n","checkAndResetCache","updateIncrementalInfo","updateVirtualItemIndex","updateIncrementalView","getFilteringSkeletonCount","currentSkeletonCount","skeletonUpdated","abs","retainSkeleton","listContainerHeight","parseInt","actualCount","heightDimension","translateY","isSkeletonCountChange","isContainSkeleton","isContainVirtualList","totalSkeletonCount","liElement","itemTemplate","skeleton","Skeleton","shape","width","cssClass","appendTo","firstChild","insertBefore","getTextByValue","properties","parseFloat","setEnableRtl","enableRtlElements","enableRtl","initialize","bindEvent","tagName","jsonElement","ListBase","createJsonFromElement","setProperties","setListData","renderItemsBySelect","getPersistData","addOnPersist","updateDataAttribute","invalidAttr","attr","a","extend","htmlAttributes","option","getJSONfromOption","optionGroup","child","updateFields","iconCss","field","options_1","preRender","scrollTimer","isRequested","isDataFetched","itemTemplateId","displayTemplateId","spinnerTemplateId","valueTemplateId","groupTemplateId","headerTemplateId","footerTemplateId","isActive","eventArgs","cancel","isAngular","trigger","showSpinner","isWhereExist_1","emptyDataRequest","executeQuery","getQuery","isReOrder","queryElements","count","nos","condition","operator","onActionComplete","groupTemplate","renderGroupTemplate","bindChildItems","notify","module","virtualSelectAllData","virtualSelectionAll","catch","onActionFailure","hideSpinner","virtualGroupDataSource","executeLocal","records","dataManager","localDataArgs","childElementCount","updateDataList","updatePopupState","state","updateRemoteData","childNode","remainingItems","sortedData","append","updateListValues","raiseDataBound","isObjectInArray","objectToFind","array","some","keys","every","findListElement","findNode","attribute","listArr","dataBoundEventArgs","spliceData","listElements","templateListItem","createListItemFromArray","listOption","createListItemFromJson","isReact","clearTemplate","fixedHeaderElement","setStyleAttribute","zIndex","postRender","listElement","JSON","parse","stringify","disableListItem","focusItem","selectedItem","updateVirtualizationProperties","filtering","isCheckbox","listEle","groupTemplateID","headerItems","groupcheck","groupValue","tempHeaders","isGroupChecking","createListItems","sortOrder","getSortedDataSource","groupDataSource","preventDefActionFilter","createList","fieldValues","showIcon","ariaAttributes","groupItemRole","setFloatingHeader","display","prepend","setFixedHeader","isDownkey","liHeight","getComputedStyle","getValidLi","getPropertyValue","topIndex","virtualListCount","updateGroupHeader","returnExactCount","updateGroupFixedHeader","position","parentElement","offsetTop","window","scrollY","isCheckBoxUpdate","virtualUlElement","updateListElements","createVirtualContent","incrementalLiCollections","incrementalUlElement","incrementalListData","templateID","itemcheck","renderContentTemplate","borderWidth","defaultView","isNaN","liWidth","offsetWidth","firstLi","textField","getDataSource","addSorting","getIndexByValue","getIndexByValueFilter","dispatchEvent","evt","createEvent","initEvent","setFields","selectData","updateSelectElementData","isFiltering","updateSelection","renderList","render","updateDataSource","props","oldProps","setUpdateInitial","updateData","j","onPropertyChanged","setZIndex","isEmptyData","attrs","tabindex","rippleModel","duration","selector","rippleFun","rippleEffect","wrapperElement","removeScrollEvent","addItem","itemIndex","newList","itemsCount","isListboxEmpty","selectedItemValue","itemText","itemCheck","addItemTemplate","updateActionCompleteData","updateAddItemList","listGroupItem","tempLi","isDisabledElement","isDisabledItemByIndex","validationAttribute","hidden","getDataByValue","_b","_c","Complex","Event","NotifyPropertyChanges","Component","dropDownListClasses","disable","base","input","inputFocus","icon","iconAnimation","device","backIcon","filterBarClearIcon","filterParent","mobileFilter","footer","header","clearIcon","clearIconHide","popupFullScreen","disableIcon","hiddenElement","inputObject","container","buttons","DropDownList","isListSearched","isTouched","isFocused","autoFill","valueTempElement","opacity","initializeData","activeIndex","isDocumentClick","isInteracted","isFilterFocus","beforePopupOpen","initial","initialRemoteRender","isNotSearchList","isSelected","preventFocus","preventAutoFill","isValidKey","isEscapeKey","isPreventBlur","isTabKey","actionCompleteData","isUpdated","actionData","prevSelectPoints","isSelectCustom","isDropDownClick","preventAltUp","isSecondClick","previousValue","keyConfigure","tab","enter","escape","end","home","pageUp","pageDown","open","close","hide","space","requiredModules","modules","enableVirtualization","args","member","unWireListEvents","wireListEvents","floatLabelChange","floatElement","inputWrapper","resetHandler","preventDefault","clearAll","resetFocusElement","removeHover","removeSelection","removeFocus","previousItemData","resetSelection","getItemData","allowObjectBinding","allowCustom","onChangeEvent","updateInitialData","cloneNode","selectedLI","setSelection","updateIconState","cloneElements","setHTMLAttributes","htmlAttr","updatedClassValue","enabled","setEnable","readonly","defaultAttr","validateAttr","Input","setPlaceholder","dataBind","getAriaAttributes","aria-disabled","role","aria-expanded","aria-live","setEnabled","targetElement","tabIndex","hidePopup","preventTabIndex","getNgDirective","getElementByText","listItems_1","liItem","initValue","updateValues","isDisableItemValue","objectValue","setHiddenValue","setValue","showClearButton","onBlurHandler","relatedTarget","currentTarget","isFilterLayout","focusOutAction","focusOut","onFocusOut","clearButton","onFocus","resetValueHandler","formElement","closest","val","wireEvent","dropDownClick","focusIn","onSearch","windowResize","bindCommonEvent","isDevice","keyboardModule","KeyboardEvents","keyAction","mobileKeyActionHandler","keyConfigs","eventName","keyActionHandler","bindClearEvent","refreshPosition","unBindCommonEvent","onMouseClick","onMouseOver","onMouseLeave","charCode","searchKeyEvent","onServerIncrementalSearch","isValidLI","history","back","closePopup","currentLi","setHover","hoveredItem","hasAttribute","updateIncrementalItemIndex","updatingincrementalindex","setScrollPosition","selectedLiOffsetTop","offsetHeight","enableLiCollections","spinnerElement","filterInputObj","createSpinner","preventAction","action","preventHomeEnd","isNavigation","isEditTextBox","isTabAction","updateUpDownAction","pageUpSelection","pageDownSelection","updateHomeEndAction","showPopup","focusDropDown","selectCurrentItem","selectCurrentValueOnTab","isVirtualKeyAction","filterIndex","focusEle","isSelectFocusItem","virtualIndex","nextItem","selectedData","focusAtFirstElement","aria-activedescendant","findLi","steps","previousItem","PageUpDownSelection","unWireEvent","checkSelector","onDocumentClick","isIE","activeStateChange","which","button","proxy_1","updateSelectedItem","preventSelect","isSelection","selectEventCallback","setSelectOptions","detachChanges","checkFieldValue","focusedItem","activeItem","valueTemplate","setValueTemplate","previousSibling","clearElement","removeProperty","getItem","where","Predicate","previousSelectedLI","aria-describedby","dropdownCompiler","dropdownTemplate","valuecheck","valueCompTemp","selectedItems","dataValue","dataText","isUndefined","eve","isCustomValue","datas","foundIndex","findIndex","detachChangeEvent","defineProperties","enumerable","preItems","selectedElement","onFilterUp","ctrlKey","firstItem","searchLists","onFilterDown","getSelectionPoints","removeFillSelection","selection","setSelectionRange","filterQuery","filterType","dataType","takeValue","getTakeValue","alreadySkipAdded","queryTakeValue","querySkipValue","requiresCount","start","selectionStart","selectionEnd","visibility","eventArgs_1","preventDefaultAction","filteringAction","baseEventArgs","isNoData","focusIndexItem","setSearchBox","popupElement","isDeviceFullScreen","createInput","filterBarPlaceholder","autocomplete","autocapitalize","spellcheck","clearIconElement","clearText","searchKeyModule","onInput","pasteHandler","renderPopup","outerHeight","updateActionCompleteDataValues","tempItemCount","aria-hidden","aria-label","value_1","checkVal","x","setInputValue","isValueInList","addNewItem","valueToFind","fieldValue","checkField","newElement","value_2","actionCompleteDataUpdate","findEle","highlightedItem","refreshPopup","popupEle","searchBox","formatUnit","popupHeight","headerTemplate","setHeaderTemplate","footerTemplate","setFooterTemplate","listitems","marginBottom","searchBoxHeight","maxHeight","offsetValue","getOffsetValue","isEmptyList","textIndent","paddingLeft","borderLeftWidth","createPopup","getFocusElement","checkCollision","popupWidth","outerWidth","collision","X","Y","setSearchBoxPosition","backIconElement","clickOnBackIcon","scrollParentElements_1","getScrollableParent","scrollHandler","selectedElementID","enable","scrollBottom","aria-owns","aria-controls","inputParent","animModel","popup","animation","destroyPopup","show","Animation","isCollide","marginTop","resolveCollision","popupStyles","borderTop","borderTopWidth","borderBottom","borderBottomWidth","setPopupPosition","Popup","setWidth","targetType","relateTo","offsetY","offsetX","actionList","targetExitViewport","isElementInViewport","elementRect","innerHeight","right","innerWidth","border","popupOffset","lastItem","listHeight","paddingBottom","isInitial","isInitialSelection","selectedListMargin","lastElementValue","currentOffset","nextBottom","nextOffset","isScrollerCHanged","paddingTop","boxRange","currentElementValue","liCount","IsScrollerAtEnd","scrollHeight","firstElementValue","isPageUpKeyAction","scrollTo","clientHeight","isPopupButton","setEleWidth","isFilterValue","scrollableParentElements_1","fixedHeader","dataSourceCount","preselectedIndex","updatedCssClassValues","class","setReadOnly","calculateWidth","getListHeight","selectElement","onselect","stopImmediatePropagation","onchange","renderComplete","listParent","listParentHeight","footercheck","footerCompTemp","headercheck","headerCompTemp","contentEle","setOldText","setOldValue","checkData","isChangeValue","isChangeText","checkCustomValue","updateInputFields","this_1","setReadonly","setCssClass","checkValidLi","setSelectionData","listLength_1","listLength_2","value_3","addFloating","setClearButton","ddlProps","newClass","oldClass","invokeRenderPopup","isOpen","proxy_2","onpopstate","pushState","renderHightSearch","isSelectVal","blur","disableItem","HTMLLIElement","parsedData","clear","attrArray","DROPDOWNICON","SHOW_CHIP","SHOW_CLEAR","CHIP_INPUT","INPUTFOCUS","HIDEICON","CHECK","NODATA","SHOW_TEXT","Fields","TreeSettings","DropDownTree","filterTimer","isFilteredData","isFilterRestore","filterDelayTime","isClicked","isCheckAllCalled","isFromFilterChange","keyEntity","isFirstRender","isInitialized","currentText","oldValue","removeValue","selectedText","treeItems","isNodeSelected","isDynamicChange","clearIconWidth","customTemplateId","altUp","altDown","shiftTab","moveDown","moveLeft","moveRight","moveUp","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","ctrlA","isTree","popupDiv","inputEle","isNOU","inputObj","showDropDownIcon","getDirective","createHiddenElement","createClearIcon","setElementWidth","setAttributes","tree","destroyPopupOnHide","wireTreeEvents","renderTree","isRemoteData","allowMultiSelection","showCheckBox","createChip","wrapText","overFlowWrapper","OVERFLOW_VIEW","setTreeValue","setTreeText","updateHiddenValue","setSelectedValue","updateView","wireEvents","firstUl","treeObj","hasTemplate","customTemplate","hideCheckAll","flag","checkAllEle","renderFilter","filterContainer","filterObj","TextBox","filterChangeHandler","filterKeyAction","focusedElement","observedArgs","clearTimeout","filterHandler","isChildObject","expandedNodes","treeData","getTreeData","filterFields","cloneFields","treeDataType","selfReferencefilter","remoteDataFilter","getTreeFields","nestedFilter","portals","filteredFields","map","remoteChildFilter","filteredChild","node","isChild","isChildFiltering","isMatchedNode","matchedChildren","filteredItems","matchedDataSource","nestedChildFilter","matchedData","parentId","parentValue","checkValue","tempChild","mouseIn","overAllClear","treeAction","wireCheckAllWrapperEvents","checkAllParent","checkAllAction","unWireEvents","showSelectAll","clickHandler","isClearButtonClick","showOverAllClear","isValue","chipWrapper","showOrHideValueTemplate","changeOnBlur","triggerChangeEvent","updateOverFlowView","ensurePlaceHolder","ddtCompareValues","isChipDelete","newValue","isValueChange","keyEventArgs","resetValue","overAllContainer","temp","tempData","tempIndex","wrapperleng","remaining","downIconWidth","overflowCountTemplate","totalCountTemplate","remainContent","totalContent","remainElement","remainSize","updateChipAndValueTemplate","checkRemainingTemplate","updateDelimMode","delimiterChar","getOverflowVal","enableHtmlSanitizer","SanitizeHtmlHelper","sanitize","textArr","join","updateRemainTemplate","isChip","previousHtmlContent","previousData","wrapperLength","remainingItemsCount","currentHtmlContent","valueTemplateContainer","clonedElement","valueElements","lastChild","getSelectedData","treeSettings","loadOnDemand","multiple","chipCollection","getValidMode","checkWrapper","createSelectAllWrapper","selectAllSpan","touchClass","checkBoxElement","createCheckBox","setLocale","firstElementChild","lastElementChild","checkElement","changeState","wrapper","ariaState","frameSpan","isReverseUpdate","uncheckAll","checkAll","setMultiSelect","unSelect","selectAllText","unSelectAllText","setValidValue","valArr","selectedNodes","updateMode","checkedNodes","updateSelectedValues","initializeValueTemplate","getValueTemplateElement","includes","reactCallBack","templateElements","getNodeData","autoCheck","givenText","getNestedItems","newData","objlen","dataId","getChildType","childData","mapper","TreeView","nodeSelected","onNodeSelected","nodeChecked","onNodeChecked","nodeChecking","beforeCheck","nodeExpanded","onNodeExpanded","nodeClicked","onNodeClicked","dataBound","OnDataBound","expandOn","nodeSelecting","onBeforeSelect","nodeTemplate","checkDisabledChildren","isCancelled","POPUP_CLASS","updatePopupHeight","oldFocussedNode","nodes","checkSelectAll","wrap","getHeight","inputWidth","ddElement","documentElement","isFilter","isFooter","isScroller","getTreeDataType","expandAll","restoreFilterSelection","elements","setEnableRTL","cloneChildField","hasChildren","expanded","imageUrl","selectable","tableName","tooltip","parentID","getTreeChildren","isChecked","childFields","getActualProperties","ds","len","updateTemplate","getEventArgs","nodeData","getNode","removeSelectedData","updateClearButton","nextSibling","chipClose","updateDropDownIconState","spinIcon","appendSpan","isValid","ensureClearIconPosition","setMultiSelectValue","newValues","selectedValues","selectedValue","nodeSelectedData","ddtValue","checkSelection","getChildNodeData","obj","newChildItems","getChildMapperFields","childNodeData","muteOnChange","templateComplier","showChip","textValue","hiddenInputValue","setChipValues","setTagValues","chip","data-value","chipContent","CHIP_CLOSE","removeChip","tempArr","setSelectAllWrapper","updateOverflowWrapper","clearCheckAll","selectAllItems","arr","updateTreeSettings","updateValue","updateCheckBoxState","checkBox","noRecord","templatestring","updateRecordTemplate","updateMultiSelection","updateOption","updateAllowFiltering","destroyFilter","updateFilterPlaceHolder","updateText","updateModelMode","overFlow","prop_1","setRipple","chipsIcons_1","ensureVisible","getData","ComboBox","preventBlur","targetFocus","inputValue","customValue","valueMuteChange","changeData","fields_1","isvalidTextField_1","isValidValue_1","doesItemExist","currentValue_1","aria-autocomplete","aria-readonly","setHoverList","inlineSearch","isEndIndexValid","isIncrementalEndIndexZero","min","startIndex_1","endIndex_1","virtualListInfoStartIndex","selectedLiOffsetTopWithStartIndex","scrollTopOffset","autofill","setAutoFill","isHover","currentFillValue","isAndroidAutoFill","setAutoFillSelection","isAndroid","currentPoints","prevEnd","curEnd","prevStart","curStart","property","isKeyNavigate","previousValue_1","updateCustomValueCallback","emptyObject","comboProps","isEscape","searchItem","AutoComplete","_this_1","isFiltered","searchList","mapping","suggestionCount","currentTakeValue","currentQueryTakeValue","filterAction","isNoDataElement","minLength","virtualElement","postBackAction","fieldsSettings","itemCreated","highlight","itemCreated_1","showPopupButton","checkFields1_1","_this_2","atcProps","isHighlight","FOCUS","HIDE_LIST","CHIP","MultiSelect","previousFilterText","selectAllEventData","selectAllEventEle","resetMainList","resetFilteredData","isSelectAllLoop","scrollFocusStatus","keyDownStatus","enableRTL","enableGroupCheckBox","prevOnChange","isProtectedOnChange","closePopupOnSelect","updateHTMLAttribute","refreshPlaceHolder","containerAttr","updateReadonly","updateCssClass","updateOldPropCssClass","onPopupShown","focusAtFirstListItem","updateListItems","mainList","updateAriaActiveDescendant","isFirstClick","loadTemplate","selectedListData","mainListItems","findGroupStart","deselectHeader","refreshListItems","valueEle","focusAtLastListItem","updateListARIA","disableStatus","ensureAriaDisabled","status","removelastSelection","chipCollectionWrapper","removeSelectedChip","tempValues","removeChipSelection","updateDelimeter","makeTextBoxEmpty","refreshSelection","checkPlaceholderSize","targetInputElement","predicate","or","and","adaptor","JsonAdaptor","proxy","presentItemValue","addNonPresentItems","updateActionList","isCustomRendered","checkForCustomValue","remoteCustomValue","disableGroupHeader","mainData","mainListCollection","tempQuery","unwireListEvents","setInitialValue","selectAllAction","setDynValue","initialTextUpdate","initialValueUpdate","initialUpdate","updateValueState","previousElementSibling","nextElementSibling","hideGroupItem","checkMaxSelection","element1","temp1","groupItemLength","listItem","searchCount","searchActiveCount","maximumSelectionLength","openClick","openOnClick","keyUp","isWordCharacter","expandTextbox","search","remoteFilterAction","dataUpdater","virtualFilterQuery","isSkip","backCommand","dataChecks","customData","dataItem_1","random","emptyObject_1","tempCount","isRemoteSelection","wrapperClick","isDocClickFromCheck","addTagOnBlur","listLiElement","updateListSelection","updateDelimView","focused","removeChipFocus","refreshInputHight","createSpanElement","elementWidth","clientWidth","paddingRight","dropIcon","marginRight","setPlaceholderSize","validateValues","sort","newVal","oldVal","initStatus","updateTempValue","collection","previousFocusItem","focusInHandler","showDelimWrapper","viewWrapper","delimiterWrapper","hideDelimWrapper","size","codePoint","sizeMultiplier","mobFilter","calcPopupWidth","checkTextLength","popupKeyActions","updateAriaAttribute","homeNavigation","isHome","scrollEle","arrowDown","arrowUp","onKeyDown","altKey","selectByKey","spaceKeySelection","escapeAction","keyNavigation","checkBackCommand","moveByList","focuseElem","focusFirstListItem","selectAllParent","li_1","moveBy","selectListByKey","hideOverAllClear","isScrollerAtEnd","limit","isFilterData","selectAllItem","selectAllCheckBox","selectedElem","addChipSelection","currentChip","moveByTop","filterInputClassName","updateCheck","isVirtualElement","elementIndex","focusedLi","chipClick","elem","onChipRemove","customVal","setFloatLabelType","removeAllItems","isClearAll","mainElement","indexOfObjectInArray","removeVal","invokeCheckboxSelection","updateMainList","updateChipStatus","isSelectAll","targetEle","element_1","val_1","removeIndex","isRemoveSelection","currentRemoveValue","hideElement","currentValue_2","targetEle_1","isSelectAllTarget","clearAllCallback","element2","addValue","updateWrapperText","textValues","addListSelection","addChip","activeItems","inactiveItems","dispatchSelect","isNotTrigger","val_2","isServerRendered","updateListSelectEventCallback","getChip","closeElements","onMobileChipInteraction","chipElem","multiCompiler","multiselectTemplate","encodeHtmlEntities","title","setClass","classes","mouseOut","fieldProperty","listCurrentOptions","checkboxFilter","overAllHeight","selectAllHeight","unwireScrollEvents","checkboxFilterInput","wireScrollEvents","onListMouseDown","textVal","delim","out_index_1","valueLength","hiddenElementContent","state_2","valueItem","listValue","item_1","isChipRemove","addValidInputClass","isInitialVirtualData","removeListSelection","isCustomData","indexItem","noDataEle","isDynamicGroupItemUpdate","isReactTemplateUpdate","isAngularTemplateUpdate","temp_1","data_1","selectItems","mainlist","addListHover","delimChar","visibleListElements","groupValues","findGroupAttrtibutes","updateCheckBox","checked","unChecked","groupHeader","isDisabled","filterClear","CLOSEICON_CLASS","wrapperType","wrapperData","raminElement","remainCompildTemp","checkClearIconWidth","totalWidth","updateRemainWidth","updateRemainingText","remainTemp","totalTemp","newTemp","selectionLimit","textboxValueUpdate","firstItems","fragment_1","createDocumentFragment","concatenatedNodeList","updatedataValueItems","updateHiddenElement","beforeSelectArgs","preventSelectEvent","index_1","count_1","isVirtualSelectAll","hiddenValue","wrapperText","isRemoveAll","onLoadSelect","updateVal","removeDisabledItemsValue","dropDownIcon","reInitializePoup","msProps","checkvalue","typedValue","mainLiLength","liLength","SEARCHBOX_WRAPPER","DELIMITER_VIEW","checkInitialValue","dataIndex","indexValue","isData","optionsElement","valueCol","textCol","optionsLen","opt","listItems_2","checkAutoFocus","CheckBoxSelection","activeLi","activeEle","listSelection","setSelectAll","setDeviceSearchBox","getFocus","setReorder","getActiveList","checboxCreate","setPopupFullScreen","checkboxEle","checkboxWrapper","validateCheckNode","checkWrap","isCheck","isPrevent","boundPreventListSelection","preventListSelection","stopPropagation","footerHeight","headerHeight","activeLiCount","remLi","ulEle_1","SelectionSettings","ToolbarSettings","ListBox","isDataSourceUpdate","ListBox_1","jsonData","originalElement","inputString","initLoad","isCustomFiltering","initialSelectedOptions","inputFormName","initWrapper","hiddenSelect","groupHdrs","aria-multiselectable","selectionSettings","updateSelectionSettings","showCheckbox","l10nSelect","checkBoxSelectionModule","initDraggable","allowDragAndDrop","Sortable","scope","itemClass","dragStart","triggerDragStart","drag","triggerDrag","beforeDrop","beforeDragEnd","drop","dragEnd","placeHolder","helper","sender","refEle","getZindexPartial","initToolbar","pos","toolbarSettings","prevScope","toolElem","createButtons","updateToolBarState","tBListBox","getComponent","getElementById","btn","moveTo","moveFrom","moveAllTo","moveAllFrom","Button","required","setHeight","spinner","refreshClearIcon","KeyUp","listBoxClasses","searchEle","filterElem","txtLength","noRecElem","filterWireEvents","inputSearch","isRendered","initToolbarAndStyles","setCheckboxPosition","setFiltering","badge","getDragArgs","dragSelected","isIos","overflow","dragEventArgs","allowDragAll","scrollParent","boundRect","stopTimer","clientY","timer","setInterval","setScrollDown","scrollElem","scrollPixel","isScrollDown","clearInterval","dragValue","droppedElement","getDataByValues","customDraggedItem","liColl","droppedData","selectedOptions","dropValue","listObj","getArgs","sourceArgs","destArgs","dragArgs","source","previousIndex","currentIndex","sourceArgs1","destination","targetListObj","ul_1","toSortIdx_1","toIdx_1","getCurIdx","rIdx","jsonIdx","sIdx","idx","jsonIdx_1","sIdx_1","fLiColl_1","currIdx_1","ul_2","fListData_1","fSortData_1","srcIdx","jsonSrcIdx","sortIdx","destIdx","liCollElem_1","removeSelected","sourceElem","sortable","placeHolderElement","dragArgs1","liCollElem","destElem","elems","triggerBeforeItemRender","curData","enableItems","canDisable_1","getSelectedItems","updateSelectedOptions","selElems","triggerChange","addItems","removeItems","removeItem","objValue","dupData","removeIdxes","removeLiIdxes","k","updateLiCollection","getElemByValue","moveUpDown","moveTop","moveBottom","targetId","tlistbox","getScopedListBox","moveData","toolbarAction","moveAllData","getDataList","getSortedList","sortData","liEle","getElementsByTagName","dataValue1","this_2","dataValue2","ulList","mainCount","ulEleCount","listindex","valueindex","form","keyDownHandler","focusOutHandler","wireToolbarEvent","formResetHandler","resizeHandler","getToolElem","toolbarClickHandler","unwireEvents","clearFilterIconElem","selectHandler","liItems","autocorrect","setProperty","isKey","currSelIdx","isSelect","selectedLi","metaKey","shiftKey","prevSelIdx","max","liDataValue_1","values","value1","selectedLis","getDataByElements","getDataByElems","formattedValue","moveItemTo","moveItemFrom","moveAllItemTo","moveAllItemFrom","isUp","isTop","isBottom","tempItems","reverse","jsonToIdx","fListBox","tListBox","dataIdx","tListData","tSortData","fliCollections","dataLiIdx","tliCollections","isRefresh","eData_1","ulChildren_1","lData_1","sData_1","jData_1","listDataMap_1","rLiCollection_1","n1","n2","toColl","tJsonData","selectNextList","inst","liIdx","childCnt","validIdx","getValidIndex","tempLiColl","flistboxarray","Number","newFlistboxArray","disabledData_1","obj1","obj2","fromIdx","toIdx","cbox","getGrabbedItems","grabbItems","isDragEnd","code","upDownKeyHandler","ul","fliIdx","fli","cli","selectedidx","sidx","eidx","eventArgsData_1","cul","updateSelectTag","clearSelection","dvalue_1","isText","canFocus","liselect","getSelectTag","checkDisabledState","listObj_1","wrap_1","listWrap","checkboxPosition","liCollLen","l10nShow","l10nSel","Mention","suffixText","allowSpaces","mentionChar","showMentionChar","initRemoteRender","isListResetted","isCollided","lineBreak","isRTE","keyEventName","isSelector","checkAndUpdateInternalComponent","isContentEditable","elementValue","onKeyUp","hideWaitingSpinner","spinnerTemplate","spinnerTemplateElement","isVue","showWaitingSpinner","setSpinnerTemplate","isKeyAction","getLastLetter","getTextRange","isUpDownKey","rangetextContent","isRteImage","range","getCurrentRange","startContainer","currentRange","lastWordRange","lastTwoLetters","Regex","charRegex","isMatchedText","charAt","substring","lastIndexOf","didPopupOpenByTypingInitialChar","isMatched","ownerDocument","getSelection","getRangeAt","setDataIndex","workingNodeContent","selectStartOffset","startOffset","startPos","words","popupEle_1","rteRootElement","coordinates_1","initializePopup","popupLeft_1","popupHeight_1","getTriggerCharPosition","getCoordinates","cssText","coordinates","mostRecentTriggerCharPos","actionOnScroll","div","span","globalRange","computed","selectedNodePosition","createRange","setStart","setEnd","endOffset","collapse","getClientRects","rectTop","rectLeft","iframes","iframe","contentDocument","iframeRect","doc","windowLeft","pageXOffset","clientLeft","windowTop","pageYOffset","clientTop","Node","TEXT_NODE","span_1","textNodeWidth","fontSize","offsetLeft","isSelectCancel","selectLi","displayTemplate","updateMentionValue","setDisplayTemplate","endPos","textSuffix","mentionVal","commonAncestorContainer","deleteContents","normalize","frag","lastNode","insertNode","cloneRange","setStartAfter","removeAllRanges","addRange","pointerType","event_1","CustomEvent","detail","click","myField","currentTriggerSnippet","showChar","displayTempElement","displayCompTemp","renderTemplates","callBack","spinnerCompTemp","detachMentionChanges","positionX","positionY","Inject","index.VirtualScroll","index.CheckBoxSelection"],"mappings":"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B,EAAappC,UAAW,4BAAyB,IACpD2U,GACIY,YAAS,IACV6zB,EAAappC,UAAW,qBAAkB,IAC7C2U,GACIY,YAAS,IACV6zB,EAAappC,UAAW,0BAAuB,IAClD2U,GACIY,YAAS,IACV6zB,EAAappC,UAAW,mBAAgB,IAC3C2U,GACIY,WAAS,KACV6zB,EAAappC,UAAW,eAAY,IACvC2U,GACIY,WAAS,qCACV6zB,EAAappC,UAAW,qBAAkB,IAC7C2U,GACIY,WAAS,MACV6zB,EAAappC,UAAW,oBAAiB,IAC5C2U,GACIY,YAAS,IACV6zB,EAAappC,UAAW,cAAW,IACtC2U,GACI8W,aAAYyd,KACbE,EAAappC,UAAW,aAAU,IACrC2U,GACIY,WAAS,OACV6zB,EAAappC,UAAW,2BAAwB,IACnD2U,GACIY,WAAS,eACV6zB,EAAappC,UAAW,iBAAc,IACzC2U,GACIY,WAAS,UACV6zB,EAAappC,UAAW,qBAAkB,IAC7C2U,GACIY,WAAS,OACV6zB,EAAappC,UAAW,qBAAkB,IAC7C2U,GACIY,YAAS,IACV6zB,EAAappC,UAAW,mBAAgB,IAC3C2U,GACIY,YAAS,IACV6zB,EAAappC,UAAW,iBAAc,IACzC2U,GACIY,WAAS,OACV6zB,EAAappC,UAAW,qBAAkB,IAC7C2U,GACIY,gBACD6zB,EAAappC,UAAW,qBAAkB,IAC7C2U,GACIY,WAAS,OACV6zB,EAAappC,UAAW,mBAAgB,IAC3C2U,GACIY,WAAS,YACV6zB,EAAappC,UAAW,WAAQ,IACnC2U,GACIY,WAAS,qBACV6zB,EAAappC,UAAW,wBAAqB,IAChD2U,GACIY,WAAS,OACV6zB,EAAappC,UAAW,kBAAe,IAC1C2U,GACIY,WAAS,UACV6zB,EAAappC,UAAW,kBAAe,IAC1C2U,GACIY,WAAS,SACV6zB,EAAappC,UAAW,iBAAc,IACzC2U,GACIY,YAAS,IACV6zB,EAAappC,UAAW,eAAY,IACvC2U,GACIY,YAAS,IACV6zB,EAAappC,UAAW,oBAAiB,IAC5C2U,GACIY,WAAS,eACV6zB,EAAappC,UAAW,oBAAiB,IAC5C2U,GACIY,YAAS,IACV6zB,EAAappC,UAAW,mBAAgB,IAC3C2U,GACIY,YAAS,IACV6zB,EAAappC,UAAW,yBAAsB,IACjD2U,GACIY,YAAS,IACV6zB,EAAappC,UAAW,0BAAuB,IAClD2U,GACIY,YAAS,IACV6zB,EAAappC,UAAW,sBAAmB,IAC9C2U,GACIY,YAAS,IACV6zB,EAAappC,UAAW,uBAAoB,IAC/C2U,GACIY,WAAS,SACV6zB,EAAappC,UAAW,gBAAa,IACxC2U,GACIY,WAAS,OACV6zB,EAAappC,UAAW,WAAQ,IACnC2U,GACI8W,aAAY0d,KACbC,EAAappC,UAAW,mBAAgB,IAC3C2U,GACIY,WAAS,iBACV6zB,EAAappC,UAAW,sBAAmB,IAC9C2U,GACIY,WAAS,OACV6zB,EAAappC,UAAW,YAAS,IACpC2U,GACIY,WAAS,OACV6zB,EAAappC,UAAW,oBAAiB,IAC5C2U,GACIY,WAAS,SACV6zB,EAAappC,UAAW,YAAS,IACpC2U,GACIY,WAAS,MACV6zB,EAAappC,UAAW,aAAU,IACrC2U,GACIY,YAAS,IACV6zB,EAAappC,UAAW,eAAY,IACvC2U,GACI+W,WACD0d,EAAappC,UAAW,oBAAiB,IAC5C2U,GACI+W,WACD0d,EAAappC,UAAW,iBAAc,IACzC2U,GACI+W,WACD0d,EAAappC,UAAW,aAAU,IACrC2U,GACI+W,WACD0d,EAAappC,UAAW,YAAS,IACpC2U,GACI+W,WACD0d,EAAappC,UAAW,WAAQ,IACnC2U,GACI+W,WACD0d,EAAappC,UAAW,cAAW,IACtC2U,GACI+W,WACD0d,EAAappC,UAAW,gBAAa,IACxC2U,GACI+W,WACD0d,EAAappC,UAAW,gBAAa,IACxC2U,GACI+W,WACD0d,EAAappC,UAAW,gBAAa,IACxC2U,GACI+W,WACD0d,EAAappC,UAAW,YAAS,IACpC2U,GACI+W,WACD0d,EAAappC,UAAW,eAAY,IACvC2U,GACI+W,WACD0d,EAAappC,UAAW,WAAQ,IACnC2U,GACI+W,WACD0d,EAAappC,UAAW,aAAU,IACrCopC,EAAez0B,GACXgX,yBACDyd,IAELxd,aCj9G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"}